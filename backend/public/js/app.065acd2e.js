(function(e){function t(t){for(var n,s,c=t[0],o=t[1],l=t[2],u=0,v=[];u<c.length;u++)s=c[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0dcc":function(e,t,a){},"199c":function(e,t){},"1f89":function(e,t,a){function n(e,t){if(""==t)return e;if(t.indexOf("%")>-1){var a=t.split("%"),n=Number(a[0]);return e-e*(n/100)}var r=Number(t);return e-r}a("c975"),a("a9e3"),a("ac1f"),a("1276"),e.exports={discounting:n}},"23be":function(e,t,a){"use strict";var n=a("199c"),r=a.n(n);t["default"]=r.a},"3a35":function(e,t,a){},"3dfd":function(e,t,a){"use strict";var n=a("6093"),r=a("23be"),i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"469d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=a("3dfd"),i=a("f309");n["a"].use(i["a"]);var s=new i["a"]({}),c=a("8c4f"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticStyle:{padding:"1rem",margin:"1rem"}},[a("v-card-title",[e._v("Login")]),a("v-form",[a("v-text-field",{attrs:{label:"Username"},model:{value:e.uname,callback:function(t){e.uname=t},expression:"uname"}}),a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:e.upass,callback:function(t){e.upass=t},expression:"upass"}}),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.login()}}},[e._v("Login")])],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)],1)},l=[],d=(a("96cf"),a("1da1")),u=(a("99af"),a("d81d"),a("d3b7"),a("5530")),v=a("d4ec"),m=a("bee2"),_=a("bc3a"),p=a.n(_),h="/api/users",f=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"login",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{p.a.post(h+"/login",{uname:t,pass:a}).then((function(t){var a=t.data;e(a)}))}catch(r){n(r)}})));case 1:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"InsertUser",value:function(e,t,a){return p.a.post(h+"/user",{username:e,occupation:t,password:a})}},{key:"GetAllUsers",value:function(){return new Promise((function(e,t){try{p.a.get(h+"/users").then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetUserDetails",value:function(e){return new Promise((function(t,a){try{p.a.get(h+"/user-data/"+e).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"Logout",value:function(e){return p.a.delete(h+"/logout/"+e)}},{key:"GetUserPermissionList",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(h,"/uperms/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GetUserPermissionByID",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(h,"/uperm-by-id/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"ChangePassword",value:function(e,t){return p.a.post(h+"/userpass",{uid:e,pass:t})}},{key:"RemoveUser",value:function(e){return p.a.delete("".concat(h,"/user/").concat(e))}},{key:"RemovePermission",value:function(e,t){return p.a.delete("".concat(h,"/uperm/").concat(e,"/").concat(t))}},{key:"AddNewPermission",value:function(e,t){return p.a.post("".concat(h,"/uperm"),{uid:e,perm:t})}}]),e}(),b=f,g={name:"Home",components:{},data:function(){return{uname:"",upass:"",error:"",snackbar:!1,timeout:2e3}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$store.commit("updateSettings"),null==localStorage.getItem("UserToken")){t.next=10;break}return a=localStorage.getItem("UserToken"),e.$store.commit("checkpermissions",a),t.next=6,b.GetUserDetails(a);case 6:n=t.sent,localStorage.setItem("username",n[0].username),localStorage.setItem("occupation",n[0].occupation),e.$router.push("/dashboard");case 10:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.login(e.uname,e.upass);case 3:return a=t.sent,localStorage.setItem("UserToken",a),e.$store.commit("checkpermissions",a),t.next=8,b.GetUserDetails(a);case 8:n=t.sent,localStorage.setItem("username",n[0].username),localStorage.setItem("occupation",n[0].occupation),e.$router.push("/dashboard"),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),e.error="Errors Found",e.snackbar=!0;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}},x=g,k=a("2877"),y=a("6544"),w=a.n(y),S=a("7496"),I=a("8336"),V=a("b0af"),C=a("99d9"),R=a("62ad"),A=a("a523"),D=a("4bd4"),T=a("f6c4"),P=a("0fd9"),O=a("2db4"),q=a("8654"),N=Object(k["a"])(x,o,l,!1,null,null,null),j=N.exports;w()(N,{VApp:S["a"],VBtn:I["a"],VCard:V["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VForm:D["a"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VTextField:q["a"]});var G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dark:""}},[a("v-toolbar-title",{on:{click:function(t){return e.changes(1)}}},[e._v(e._s(e.username))]),a("v-menu",{staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-plus")])],1)]}}])},[a("v-list",[e.vi?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"Items"}}}},[a("v-list-item-title",[e._v("Items")])],1):e._e(),e.vs?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"Suppliers"}}}},[a("v-list-item-title",[e._v("Suppliers")])],1):e._e(),e.vc?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"Customers"}}}},[a("v-list-item-title",[e._v("Customers")])],1):e._e(),e.vat?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"VAT"}}}},[a("v-list-item-title",[e._v("VAT")])],1):e._e(),e.pettyCash?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"Petty Cash"}}}},[a("v-list-item-title",[e._v("Petty Cash")])],1):e._e(),e.mainCash?a("v-list-item",{attrs:{to:{name:"Add",params:{selection:"Main Expenses"}}}},[a("v-list-item-title",[e._v("Main Expenses")])],1):e._e()],1)],1),a("v-menu",{staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-shopping")])],1)]}}])},[a("v-list",[e.epo?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"PO"}}}},[a("v-list-item-title",[e._v("Purchase Order")])],1):e._e(),e.egrn?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"GRN"}}}},[a("v-list-item-title",[e._v("Good Receive Notes")])],1):e._e(),e.egren?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"GREN"}}}},[a("v-list-item-title",[e._v("Purchase Return Note")])],1):e._e()],1)],1),a("v-menu",{staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-cart")])],1)]}}])},[a("v-list",[e.einv?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"INV"}}}},[a("v-list-item-title",[e._v("Invoice")])],1):e._e(),e.eord?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"MRN"}}}},[a("v-list-item-title",[e._v("Item Request")])],1):e._e(),e.eirn?a("v-list-item",{attrs:{to:{name:"Transactions",params:{docutype:"MREN"}}}},[a("v-list-item-title",[e._v("Invoice Return")])],1):e._e()],1)],1),e.pay_perm?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""},on:{click:function(t){return e.changes(12)}}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-cash-check")])],1)]}}],null,!1,2096999978)},[a("span",[e._v("Payments")])]):e._e(),e.stc_perm?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{to:"/str",icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-file-chart")])],1)]}}],null,!1,416772413)},[a("span",[e._v("Stock Report Document")])]):e._e(),e.reportPerm?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{to:"/reports",icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-chart-multiline")])],1)]}}],null,!1,267209364)},[a("span",[e._v("Reports")])]):e._e(),e.settingbtn?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""},on:{click:function(t){return e.settings()}}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-cog")])],1)]}}],null,!1,1402787168)},[a("span",[e._v("Settings")])]):e._e(),e.pettyCashn?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{to:"/pettycash",icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-notebook")])],1)]}}],null,!1,4151036867)},[a("span",[e._v("Petty Cash")])]):e._e(),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticStyle:{"margin-left":"1rem","margin-right":"1rem"},attrs:{icon:""},on:{click:function(t){return e.logout()}}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-exit-to-app")])],1)]}}])},[a("span",[e._v("Logout")])])],1),e.dash?a("v-main",[e.changeUser?a("v-alert",{staticStyle:{margin:"1rem"},attrs:{outlined:"",type:"warning",prominent:"",border:"left"}},[e._v(" Create new Account for Administrate and Remove Admin Account from your system. ")]):e._e(),a("v-card",{staticStyle:{margin:"5rem"}},[a("v-card-actions",[a("v-spacer"),a("v-avatar",{attrs:{color:"grey",large:""}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-account-circle")])],1),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),a("v-card-title",[e._v(e._s(e.username))]),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),null!=e.occupation?a("v-card-subtitle",[e._v(e._s(e.occupation))]):e._e(),a("v-spacer")],1)],1)],1):e._e(),e.advance?a("v-main",[a("Payments")],1):e._e()],1)},E=[],L=(a("ac1f"),a("5319"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",[a("v-tab",[e._v("Recipt")]),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-title",[e._v("Recipt")]),a("v-container",[a("v-row",[a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Advance Received")]),a("v-form",[a("v-card",{staticStyle:{padding:"20px"},attrs:{flat:"",outlined:""}},[e.selectedStake.length>0?a("p",[a("b",[e._v(e._s(e.selectedStake[0].name))]),a("br"),e._v(" "+e._s(e.selectedStake[0].address1)),a("br"),e._v(" "+e._s(e.selectedStake[0].address2)),a("br"),e._v(" "+e._s(e.selectedStake[0].address3)),a("br"),a("i",[e._v(e._s(e.selectedStake[0].email)),a("br"),e._v(" "+e._s(e.selectedStake[0].telephone))])]):e._e(),0==e.selectedStake.length?a("v-btn",{staticStyle:{"margin-bottom":"1rem"},attrs:{text:""},on:{click:function(t){e.custDialog=!0}}},[e._v("Add Customer")]):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Bank Pay"},model:{value:e.abank,callback:function(t){e.abank=t},expression:"abank"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cash Pay"},model:{value:e.acash,callback:function(t){e.acash=t},expression:"acash"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cheque Pay"},model:{value:e.acheque,callback:function(t){e.acheque=t},expression:"acheque"}}),a("v-spacer")],1),e.abank?a("v-card-subtitle",[e._v("Bank Payment")]):e._e(),e.abank?a("v-card-actions",[a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Transaction ID",outlined:""},model:{value:e.btid,callback:function(t){e.btid=t},expression:"btid"}}),a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.btamount,callback:function(t){e.btamount=t},expression:"btamount"}})],1):e._e(),e.acheque?a("v-card-subtitle",[e._v("Cheque Payment")]):e._e(),e.acheque?a("v-card-actions",[a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Cheque ID",outlined:""},model:{value:e.chid,callback:function(t){e.chid=t},expression:"chid"}}),a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.chamount,callback:function(t){e.chamount=t},expression:"chamount"}})],1):e._e(),e.acash?a("v-card-subtitle",[e._v("Cash Payment")]):e._e(),e.acash?a("v-text-field",{attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.cashamount,callback:function(t){e.cashamount=t},expression:"cashamount"}}):e._e(),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.addAdvance()}}},[e._v("Add & Take Recipt")])],1)],1)],1),a("v-col",{attrs:{md:"6",sm:"12"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Deter Received")]),a("v-form",[a("v-card",{staticStyle:{padding:"20px"},attrs:{outlined:"",flat:""}},[null!=e.addedInv?a("p",[e._v("ID : "+e._s(e.addedInv.id)),a("br"),e._v("Amount : "+e._s(e.addedInv.maxpay))]):e._e(),null==e.addedInv?a("v-btn",{staticStyle:{"margin-bottom":"1rem"},attrs:{text:""},on:{click:function(t){e.invDialog=!0}}},[e._v("Invoice")]):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Bank Pay"},model:{value:e.dbank,callback:function(t){e.dbank=t},expression:"dbank"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cash Pay"},model:{value:e.dcash,callback:function(t){e.dcash=t},expression:"dcash"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cheque Pay"},model:{value:e.dcheque,callback:function(t){e.dcheque=t},expression:"dcheque"}}),a("v-spacer")],1),e.dbank?a("v-card-subtitle",[e._v("Bank Payment")]):e._e(),e.dbank?a("v-card-actions",[a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Transaction ID",outlined:""},model:{value:e.cbtid,callback:function(t){e.cbtid=t},expression:"cbtid"}}),a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.cbtamount,callback:function(t){e.cbtamount=t},expression:"cbtamount"}})],1):e._e(),e.dcheque?a("v-card-subtitle",[e._v("Cheque Payment")]):e._e(),e.dcheque?a("v-card-actions",[a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Cheque ID",outlined:""},model:{value:e.cchid,callback:function(t){e.cchid=t},expression:"cchid"}}),a("v-text-field",{staticStyle:{margin:"2px"},attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.cchamount,callback:function(t){e.cchamount=t},expression:"cchamount"}})],1):e._e(),e.dcash?a("v-card-subtitle",[e._v("Cash Payment")]):e._e(),e.dcash?a("v-text-field",{attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.ccashamount,callback:function(t){e.ccashamount=t},expression:"ccashamount"}}):e._e(),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.insertCredit()}}},[e._v("Add & Take Recipt")])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"80rem"},model:{value:e.invDialog,callback:function(t){e.invDialog=t},expression:"invDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Select Credited Invoice")]),a("v-spacer"),a("v-text-field",{model:{value:e.invSearch,callback:function(t){e.invSearch=t},expression:"invSearch"}})],1),a("v-data-table",{attrs:{"single-select":!0,"show-select":"",search:e.invSearch,items:e.incompletedInvoices,headers:e.invHead},model:{value:e.selectedInvoice,callback:function(t){e.selectedInvoice=t},expression:"selectedInvoice"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.cancel()}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.addInvoice()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.advance_recipt_dialog,callback:function(t){e.advance_recipt_dialog=t},expression:"advance_recipt_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Advance Recipt")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.print_advance()}}},[a("v-icon",[e._v("mdi-printer-pos")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.advance_recipt_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("div",{attrs:{id:"print_advance_area"}},[null!=e.inserted_advance_data?a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif",padding:"1rem"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)+" "),a("br"),e._v(" "),a("b",[e._v("Advance Payment")])])]),a("div",{staticStyle:{"text-align":"center"}},[a("p",[a("b",[e._v("ID : "+e._s(e.inserted_advance_data.id)+" "),a("br"),e._v(" Date : ")]),e._v(e._s(e.inserted_advance_data.date)+" "),a("b",[e._v("Customer ID :")]),e._v(e._s(e.inserted_advance_data.stake_id)+" "),a("br"),e._v(" Customer : "+e._s(e.inserted_advance_data.name)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address1)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address2)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address3)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.email)+" "),a("br")])]),a("table",{staticStyle:{"border-collapse":"collapse",width:"100%"},attrs:{border:"1"}},[a("tr",[a("th",[e._v("Type")]),a("th",[e._v("ID")]),a("th",[e._v("Amount")])]),a("tr",[a("td",[e._v("Bank")]),a("td",[e._v(e._s(e.inserted_advance_data.bankid))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.bank))])]),a("tr",[a("td",[e._v("Cheque")]),a("td",[e._v(e._s(e.inserted_advance_data.chequeid))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.cheque))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Cash")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.cash))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.total))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Available")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.available))])])])]):e._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.custDialog,callback:function(t){e.custDialog=t},expression:"custDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Select Customer")]),a("v-spacer"),a("v-text-field",{model:{value:e.custSearch,callback:function(t){e.custSearch=t},expression:"custSearch"}})],1),a("v-data-table",{attrs:{items:e.allStakes,search:e.custSearch,headers:e.headers,"show-select":"","single-select":!0},model:{value:e.selectedStake,callback:function(t){e.selectedStake=t},expression:"selectedStake"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.cancel()}}},[e._v("Cancel")]),e.selectedStake.length>0?a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.custDialog=!1}}},[e._v("Add")]):e._e()],1)],1)],1)],1),a("v-tab",[e._v("Payment for suppliers")]),a("v-tab-item",[a("OPayments")],1),a("v-tab",[e._v("Set-off")]),a("v-tab-item",[a("payfor-supplier")],1),a("v-tab",[e._v("Main Expenses")]),a("v-tab-item",[a("MxTrans")],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)}),$=[],F=(a("fb6a"),a("a9e3"),"/api/stake"),U=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"GetAllStakes",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){try{p.a.get("".concat(F,"/").concat(t)).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"RemoveStake",value:function(e){return p.a.delete("".concat(F,"/").concat(e))}},{key:"getStakeFromID",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(F,"/one/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"StartStake",value:function(e){return p.a.get("".concat(F,"/start-stake/").concat(e))}},{key:"InsertNewStake",value:function(e,t,a,n,r,i,s){return p.a.post(F,{name:e,add1:t,add2:a,add3:n,email:r,tele:i,type:s})}}]),e}(),B=U,H="/api/pay",M=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"InsertCreditGrn",value:function(e,t,a,n,r,i,s,c){return new Promise((function(o,l){try{p.a.post("".concat(H,"/credit-grn-pay"),{id:e,date:(new Date).toISOString().slice(0,10),cash:a,paid:t,bank:n,cheque:r,bankid:i,cheqid:s,user:c}).then((function(e){var t=e.data;o(t)}))}catch(d){l(d)}}))}},{key:"InsertAdvance",value:function(e,t,a,n,r,i,s,c){return new Promise((function(o,l){try{p.a.post("".concat(H,"/adv"),{date:e,stakeholder:t,total:a,cash:n,trid:r,bank:i,checkid:s,checkam:c}).then((function(e){var t=e.data;o(t)}))}catch(d){l(d)}}))}},{key:"PendingPayments",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(H,"/allstake")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"InsertCreditPay",value:function(e,t,a){return p.a.post("".concat(H,"/credit-invoice"),{transaction:e,invoice:a,amount:t})}},{key:"PayAdvanceGrn",value:function(e,t){return p.a.post("".concat(H,"/pay-advance-grn"),{grns:e,advances:t})}},{key:"getUnpaidAdvancesSupplier",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(H,"/unpaid-advances-supplier/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETAdvance",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(H,"/advance/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETAllAdvances",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(H,"/advance-list/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETIncompletedInvoices",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(H,"/credited-invoices")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetAdvancesByStake",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(H,"/adv-by-stake/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}}]),e}(),Q=M,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card-title",[e._v("Payments")]),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"6",lg:"6"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Advance Payments")]),a("button",{staticClass:"new_btn_style",on:{click:function(t){e.stakeSelectDialog=!0}}},[e._v("Select Supplier")]),a("p",[a("b",[e._v("Supplier : ")]),null!=e.selectedStake?a("span",[e._v(" "+e._s(e.selectedStake.name)),a("br"),e._v(" "+e._s(e.selectedStake.address1)),a("br"),e._v(" "+e._s(e.selectedStake.address2)),a("br"),e._v(" "+e._s(e.selectedStake.address3)),a("br")]):e._e(),a("br"),a("b",[e._v("total : ")]),e._v(" "+e._s(this.advance_total.toFixed(2)))]),a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cash"},model:{value:e.cash,callback:function(t){e.cash=t},expression:"cash"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Bank"},model:{value:e.bank,callback:function(t){e.bank=t},expression:"bank"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cheque"},model:{value:e.cheque,callback:function(t){e.cheque=t},expression:"cheque"}}),a("v-spacer")],1),e.cash?a("div",[a("v-text-field",{attrs:{label:"Cash Amount",step:"0.01",type:"number",outlined:""},model:{value:e.cash_am,callback:function(t){e.cash_am=t},expression:"cash_am"}})],1):e._e(),e.bank?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Transaction ID",outlined:""},model:{value:e.bank_id,callback:function(t){e.bank_id=t},expression:"bank_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.bank_am,callback:function(t){e.bank_am=t},expression:"bank_am"}})],1)],1):e._e(),e.cheque?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Cheque Number",outlined:""},model:{value:e.cheque_id,callback:function(t){e.cheque_id=t},expression:"cheque_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Cheque Amount",outlined:"",step:"0.01",type:"number"},model:{value:e.cheque_am,callback:function(t){e.cheque_am=t},expression:"cheque_am"}})],1)],1):e._e(),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.pay_recipt_advance()}}},[e._v("Pay and Take Recipt")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"6",lg:"6"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Credit Payments")]),a("button",{staticClass:"new_btn_style",on:{click:function(t){e.selectGrnDialog=!0}}},[e._v("Select GRN")]),null!=e.selectedGrn?a("p",[a("b",[e._v("GRN Id : ")]),e._v(e._s(e.selectedGrn.id)),a("br"),a("b",[e._v("Supplier : ")]),e._v(e._s(e.selectedGrn.name)+","+e._s(e.selectedGrn.address1)+","+e._s(e.selectedGrn.address2)+","+e._s(e.selectedGrn.address3)),a("br"),a("b",[e._v("Final : ")]),e._v(e._s(e.selectedGrn.final)),a("br"),a("b",[e._v("Now Paid : ")]),e._v(e._s(e.credit_paid.toFixed(2))),a("br"),a("b",[e._v("Need to Pay :")]),e._v(" "+e._s(Number(e.selectedGrn.final)-Number(e.selectedGrn.paid)))]):e._e(),a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cash"},model:{value:e.c_cash,callback:function(t){e.c_cash=t},expression:"c_cash"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Bank"},model:{value:e.c_bank,callback:function(t){e.c_bank=t},expression:"c_bank"}}),a("v-spacer"),a("v-switch",{attrs:{inset:"",label:"Cheque"},model:{value:e.c_cheque,callback:function(t){e.c_cheque=t},expression:"c_cheque"}}),a("v-spacer")],1),e.c_cash?a("div",[a("v-text-field",{attrs:{label:"Cash Amount",step:"0.01",type:"number",outlined:""},model:{value:e.c_cash_am,callback:function(t){e.c_cash_am=t},expression:"c_cash_am"}})],1):e._e(),e.c_bank?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Transaction ID",outlined:""},model:{value:e.c_bank_id,callback:function(t){e.c_bank_id=t},expression:"c_bank_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Amount",step:"0.01",type:"number",outlined:""},model:{value:e.c_bank_am,callback:function(t){e.c_bank_am=t},expression:"c_bank_am"}})],1)],1):e._e(),e.c_cheque?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Cheque Number",outlined:""},model:{value:e.c_cheque_id,callback:function(t){e.c_cheque_id=t},expression:"c_cheque_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Cheque Amount",outlined:"",step:"0.01",type:"number"},model:{value:e.c_cheque_am,callback:function(t){e.c_cheque_am=t},expression:"c_cheque_am"}})],1)],1):e._e(),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.grn_credit_add()}}},[e._v("Pay")])],1)],1)],1)],1),a("v-dialog",{attrs:{width:"70rem"},model:{value:e.selectGrnDialog,callback:function(t){e.selectGrnDialog=t},expression:"selectGrnDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Add Credited Grn")]),a("v-spacer"),a("v-text-field",{attrs:{label:"search"},model:{value:e.searchGrn,callback:function(t){e.searchGrn=t},expression:"searchGrn"}})],1),a("v-data-table",{attrs:{search:e.searchGrn,items:e.allCreditedGrns,headers:e.creditGrnHeaders},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return e.add_grn(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.advance_recipt_dialog,callback:function(t){e.advance_recipt_dialog=t},expression:"advance_recipt_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Advance Recipt")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.print_advance()}}},[a("v-icon",[e._v("mdi-printer-pos")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.advance_recipt_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("div",{attrs:{id:"print_advance_area"}},[null!=e.inserted_advance_data?a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif",padding:"1rem"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)+" "),a("br"),e._v(" "),a("b",[e._v("Advance Payment")])])]),a("div",{staticStyle:{"text-align":"center"}},[a("p",[a("b",[e._v("ID : "+e._s(e.inserted_advance_data.id)+" "),a("br"),e._v(" Date : ")]),e._v(e._s(e.inserted_advance_data.date)+" "),a("b",[e._v("Supplier ID :")]),e._v(e._s(e.inserted_advance_data.stake_id)+" "),a("br"),e._v(" Supplier : "+e._s(e.inserted_advance_data.name)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address1)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address2)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.address3)+" "),a("br"),e._v(" "+e._s(e.inserted_advance_data.email)+" "),a("br")])]),a("table",{staticStyle:{"border-collapse":"collapse",width:"100%"},attrs:{border:"1"}},[a("tr",[a("th",[e._v("Type")]),a("th",[e._v("ID")]),a("th",[e._v("Amount")])]),a("tr",[a("td",[e._v("Bank")]),a("td",[e._v(e._s(e.inserted_advance_data.bankid))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.bank))])]),a("tr",[a("td",[e._v("Cheque")]),a("td",[e._v(e._s(e.inserted_advance_data.chequeid))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.cheque))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Cash")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.cash))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.total))])]),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("Available")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.inserted_advance_data.available))])])])]):e._e()])],1)],1),a("v-dialog",{attrs:{width:"70rem"},model:{value:e.stakeSelectDialog,callback:function(t){e.stakeSelectDialog=t},expression:"stakeSelectDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Add Supplier")]),a("v-spacer"),a("v-text-field",{attrs:{label:"search"},model:{value:e.searchStake,callback:function(t){e.searchStake=t},expression:"searchStake"}})],1),a("v-data-table",{attrs:{search:e.searchStake,headers:e.stakeSelectHeader,items:e.allStakeholders},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return e.add_stakeholder(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus")])],1)]}}])}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.stakeSelectDialog=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},z=[],W="/api/doc",J=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"GetAllDocuments",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(W,"/all")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetUnpaidDocuments",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(W,"/unpaid-grns/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GetCalculatedVats",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(W,"/calc-vats/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"InsertDoc",value:function(e,t,a,n,r,i,s,c,o,l,d,u,v,m,_){return new Promise((function(h,f){try{p.a.post(W+"/doc",{received:e,entered:(new Date).toISOString().slice(0,10),prevdoc:r,stakedoc:i,invoice:t,reference:a,vat_persent:l,disc_persent:d,vat_amount:u,desc_amount:v,final:m,payment_term:n,total:s,remarks:c,user:o,items:_}).then((function(e){var t=e.data;h(t)}))}catch(b){f(b)}}))}},{key:"GetGrnAllData",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(W,"/grn-details/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"GetFinalGrnAllData",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(W,"/final-grn-details/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"GetCreditGrn",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(W,"/credited-grn")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}}]),e}(),X=J,K={name:"OPayments",data:function(){return{searchStake:"",searchGrn:"",stakeSelectDialog:!1,selectGrnDialog:!1,selectedStake:null,inserted_advance_data:null,address:null,advance_recipt_dialog:!1,cash:!1,bank:!1,cheque:!1,cash_am:0,credit_paid:0,bank_am:0,cheque_am:0,advance_total:0,stakeSelectHeader:[{text:"",value:"controls"},{text:"Name",value:"name"},{text:"Address Line 1",value:"address1"},{text:"Address Line 2",value:"address2"},{text:"Address Line 3",value:"address3"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],bank_id:"",cheque_id:"",c_cash:!1,c_bank:!1,c_cheque:!1,c_cash_am:0,c_bank_am:0,c_cheque_am:0,c_bank_id:"",c_cheque_id:"",allStakeholders:[],allCreditedGrns:[],creditGrnHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Reference",value:"reference"},{text:"Total",value:"total"},{text:"Final",value:"final"},{text:"Paid",value:"paid"}],selectedGrn:null,user:0}},methods:{add_stakeholder:function(e){this.selectedStake=e,this.stakeSelectDialog=!1},pay_recipt_advance:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Number(e.cash_am)+Number(e.cheque_am)+Number(e.bank_am),t.next=3,Q.InsertAdvance((new Date).toISOString().slice(0,10),e.selectedStake.id,a,e.cash_am,e.bank_id,e.bank,e.cheque_id,e.cheque_am);case 3:e.inserted_advance_data=t.sent,e.advance_recipt_dialog=!0,e.cash_am=0,e.cheque_am=0,e.bank_am=0,e.cheque_id="",e.bank_id="",e.cash=!1,e.bank=!1,e.cheque=!1,e.selectedStake=null;case 14:case"end":return t.stop()}}),t)})))()},add_grn:function(e){this.selectedGrn=e,this.selectGrnDialog=!1},grn_credit_add:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.InsertCreditGrn(e.selectedGrn.id,e.credit_paid,e.c_cash_am,e.c_bank_am,e.c_cheque_am,e.c_bank_id,e.c_cheque_id,e.user);case 2:return t.next=4,X.GetCreditGrn();case 4:e.allCreditedGrns=t.sent,e.c_cash_am=0,e.c_bank_am=0,e.c_cheque_am=0,e.c_cash=!1,e.c_bank=!1,e.c_cheque=!1,e.c_bank_id="",e.c_cheque_id="",e.selectedGrn=null;case 14:case"end":return t.stop()}}),t)})))()},calculate_paid:function(){this.credit_paid=Number(this.c_cash_am)+Number(this.c_bank_am)+Number(this.c_cheque_am)},calculate_advanced:function(){this.advance_total=Number(this.cash_am)+Number(this.cheque_am)+Number(this.bank_am)}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.address={name:e.$store.getters.getName,add1:e.$store.getters.getAddress.add1,add2:e.$store.getters.getAddress.add2,add3:e.$store.getters.getAddress.add3,email:e.$store.getters.getEmail,tele:e.$store.getters.getTelephone},t.next=3,B.GetAllStakes("Suppliers");case 3:return e.allStakeholders=t.sent,t.next=6,X.GetCreditGrn();case 6:e.allCreditedGrns=t.sent,e.user=localStorage.getItem("UserToken");case 8:case"end":return t.stop()}}),t)})))()},watch:{c_cash_am:function(){this.calculate_paid()},c_bank_am:function(){this.calculate_paid()},c_cheque_am:function(){this.calculate_paid()},cash_am:function(){this.calculate_advanced()},bank_am:function(){this.calculate_advanced()},cheque_am:function(){this.calculate_advanced()}}},Z=K,ee=(a("f24c"),a("8fea")),te=a("169a"),ae=a("132d"),ne=a("2fa4"),re=a("b73d"),ie=a("71d9"),se=a("2a7f"),ce=Object(k["a"])(Z,Y,z,!1,null,null,null),oe=ce.exports;w()(ce,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VRow:P["a"],VSpacer:ne["a"],VSwitch:re["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Pay For Suppliers")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_tag,callback:function(t){e.search_tag=t},expression:"search_tag"}})],1),a("v-data-table",{attrs:{search:e.search_tag,items:e.all_stakes,headers:e.all_stake_headers},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_settlement_page(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{fullscreen:""},model:{value:e.settlement,callback:function(t){e.settlement=t},expression:"settlement"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Settlement")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.settlement=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("pfg",{attrs:{supplier:e.supplier_id}})],1)],1)],1)},de=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Pays For Grns")]),a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.payNow()}}},[e._v("Pay Now!")])],1),a("v-card-actions",[a("v-spacer"),a("v-chip",{staticClass:"dark_color",staticStyle:{margin:"5px"},attrs:{label:""}},[e._v("Num of Grns :"+e._s(e.selectedGrns.length)+" ")]),a("v-chip",{staticClass:"dark_color",staticStyle:{margin:"5px"},attrs:{label:""}},[e._v("Num of Advances :"+e._s(e.selectedAdvances.length)+" ")]),a("v-chip",{staticClass:"dark_color",staticStyle:{margin:"5px"},attrs:{label:""}},[e._v("GRN Total :"+e._s(e.grnTotal)+" ")]),a("v-chip",{staticClass:"dark_color",staticStyle:{margin:"5px"},attrs:{label:""}},[e._v("Advance Total :"+e._s(e.advanceTotal)+" ")]),a("v-spacer")],1),a("v-container",{attrs:{"ma-0":"","pa-0":"",fluid:""}},[a("v-row",[a("v-col",[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("GRNs")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_grn,callback:function(t){e.search_grn=t},expression:"search_grn"}})],1),a("v-data-table",{attrs:{search:e.search_grn,"show-select":"",items:e.unpaidGrns,headers:e.grnHeaders},scopedSlots:e._u([{key:"item.need_to_pay",fn:function(t){var n=t.item;return[a("p",[e._v(e._s(Number(n.final).toFixed(2)-Number(n.paid).toFixed(2)))])]}}]),model:{value:e.selectedGrns,callback:function(t){e.selectedGrns=t},expression:"selectedGrns"}})],1)],1),a("v-col",[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Advances")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_advance,callback:function(t){e.search_advance=t},expression:"search_advance"}})],1),a("v-data-table",{attrs:{items:e.unpaidAdvances,search:e.search_advance,"single-select":!0,"show-select":"",headers:e.advancesHeaders},model:{value:e.selectedAdvances,callback:function(t){e.selectedAdvances=t},expression:"selectedAdvances"}})],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},ve=[],me={props:["supplier"],data:function(){return{snackbar:!1,timeout:2e3,error:"",search_grn:"",search_advance:"",unpaidAdvances:[],selectedAdvances:[],advancesHeaders:[{text:"ID",value:"id"},{text:"Date",value:"date"},{text:"Total",value:"total"},{text:"Available",value:"available"}],unpaidGrns:[],selectedGrns:[],grnTotal:0,advanceTotal:0,grnHeaders:[{text:"ID",value:"id"},{text:"Date",value:"date"},{text:"GRN Final",value:"grn_final"},{text:"Returns",value:"total_returns"},{text:"Paid",value:"paid_yet"},{text:"Finalized",value:"final"}],grnPendingAmount:0,advanceAvailableAmount:0}},methods:{payNow:function(){1==this.selectedGrns.length&&1==this.selectedAdvances.length?Number(this.selectedAdvances[0].available)*Number(this.selectedGrns[0].final)>0?this.send_req():(this.error="You must need to select same signed values",this.snackbar=!0):2==this.selectedGrns.length&&0==this.selectedAdvances.length?Number(this.selectedGrns[0].final)*Number(this.selectedGrns[1].final)<0?this.send_req():(this.error="You must need to select different signed GRNs",this.snackbar=!0):(this.error="Number of selected Items are incompatible with system",this.snackbar=!0)},send_req:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Q.PayAdvanceGrn(e.selectedGrns,e.selectedAdvances);case 1:case"end":return t.stop()}}),t)})))()}},watch:{selectedGrns:function(){this.grnTotal=0;for(var e=0;e<this.selectedGrns.length;e++)this.grnTotal+=Number(this.selectedGrns[e].final)},selectedAdvances:function(){this.advanceTotal=0;for(var e=0;e<this.selectedAdvances.length;e++)this.advanceTotal+=Number(this.selectedAdvances[e].available)},supplier:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Q.getUnpaidAdvancesSupplier(this.supplier);case 2:return this.unpaidAdvances=e.sent,e.next=5,X.GetUnpaidDocuments(this.supplier);case 5:this.unpaidGrns=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.getUnpaidAdvancesSupplier(e.supplier);case 2:return e.unpaidAdvances=t.sent,t.next=5,X.GetUnpaidDocuments(e.supplier);case 5:e.unpaidGrns=t.sent;case 6:case"end":return t.stop()}}),t)})))()}},_e=me,pe=a("cc20"),he=Object(k["a"])(_e,ue,ve,!1,null,null,null),fe=he.exports;w()(he,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"]});var be={components:{pfg:fe},data:function(){return{search_tag:"",all_stakes:[],all_stake_headers:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"},{text:"Total Advance",value:"TotalAdvance"},{text:"Total GRN",value:"TotalGrn"},{text:"Total Return",value:"totalReturn"}],supplier_id:null,settlement:!1}},methods:{view_settlement_page:function(e){this.supplier_id=e,this.settlement=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.PendingPayments();case 2:e.all_stakes=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},ge=be,xe=Object(k["a"])(ge,le,de,!1,null,null,null),ke=xe.exports;w()(xe,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"3"}},[a("v-card",{staticStyle:{padding:"1rem"},attrs:{elevation:"2"}},[a("v-card-actions",[a("v-card-title",[e._v("Expense")]),a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){e.settlement_dialog=!0}}},[e._v("Settlement")])],1),a("v-select",{attrs:{items:e.all_acc,"item-text":"name","item-value":"id",label:"Select Account"},model:{value:e.selected_account_expense,callback:function(t){e.selected_account_expense=t},expression:"selected_account_expense"}}),a("v-select",{attrs:{items:e.expense_types,"item-text":"name","item-value":"id",label:"Select Type"},model:{value:e.selected_type_expense,callback:function(t){e.selected_type_expense=t},expression:"selected_type_expense"}}),a("v-text-field",{attrs:{label:"Description"},model:{value:e.expense_description,callback:function(t){e.expense_description=t},expression:"expense_description"}}),a("v-text-field",{attrs:{label:"Amount",type:"number",step:"0.01"},model:{value:e.expense_amount,callback:function(t){e.expense_amount=t},expression:"expense_amount"}}),a("v-textarea",{attrs:{outlined:"",label:"Remarks"},model:{value:e.expense_remarks,callback:function(t){e.expense_remarks=t},expression:"expense_remarks"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.main_expense()}}},[e._v("Add")])],1)],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"8",lg:"8",xl:"9"}},[a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_data,callback:function(t){e.search_data=t},expression:"search_data"}})],1),a("v-data-table",{attrs:{headers:e.data_table_headers,items:e.all_transi,search:e.search_data}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.settlement_dialog,callback:function(t){e.settlement_dialog=t},expression:"settlement_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Settlement")]),a("v-select",{attrs:{items:e.all_acc,"item-text":"name","item-value":"id",label:"Select Account"},model:{value:e.selected_account_setoff,callback:function(t){e.selected_account_setoff=t},expression:"selected_account_setoff"}}),a("v-select",{attrs:{items:e.setoff_types,"item-text":"name","item-value":"id",label:"select Type"},model:{value:e.selected_type_setoff,callback:function(t){e.selected_type_setoff=t},expression:"selected_type_setoff"}}),a("v-select",{attrs:{"return-object":"","item-text":"description",items:e.setoff_transactions,label:"Select Transaction"},model:{value:e.selected_trans,callback:function(t){e.selected_trans=t},expression:"selected_trans"}}),e._v(" Amount to Complete :"),null!=e.selected_trans?a("span",[e._v(" "+e._s(Number(e.selected_trans.amount)-Number(e.selected_trans.completed)))]):e._e(),a("br"),e._v(" Paid Now : "+e._s(e.total_setoff)+" "),a("v-card-actions",[a("v-switch",{attrs:{label:"Cash",inset:""},model:{value:e.cash_entry,callback:function(t){e.cash_entry=t},expression:"cash_entry"}}),a("v-spacer"),a("v-switch",{attrs:{label:"Bank",inset:""},model:{value:e.bank_entry,callback:function(t){e.bank_entry=t},expression:"bank_entry"}}),a("v-spacer"),a("v-switch",{attrs:{label:"Cheque",inset:""},model:{value:e.cheq_entry,callback:function(t){e.cheq_entry=t},expression:"cheq_entry"}})],1),e.cash_entry?a("div",[a("v-text-field",{attrs:{label:"Cash Amount"},model:{value:e.setoff_cash,callback:function(t){e.setoff_cash=t},expression:"setoff_cash"}})],1):e._e(),e.bank_entry?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Transaction ID"},model:{value:e.setoff_bank_id,callback:function(t){e.setoff_bank_id=t},expression:"setoff_bank_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Amount"},model:{value:e.setoff_bank,callback:function(t){e.setoff_bank=t},expression:"setoff_bank"}})],1)],1):e._e(),e.cheq_entry?a("div",[a("v-card-actions",[a("v-text-field",{attrs:{label:"Cheque ID"},model:{value:e.setoff_cheque_id,callback:function(t){e.setoff_cheque_id=t},expression:"setoff_cheque_id"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Amount"},model:{value:e.setoff_cheque,callback:function(t){e.setoff_cheque=t},expression:"setoff_cheque"}})],1)],1):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.settlement_dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.main_setoff()}}},[e._v("Settle")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},we=[],Se="/api/mainex",Ie=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"AddAccount",value:function(e,t){return p.a.post("".concat(Se,"/add-account"),{code:e,name:t})}},{key:"AddType",value:function(e,t){return p.a.post("".concat(Se,"/create-type"),{name:e,account:t})}},{key:"GetAllAccounts",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Se,"/all-accounts")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetTypeByAccount",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Se,"/types-by-acc/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"SetOff",value:function(e,t,a,n,r,i,s,c){return p.a.post("".concat(Se,"/setoff"),{date:e,main_trans:t,amount:a,cash:n,bank:r,cheque:i,chequeid:s,bankid:c})}},{key:"ExpenseMain",value:function(e,t,a,n,r,i){return p.a.post("".concat(Se,"/expense"),{date:e,account:t,type:a,description:n,amount:r,remarks:i})}},{key:"GetMainTransactions",value:function(e,t,a){return new Promise((function(n,r){try{p.a.post("".concat(Se,"/get-transactions"),{account:e,type:t,status:a}).then((function(e){var t=e.data;n(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(i){r(i)}}))}}]),e}(),Ve=Ie,Ce={name:"MxTrans",data:function(){return{data_table_headers:[{text:"ID",value:"id"},{text:"Account",value:"account_name"},{text:"Type",value:"type_name"},{text:"Description",value:"description"},{text:"Amount",value:"amount"},{text:"Completed",value:"completed"}],settlement_dialog:!1,cash_entry:!1,bank_entry:!1,all_transi:[],search_data:"",cheq_entry:!1,all_acc:[],selected_type_expense:null,selected_account_expense:null,expense_types:[],expense_description:"",expense_amount:"",error:"",timeout:2e3,snackbar:!1,expense_remarks:"",selected_account_setoff:null,setoff_types:[],selected_type_setoff:null,setoff_transactions:[],selected_trans:null,setoff_cash:0,setoff_bank:0,setoff_cheque:0,setoff_bank_id:"",setoff_cheque_id:"",total_setoff:0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve.GetAllAccounts();case 2:e.all_acc=t.sent,e.load_all_trans();case 4:case"end":return t.stop()}}),t)})))()},watch:{selected_account_expense:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.selected_account_expense){e.next=4;break}return e.next=3,Ve.GetTypeByAccount(this.selected_account_expense);case 3:this.expense_types=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selected_account_setoff:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.selected_account_setoff){e.next=4;break}return e.next=3,Ve.GetTypeByAccount(this.selected_account_setoff);case 3:this.setoff_types=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selected_type_setoff:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.selected_type_setoff){e.next=4;break}return e.next=3,Ve.GetMainTransactions(this.selected_account_setoff,this.selected_type_setoff,"not completed");case 3:this.setoff_transactions=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setoff_cash:function(){this.total_setoff=Number(this.setoff_cash)+Number(this.setoff_bank)+Number(this.setoff_cheque)},setoff_bank:function(){this.total_setoff=Number(this.setoff_cash)+Number(this.setoff_bank)+Number(this.setoff_cheque)},setoff_cheque:function(){this.total_setoff=Number(this.setoff_cash)+Number(this.setoff_bank)+Number(this.setoff_cheque)}},methods:{main_expense:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=(new Date).toISOString().slice(0,10),t.next=3,Ve.ExpenseMain(a,e.selected_account_expense,e.selected_type_expense,e.expense_description,e.expense_amount,e.expense_remarks);case 3:e.error="Successfully Expensed",e.snackbar=!0,e.selected_account_expense=null,e.selected_type_expense=null,e.expense_description="",e.expense_amount="",e.expense_remarks="",e.load_all_trans();case 11:case"end":return t.stop()}}),t)})))()},main_setoff:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=(new Date).toISOString().slice(0,10),t.next=3,Ve.SetOff(a,e.selected_trans.id,e.total_setoff,e.setoff_cash,e.setoff_bank,e.setoff_cheque,e.setoff_cheque_id,e.setoff_bank_id);case 3:e.error="Successfully Setoff",e.snackbar=!0,e.load_all_trans(),e.settlement_dialog=!1;case 7:case"end":return t.stop()}}),t)})))()},load_all_trans:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve.GetMainTransactions("ALL","ALL","ALL");case 2:e.all_transi=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},Re=Ce,Ae=a("b974"),De=a("a844"),Te=Object(k["a"])(Re,ye,we,!1,null,null,null),Pe=Te.exports;w()(Te,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VRow:P["a"],VSelect:Ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VSwitch:re["a"],VTextField:q["a"],VTextarea:De["a"]});var Oe={components:{PayforSupplier:ke,OPayments:oe,MxTrans:Pe},name:"Advance",data:function(){return{allStakes:[],selected:null,custSearch:"",invSearch:"",selectedStake:[],selectedInvoice:[],custDialog:!1,invDialog:!1,abank:!1,acheque:!1,acash:!1,invHead:[{text:"ID",value:"incid"},{text:"Date",value:"date"},{text:"Customer",value:"name"},{text:"Credited",value:"creditamount"},{text:"Total",value:"total"}],dbank:!1,dcash:!1,dcheque:!1,headers:[{text:"Name",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],btid:"",btamount:0,chid:"",chamount:0,cashamount:0,cbtid:"",cbtamount:0,inserted_advance_data:null,advance_recipt_dialog:!1,cchid:"",cchamount:0,ccashamount:0,snackbar:!1,error:"",timeout:2e3,incompletedInvoices:[],addedInv:null,reciptAdvDialog:!1,dialogVal:null,address:null}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.address={name:e.$store.getters.getName,add1:e.$store.getters.getAddress.add1,add2:e.$store.getters.getAddress.add2,add3:e.$store.getters.getAddress.add3,email:e.$store.getters.getEmail,tele:e.$store.getters.getTelephone},t.next=3,B.GetAllStakes("Customer");case 3:return e.allStakes=t.sent,t.next=6,Q.GETIncompletedInvoices();case 6:if(e.incompletedInvoices=t.sent,null!=e.$store.getters.getName){t.next=10;break}return t.next=10,e.$store.commit("updateSettings");case 10:case"end":return t.stop()}}),t)})))()},methods:{print_advance:function(){this.$htmlToPaper("print_advance_area")},cancel:function(){this.selectedStake.length=0,this.custDialog=!1,this.selectedInvoice.length=0,this.invDialog=!1},addAdvance:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.selectedStake.length){t.next=5;break}e.error="Please Add Customer before Submit",e.snackbar=!0,t.next=15;break;case 5:if(a=Number(e.btamount)+Number(e.chamount)+Number(e.cashamount),0!=a){t.next=11;break}e.error="Advanced Amount cannot be zero",e.snackbar=!0,t.next=15;break;case 11:return t.next=13,Q.InsertAdvance((new Date).toISOString().slice(0,10),e.selectedStake[0].id,a,e.cashamount,e.btid,e.btamount,e.chid,e.chamount);case 13:e.inserted_advance_data=t.sent,e.advance_recipt_dialog=!0;case 15:e.selectedStake.length=0,e.abank=!1,e.acash=!1,e.acheque=!1,e.btid="",e.btamount=0,e.chid="",e.chamount=0,e.cashamount=0;case 24:case"end":return t.stop()}}),t)})))()},addInvoice:function(){var e={id:this.selectedInvoice[0].id,maxpay:this.selectedInvoice[0].creditamount};this.addedInv=e,this.invDialog=!1},insertCredit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={amount:Number(e.cbtamount)+Number(e.cchamount)+Number(e.ccashamount),cashamount:Number(e.ccashamount),banktransactionid:e.cbtid,bankamount:Number(e.cbtamount),chequeNum:e.cchid,chequeamount:Number(e.cchamount)},e.dbank=!1,e.dcash=!1,e.dcheque=!1,e.cbtid="",e.cbtamount=0,e.cchid="",e.cchamount=0,e.ccashamount=0,!(Number(a.amount)<Number(e.addedInv.maxpay))){t.next=19;break}return t.next=12,Q.InsertCreditPay(a,a.amount,e.addedInv.id);case 12:return t.next=14,Q.GETIncompletedInvoices();case 14:e.incompletedInvoices=t.sent,e.error="Credit Payment Added Success!",e.snackbar=!0,t.next=21;break;case 19:e.error="Paid amount exceed credited amount. credited amount is "+e.addedInv.maxpay,e.snackbar=!0;case 21:e.addedInv=null;case 22:case"end":return t.stop()}}),t)})))()}}},qe=Oe,Ne=a("71a3"),je=a("c671"),Ge=a("fe57"),Ee=Object(k["a"])(qe,L,$,!1,null,null,null),Le=Ee.exports;w()(Ee,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardSubtitle:C["b"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VForm:D["a"],VIcon:ae["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VSwitch:re["a"],VTab:Ne["a"],VTabItem:je["a"],VTabs:Ge["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var $e={components:{Payments:Le},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userid=localStorage.getItem("UserToken"),e.occupation=localStorage.getItem("occupation"),e.username=localStorage.getItem("username"),null==localStorage.getItem("UserToken")&&e.$router.push("/"),null!=e.$store.getters.getName){t.next=7;break}return t.next=7,e.$store.commit("updateSettings");case 7:return t.next=9,e.$store.state.permissions;case 9:if(a=t.sent,0!=a.length){t.next=15;break}return e.$store.commit("checkpermissions",localStorage.getItem("UserToken")),t.next=14,e.$store.state.permissions;case 14:a=t.sent;case 15:for(n=0;n<a.length;n++)"Main Settings"!=a[n].permission&&"User Creation"!=a[n].permission&&"User Permitting"!=a[n].permission&&"Excel Upload"!=a[n].permission||(e.settingbtn=!0),"View Items"==a[n].permission&&(e.vi=!0),"View Suppliers"==a[n].permission&&(e.vs=!0),"View Customers"==a[n].permission&&(e.vc=!0),"View VAT"!=a[n].permission&&"Change VAT"!=a[n].permission||(e.vat=!0),"View VAT"!=a[n].permission&&"Change VAT"!=a[n].permission||(e.vat=!0),"Edit PO"==a[n].permission&&(e.epo=!0),"Edit GRN"==a[n].permission&&(e.egrn=!0),"Edit GREN"==a[n].permission&&(e.egren=!0),"Edit Order"==a[n].permission&&(e.eord=!0),"Edit Invoice"==a[n].permission&&(e.einv=!0),"Edit IRN"==a[n].permission&&(e.eirn=!0),"Petty Administrate"==a[n].permission&&(e.pettyCash=!0),"Petty View"!=a[n].permission&&"Petty Expense"!=a[n].permission&&"Petty Set Off"!=a[n].permission||(e.pettyCashn=!0),"Main Administrate"==a[n].permission&&(e.mainCash=!0),"View PO"!=a[n].permission&&"View GRN"!=a[n].permission&&"View GREN"!=a[n].permission&&"View Order"!=a[n].permission&&"View Invoice"!=a[n].permission&&"View IRN"!=a[n].permission&&"Stock Valuation Report"!=a[n].permission||(e.reportPerm=!0),"Recipt"!=a[n].permission&&"Payment"!=a[n].permission&&"Supplier Set Off"!=a[n].permission||(e.pay_perm=!0),"Create STC"!=a[n].permission&&"Print STC"!=a[n].permission&&"Edit STC"!=a[n].permission&&"History STC"!=a[n].permission||(e.stc_perm=!0);"Admin"==e.username&&(e.changeUser=!0);case 17:case"end":return t.stop()}}),t)})))()},data:function(){return{pettyCash:!1,pettyCashn:!1,reportPerm:!1,stc_perm:!1,pay_perm:!1,mainCash:!1,eord:!1,einv:!1,eirn:!1,epo:!1,egrn:!1,egren:!1,change_gren:!1,occupation:"",trdes:!0,settingbtn:!1,userid:"",username:"",dash:!0,changeUser:!1,advance:!1,vi:!1,vs:!1,vc:!1,vat:!1}},methods:{settings:function(){this.$router.replace({name:"Settings",params:{user:this.userid}})},logout:function(){try{b.Logout(localStorage.getItem("UserToken"))}catch(e){}localStorage.clear(),this.$router.push("/")},hide:function(){this.dash=!1,this.advance=!1},changes:function(e){switch(e){case 1:this.hide(),this.dash=!0;break;case 12:this.hide(),this.advance=!0;break}}}},Fe=$e,Ue=a("0798"),Be=a("40dc"),He=a("8212"),Me=a("8860"),Qe=a("da13"),Ye=a("5d23"),ze=a("e449"),We=a("3a2f"),Je=Object(k["a"])(Fe,G,E,!1,null,null,null),Xe=Je.exports;w()(Je,{VAlert:Ue["a"],VApp:S["a"],VAppBar:Be["a"],VAvatar:He["a"],VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardSubtitle:C["b"],VCardTitle:C["c"],VIcon:ae["a"],VList:Me["a"],VListItem:Qe["a"],VListItemTitle:Ye["c"],VMain:T["a"],VMenu:ze["a"],VSpacer:ne["a"],VToolbarTitle:se["a"],VTooltip:We["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dark:""}},[a("v-btn",{attrs:{to:"/dashboard",icon:""}},[a("v-icon",[e._v("mdi-home")])],1),a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),this.msPerm?a("v-switch",{attrs:{inset:"",label:"Statue"},on:{change:function(t){return e.updateChange()}},model:{value:e.transactive,callback:function(t){e.transactive=t},expression:"transactive"}}):e._e()],1),a("v-main",[a("v-tabs",[e.excel?a("v-tab",[e._v("Excel Upload")]):e._e(),e.excel?a("v-tab-item",[a("ExcelUpload")],1):e._e(),this.msPerm?a("v-tab",[e._v("SysTem Settings")]):e._e(),this.msPerm?a("v-tab-item",[a("v-card",{staticStyle:{padding:"2rem",margin:"2rem"}},[a("v-card-title",[e._v("Place Your Company Data Here")]),e.loading?a("v-progress-linear",{attrs:{indeterminate:"",dark:""}}):e._e(),a("v-form",[a("v-text-field",{attrs:{label:"Company Name"},model:{value:e.c_name,callback:function(t){e.c_name=t},expression:"c_name"}}),a("v-text-field",{attrs:{label:"Addressline 1"},model:{value:e.c_add1,callback:function(t){e.c_add1=t},expression:"c_add1"}}),a("v-text-field",{attrs:{label:"Addressline 2"},model:{value:e.c_add2,callback:function(t){e.c_add2=t},expression:"c_add2"}}),a("v-text-field",{attrs:{label:"Addressline 3"},model:{value:e.c_add3,callback:function(t){e.c_add3=t},expression:"c_add3"}}),a("v-text-field",{attrs:{label:"E-mail"},model:{value:e.c_email,callback:function(t){e.c_email=t},expression:"c_email"}}),a("v-text-field",{attrs:{label:"Telephone"},model:{value:e.c_tele,callback:function(t){e.c_tele=t},expression:"c_tele"}})],1),a("v-card-actions",[a("v-spacer"),e.changing?a("v-progress-circular",{staticStyle:{margin:"1rem"},attrs:{indeterminate:""}}):e._e(),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.changeData()}}},[e._v("Change")])],1)],1)],1):e._e(),e.userPerm?a("v-tab",[e._v("User Settings")]):e._e(),e.userPerm?a("v-tab-item",[a("Admin")],1):e._e()],1),a("v-snackbar",{attrs:{timeout:2e3},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.error)+" ")])],1)],1)},Ze=[],et="/api/setting",tt=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"updateSetting",value:function(e,t){return p.a.post(et,{name:e,status:t})}},{key:"UploadFile",value:function(e){var t=new FormData;return t.append("file",e),p.a.post("".concat(et,"/upload-item-data"),t)}},{key:"getAllPermissions",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(et,"/permissionlist")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"getSetting",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(et,"/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}}]),e}(),at=tt,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-main",{staticStyle:{"margin-top":"0","padding-top":"0"}},[a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-card",[a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.users,headers:e.headers,"item-key":"_id"},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("div",[e.cuperm?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changePwd(n.id)}}},[a("v-icon",[e._v("mdi-lock-alert")])],1):e._e(),e.cuperm?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.Remove(n.id)}}},[a("v-icon",[e._v("mdi-delete")])],1):e._e(),e.puperm?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.Permissions(n.id,n.username)}}},[a("v-icon",[e._v("mdi-link-lock")])],1):e._e()],1)]}}])})],1)],1),a("v-col",{attrs:{xs:"12",sm:"6",md:"6",lg:"6",xl:"6"}},[e.perm?a("v-card",{staticStyle:{"margin-bottom":"60px"}},[a("v-card-title",[e._v("Permissions "+e._s(e.permitter))]),a("v-expansion-panels",e._l(e.categorizedPermissions,(function(t,n){return a("v-expansion-panel",{key:n},[a("v-expansion-panel-header",[e._v(e._s(t.category))]),a("v-expansion-panel-content",[a("v-list",e._l(t.items,(function(t,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))]),a("v-list-item-subtitle",[e._v(e._s(t.category))])],1),a("v-list-item-action",[t.is_given?e._e():a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.givePerm(t.id)}}},[a("v-icon",[e._v("mdi-plus")])],1),t.is_given?a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.RemPer(t.id)}}},[a("v-icon",[e._v("mdi-minus")])],1):e._e()],1)],1)})),1)],1)],1)})),1)],1):e._e()],1)],1)],1),e.cuperm?a("v-btn",{attrs:{fab:"",dark:"",fixed:"",right:"",bottom:""},on:{click:function(t){return e.openNewUserDialog()}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e(),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.changep,callback:function(t){e.changep=t},expression:"changep"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Change Passowrd")]),a("v-text-field",{attrs:{type:"password",label:"New Password"},model:{value:e.changepass1,callback:function(t){e.changepass1=t},expression:"changepass1"}}),a("v-text-field",{attrs:{type:"password",label:"New Password(Again)"},model:{value:e.changepass2,callback:function(t){e.changepass2=t},expression:"changepass2"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.changep=!e.changep}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.changePass()}}},[e._v("Change")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("New User")]),a("v-text-field",{attrs:{label:"Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{label:"Occupation"},model:{value:e.occupation,callback:function(t){e.occupation=t},expression:"occupation"}}),a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),a("v-text-field",{attrs:{type:"password",label:"Password(Again)"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!e.dialog}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.createUser()}}},[e._v("Create")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)],1)},rt=[],it=(a("b0c0"),{data:function(){return{users:[],permissions:[],changepassid:"",changepass1:"",changepass2:"",model:1,changep:!1,categorizedPermissions:[],username:"",password1:"",password2:"",error:"",dialog:!1,snackbar:!1,timeout:3e3,perm:!1,ppusr:"",allprms:[],selectedperm:"",headers:[{text:"",value:"controls"},{text:"Occupation",value:"occupation"},{text:"Name",value:"username"}],cuperm:!1,permitter:"",puperm:!1,occupation:"",given:[],notgiven:[]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.GetAllUsers();case 2:return e.users=t.sent,t.next=5,at.getAllPermissions();case 5:return e.permissions=t.sent,t.next=8,e.$store.state.permissions;case 8:for(a=t.sent,n=0;n<a.length;n++)"User Permitting"==a[n].permission&&(e.puperm=!0),"User Creation"==a[n].permission&&(e.cuperm=!0);case 10:case"end":return t.stop()}}),t)})))()},methods:{openNewUserDialog:function(){this.dialog=!0},createUser:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.password1!=e.password2){t.next=5;break}return t.next=3,b.InsertUser(e.username,e.occupation,e.password1);case 3:t.next=7;break;case 5:e.error="passwords Not match",e.snackbar=!0;case 7:return t.next=9,b.GetAllUsers();case 9:e.users=t.sent,e.error="User Creation Success",e.snackbar=!0,e.username="",e.password1="",e.password2="",e.dialog=!1;case 16:case"end":return t.stop()}}),t)})))()},changePwd:function(e){this.changepassid=e,this.changep=!0},changePass:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.changepass1!=e.changepass2){t.next=7;break}return t.next=3,b.ChangePassword(e.changepassid,e.changepass1);case 3:e.error="Password Change Successs",e.snackbar=!0,t.next=9;break;case 7:e.error="passwords not match",e.snackbar=!0;case 9:e.changepass1="",e.changepass2="",e.changepassid="",e.changep=!1;case 13:case"end":return t.stop()}}),t)})))()},Remove:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=localStorage.getItem("UserToken"),n==e){a.next=11;break}return a.next=4,b.RemoveUser(e);case 4:return a.next=6,b.GetAllUsers();case 6:t.users=a.sent,t.error="Removed Success!",t.snackbar=!0,a.next=13;break;case 11:t.error="You Cannot Remove Yourself!",t.snackbar=!0;case 13:case"end":return a.stop()}}),a)})))()},Permissions:function(e,t){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.ppusr=e,a.perm=!0,a.permitter=t,a.PermissionDivider();case 4:case"end":return n.stop()}}),n)})))()},PermissionDivider:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.given.length=0,e.notgiven.length=0,t.next=4,b.GetUserPermissionByID(e.ppusr);case 4:e.allprms=t.sent,a=0;case 6:if(!(a<e.permissions.length)){t.next=21;break}n=!1,r=0;case 9:if(!(r<e.allprms.length)){t.next=17;break}if(e.permissions[a].name!=e.allprms[r].permission){t.next=14;break}return n=!0,e.permissions[a].is_given=!0,t.abrupt("break",17);case 14:r++,t.next=9;break;case 17:n||(e.permissions[a].is_given=!1);case 18:a++,t.next=6;break;case 21:e.categorize_permissions();case 22:case"end":return t.stop()}}),t)})))()},categorize_permissions:function(){this.categorizedPermissions=[];for(var e=0;e<this.permissions.length;e++){for(var t=!1,a=0;a<this.categorizedPermissions.length;a++)if(this.categorizedPermissions[a].category==this.permissions[e].category){this.categorizedPermissions[a].items=this.categorizedPermissions[a].items.concat(this.permissions[e]),t=!0;break}if(!t){var n={category:this.permissions[e].category,items:[this.permissions[e]]};this.categorizedPermissions=this.categorizedPermissions.concat(n)}}},RemPer:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b.RemovePermission(t.ppusr,e);case 2:return a.next=4,b.GetUserPermissionByID(t.ppusr);case 4:t.allprms=a.sent,t.PermissionDivider(),t.error="Removed Success",t.snackbar=!0;case 8:case"end":return a.stop()}}),a)})))()},givePerm:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,b.AddNewPermission(t.ppusr,e);case 2:return a.next=4,b.GetUserPermissionByID(t.ppusr);case 4:t.allprms=a.sent,t.PermissionDivider(),t.error="Inserted Success",t.snackbar=!0;case 8:case"end":return a.stop()}}),a)})))()}}}),st=it,ct=a("cd55"),ot=a("49e2"),lt=a("c865"),dt=a("0393"),ut=a("1800"),vt=Object(k["a"])(st,nt,rt,!1,null,null,null),mt=vt.exports;w()(vt,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VExpansionPanel:ct["a"],VExpansionPanelContent:ot["a"],VExpansionPanelHeader:lt["a"],VExpansionPanels:dt["a"],VIcon:ae["a"],VList:Me["a"],VListItem:Qe["a"],VListItemAction:ut["a"],VListItemContent:Ye["a"],VListItemSubtitle:Ye["b"],VListItemTitle:Ye["c"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{attrs:{"ma-0":"","pa-0":"",fluid:""}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[e._v("Upload Item List")]),a("ul",[a("li",[e._v("You must need to upload content as .csv Format")]),a("li",[e._v("We Require item fields like category,sub_category,code,name,unit,quantity,unit_price,unit_value,discount")])]),a("v-card-actions",[a("v-spacer"),a("v-file-input",{staticStyle:{"margin-right":"20px"},attrs:{label:"Insert File"},model:{value:e.uploadable_file,callback:function(t){e.uploadable_file=t},expression:"uploadable_file"}}),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.uploadFile()}}},[e._v("Upload & Run")])],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},pt=[],ht={name:"ExcelUpload",data:function(){return{uploadable_file:null,timeout:2e3,error:"",snackbar:!1}},created:function(){null==localStorage.getItem("UserToken")&&this.$router.push("/")},methods:{uploadFile:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,at.UploadFile(e.uploadable_file);case 2:e.uploadable_file=null,e.error="Success!",e.snackbar=!0;case 5:case"end":return t.stop()}}),t)})))()}}},ft=ht,bt=a("23a7"),gt=Object(k["a"])(ft,_t,pt,!1,null,null,null),xt=gt.exports;w()(gt,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VFileInput:bt["a"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"]});var kt={name:"Settings",components:{Admin:mt,ExcelUpload:xt},props:["user"],data:function(){return{transactive:!1,c_name:"",c_add1:"",c_add2:"",c_add3:"",c_email:"",c_tele:"",snackbar:!1,excel:!1,error:"",msPerm:!1,userPerm:!1,loading:!0,changing:!1}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null==localStorage.getItem("UserToken")&&e.$router.push("/"),e.$store.commit("checkpermissions",localStorage.getItem("UserToken")),t.next=4,e.$store.state.permissions;case 4:for(a=t.sent,n=0;n<a.length;n++)"Main Settings"==a[n].permission&&(e.msPerm=!0),"Excel Upload"==a[n].permission&&(e.excel=!0),"User Creation"!=a[n].permission&&"User Permitting"!=a[n].permission||(e.userPerm=!0);return t.next=8,at.getSetting("active");case 8:if(r=t.sent,"yes"==r[0].status?e.transactive=!0:e.transactive=!1,null!=e.$store.getters.getName){t.next=13;break}return t.next=13,e.$store.commit("updateSettings");case 13:e.c_name=e.$store.getters.getName,e.c_add1=e.$store.getters.getAddress.add1,e.c_add2=e.$store.getters.getAddress.add2,e.c_add3=e.$store.getters.getAddress.add3,e.c_email=e.$store.getters.getEmail,e.c_tele=e.$store.getters.getTelephone,e.loading=!1;case 20:case"end":return t.stop()}}),t)})))()},methods:{updateChange:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",a=e.transactive?"yes":"no",t.next=4,at.updateSetting("active",a);case 4:return t.next=6,at.getSetting("active");case 6:n=t.sent,"yes"==n[0].status?e.transactive=!0:e.transactive=!1,e.error="Transaction Status Changed",e.snackbar=!0;case 10:case"end":return t.stop()}}),t)})))()},changeData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.changing=!0,e.c_name==e.$store.getters.getName){t.next=4;break}return t.next=4,at.updateSetting("company_name",e.c_name);case 4:if(e.c_add1==e.$store.getters.getAddress.add1){t.next=7;break}return t.next=7,at.updateSetting("address1",e.c_add1);case 7:if(e.c_add2==e.$store.getters.getAddress.add2){t.next=10;break}return t.next=10,at.updateSetting("address2",e.c_add2);case 10:if(e.c_add3==e.$store.getters.getAddress.add3){t.next=13;break}return t.next=13,at.updateSetting("address3",e.c_add3);case 13:if(e.c_email==e.$store.getters.getEmail){t.next=16;break}return t.next=16,at.updateSetting("email",e.c_email);case 16:if(e.c_tele==e.$store.getters.getTelephone){t.next=19;break}return t.next=19,at.updateSetting("tele",e.c_tele);case 19:return t.next=21,e.$store.commit("updateSettings");case 21:e.changing=!1,e.error="Updates Done Success",e.snackbar=!0;case 24:case"end":return t.stop()}}),t)})))()}}},yt=kt,wt=a("490a"),St=a("8e36"),It=Object(k["a"])(yt,Ke,Ze,!1,null,null,null),Vt=It.exports;w()(It,{VApp:S["a"],VAppBar:Be["a"],VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VForm:D["a"],VIcon:ae["a"],VMain:T["a"],VProgressCircular:wt["a"],VProgressLinear:St["a"],VSnackbar:O["a"],VSpacer:ne["a"],VSwitch:re["a"],VTab:Ne["a"],VTabItem:je["a"],VTabs:Ge["a"],VTextField:q["a"],VToolbarTitle:se["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dark:"",flat:""}},[a("v-btn",{attrs:{to:"/dashboard",icon:""}},[a("v-icon",[e._v("mdi-home")])],1),a("v-spacer"),e._v(" "+e._s(e.docName)+" "),a("v-spacer")],1),e.po?a("PurchaseOrder"):e._e(),e.GRNdoc?a("GRN"):e._e(),e.inv?a("Invoice"):e._e(),e.ireq?a("IreqNote"):e._e(),e.iret?a("IretNote"):e._e(),e.pret?a("Gren"):e._e()],1)},Rt=[],At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{staticClass:"margin_top-setup",attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"2",lg:"2"}},[a("Type",{model:{value:e.po_type,callback:function(t){e.po_type=t},expression:"po_type"}})],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"4",lg:"3"}},[a("button",{staticClass:"new_btn_style",staticStyle:{width:"100%"},on:{click:function(t){e.sellerAddDialog=!0}}},[e._v("Add Supplier")]),a("p",[a("b",[e._v("Supplier : ")]),e.selectedStake.length>0?a("span",[e._v(e._s(e.selectedStake[0].name)),a("br"),e._v(" "+e._s(e.selectedStake[0].email)),a("br"),e._v(" "+e._s(e.selectedStake[0].telephone))]):e._e()])]),a("v-col",{staticClass:"border_simplex",attrs:{sm:"6",cols:"6",xs:"6",md:"3",lg:"4"}},[a("v-text-field",{attrs:{type:"date",label:"Required Date"},model:{value:e.required,callback:function(t){e.required=t},expression:"required"}}),a("v-text-field",{attrs:{label:"Delivery Term"},model:{value:e.delterm,callback:function(t){e.delterm=t},expression:"delterm"}}),a("v-text-field",{attrs:{label:"Payment Term"},model:{value:e.payterm,callback:function(t){e.payterm=t},expression:"payterm"}})],1),a("v-col",{staticClass:"border_simplex",attrs:{sm:"6",cols:"6",xs:"6",md:"3",lg:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-text-field",{attrs:{label:"Reference"},model:{value:e.reference,callback:function(t){e.reference=t},expression:"reference"}}),a("v-text-field",{attrs:{label:"VAT Percentage"},model:{value:e.vat_percentage,callback:function(t){e.vat_percentage=t},expression:"vat_percentage"}})],1),a("v-card-actions",[a("v-text-field",{attrs:{outlined:"",label:"Discount"},model:{value:e.disc,callback:function(t){e.disc=t},expression:"disc"}}),a("v-spacer"),a("v-text-field",{staticStyle:{"margin-left":"5px"},attrs:{outlined:"",label:"Barcode"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.barcode_add()}},model:{value:e.barcode,callback:function(t){e.barcode=t},expression:"barcode"}})],1),a("v-card-actions",[a("v-chip",{staticClass:"dark_color",attrs:{label:"",outlined:""}},[e._v("Total : "+e._s(e.total.toFixed(2)))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:"",outlined:""}},[e._v("Final : "+e._s(e.final.toFixed(2)))])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"8",lg:"8",xl:"8"}},[a("v-card",{staticStyle:{padding:"1rem"},attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.itemSearch,callback:function(t){e.itemSearch=t},expression:"itemSearch"}}),a("v-btn",{attrs:{fab:"",dark:"",small:"",top:"",right:""},on:{click:function(t){e.additemdialog=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{items:e.addedItems,"item-key":"item",search:e.itemSearch,headers:e.ItemHeader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.delete_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])}),a("v-divider")],1)],1),a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[e.progress?a("v-progress-linear",{staticStyle:{"margin-left":"10px","margin-right":"10px","margin-bottom":"10px"},attrs:{color:"black",indeterminate:"",height:"5",striped:""}}):e._e(),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.clear_added()}}},[e._v("Clear")]),e._v(" "),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.upload_created_po()}}},[e._v("Generate")]),a("v-textarea",{staticStyle:{margin:"1rem"},attrs:{outlined:"",label:"Remarks"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.additemdialog,callback:function(t){e.additemdialog=t},expression:"additemdialog"}},[a("v-card",[a("v-data-iterator",{attrs:{items:e.allItemsGot,search:e.search_items_on_list},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{attrs:{dark:""}},[a("v-text-field",{attrs:{label:"Search",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search_items_on_list,callback:function(t){e.search_items_on_list=t},expression:"search_items_on_list"}}),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.additemdialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{staticStyle:{margin:"1rem"}},e._l(t.items,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[a("v-card",{attrs:{elevation:"6"}},[a("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t.name))]),a("p",{staticStyle:{"text-align":"center"}},[e._v("Category : "+e._s(t.category_name)),a("br"),e._v(" Sub Category : "+e._s(t.type_name)),a("br"),e._v(" Unit Price : "+e._s(t.price)),a("br"),e._v(" Available: "+e._s(t.quantity))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(a){return e.add_me(t)}}},[e._v("Add")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.sellerAddDialog,callback:function(t){e.sellerAddDialog=t},expression:"sellerAddDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Add Seller")]),a("v-spacer"),a("v-text-field",{model:{value:e.stakesearch,callback:function(t){e.stakesearch=t},expression:"stakesearch"}})],1),a("v-data-table",{attrs:{items:e.stakeholderlist,headers:e.stakeheaders,"single-select":!0,"show-select":"","item-key":"id",search:e.stakesearch},model:{value:e.selectedStake,callback:function(t){e.selectedStake=t},expression:"selectedStake"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.sellerAddDialog=!1}}},[e._v("Cancel")]),e.selectedStake.length>0?a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){e.sellerAddDialog=!1}}},[e._v("Add")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.changeItemDialog,callback:function(t){e.changeItemDialog=t},expression:"changeItemDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Change")]),a("v-text-field",{attrs:{label:"Quantity"},model:{value:e.itqty,callback:function(t){e.itqty=t},expression:"itqty"}}),a("v-text-field",{attrs:{label:"Unit Price"},model:{value:e.itup,callback:function(t){e.itup=t},expression:"itup"}}),a("v-text-field",{attrs:{label:"Discount"},model:{value:e.itdisc,callback:function(t){e.itdisc=t},expression:"itdisc"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.changeItemDialog=!1}}},[e._v("Cancel")]),0!=e.itqty&&0!=e.itup?a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.change_item_data()}}},[e._v("Add")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.printerdi,callback:function(t){e.printerdi=t},expression:"printerdi"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Purchase Order")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printerdi=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("POPrinter",{attrs:{id:e.poid}})],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},Dt=[],Tt=(a("a434"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{dark:""},on:{click:function(t){return e.print_document()}}},[e._v("Print")])],1),a("div",{attrs:{id:"print_space"}},[a("div",{staticStyle:{padding:"10px","font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)+" "),a("br"),e._v(" "),a("b",[e._v("Purchase Order")])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"padding-left":"1rem"}},[a("p",[a("b",[e._v("System ID : "+e._s(e.purchase_order.id)+" "),a("br"),e._v(" Reference : "+e._s(e.purchase_order.reference)+" "),a("br"),e._v(" Requested : ")]),e._v(e._s(e.purchase_order.requested)+" "),a("br"),a("b",[e._v("Required : ")]),e._v(e._s(e.purchase_order.required)),a("br")]),a("hr"),a("p",[a("b",[e._v("Type : ")]),e._v(e._s(e.purchase_order.type)+" ")])]),a("div",{staticStyle:{"padding-right":"1rem"}},[a("p",[a("b",[e._v("Supplier ID : "+e._s(e.purchase_order.stake)+" "),a("br"),e._v(" Supplier : ")]),e._v(e._s(e.purchase_order.name)+" "),a("br"),e._v(" "+e._s(e.purchase_order.name)+" "),a("br"),e._v(" "+e._s(e.purchase_order.address1)+" "),a("br"),e._v(" "+e._s(e.purchase_order.address2)+" "),a("br"),e._v(" "+e._s(e.purchase_order.address3)+" "),a("br"),e._v(" "+e._s(e.purchase_order.email)+" "),a("br"),e._v(" "+e._s(e.purchase_order.telephone)+" ")])])]),a("hr"),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Quantity")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.purchase_order.items,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unitprice))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantitiy))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.total))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.discount))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.purchase_order.total))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Discount ( "+e._s(e.purchase_order.discount)+" ): ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.purchase_order.discount_am))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Tax ( "+e._s(e.purchase_order.vat_percentage)+" ): ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.purchase_order.vat_am))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Final")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.purchase_order.final))])])],2),a("hr"),a("p",[a("b",[e._v("Remarks : ")]),e._v(e._s(e.purchase_order.remarks)),a("br"),a("b",[e._v("Payment Term : ")]),e._v(e._s(e.purchase_order.payment_term)+" "),a("br"),a("b",[e._v("Delivery Term : ")]),e._v(e._s(e.purchase_order.delivery)+" ")]),a("hr")])])],1)}),Pt=[],Ot="/api/orders",qt=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"InsertOrder",value:function(e,t,a,n,r,i,s,c,o,l,d,u,v,m,_){return new Promise((function(h,f){try{p.a.post("".concat(Ot,"/add"),{stake:e,required:t,payterm:l,items:u,disc_am:m,vat_am:_,vat_perc:v,type:d,requested:(new Date).toISOString().slice(0,10),total:a,reference:c,delterm:o,disc:n,final:r,rem:i,user:s}).then((function(e){var t=e.data;h(t)}))}catch(b){f(b)}}))}},{key:"GetCompletePO",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ot,"/complete-po/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"DeletePO",value:function(e){return p.a.delete("".concat(Ot,"/allpo/").concat(e))}},{key:"GETAllOrders",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Ot,"/alldoc")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GETPendingOrders",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Ot,"/itemfilter")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"StateChangeItem",value:function(e,t,a){return p.a.post("".concat(Ot,"/successqty"),{doc:e,item:t,newqty:a})}},{key:"GETOrderData",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ot,"/alldatas/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETOrderItems",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ot,"/allitems/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"InsertItem",value:function(e,t,a,n,r,i,s){return p.a.post("".concat(Ot,"/additem"),{item:e,doc:t,up:a,qty:n,disc:r,tot:i,fin:s})}}]),e}(),Nt=qt,jt={name:"POPrint",props:["id"],data:function(){return{purchase_order:null,address:null,taxes:0}},watch:{id:function(){this.load_purchase_order()}},created:function(){console.log(this.id),this.load_purchase_order(),this.address={name:this.$store.getters.getName,add1:this.$store.getters.getAddress.add1,add2:this.$store.getters.getAddress.add2,add3:this.$store.getters.getAddress.add3,email:this.$store.getters.getEmail,tele:this.$store.getters.getTelephone}},methods:{load_purchase_order:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Nt.GetCompletePO(e.id);case 2:e.purchase_order=t.sent;case 3:case"end":return t.stop()}}),t)})))()},print_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("print_space");case 2:case"end":return t.stop()}}),t)})))()}}},Gt=jt,Et=Object(k["a"])(Gt,Tt,Pt,!1,null,null,null),Lt=Et.exports;w()(Et,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{padding:"20px"},attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-radio-group",{model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},[a("v-radio",{attrs:{label:"Non VAT",value:"nvat"}}),a("v-radio",{attrs:{label:"VAT",value:"vat"}}),a("v-radio",{attrs:{label:"SVAT",value:"svat"}})],1),a("v-spacer")],1)],1)},Ft=[],Ut={props:["value"],data:function(){return{inputVal:""}},watch:{inputVal:function(){this.$emit("input",this.inputVal)},value:function(){this.inputVal=this.value}}},Bt=Ut,Ht=a("67b6"),Mt=a("43a6"),Qt=Object(k["a"])(Bt,$t,Ft,!1,null,null,null),Yt=Qt.exports;w()(Qt,{VCard:V["a"],VCardActions:C["a"],VRadio:Ht["a"],VRadioGroup:Mt["a"],VSpacer:ne["a"]});var zt="/api/items",Wt=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"InsertCategory",value:function(e){return p.a.post("".concat(zt,"/cat"),{name:e})}},{key:"InsertType",value:function(e,t){return p.a.post("".concat(zt,"/type"),{id:e,name:t})}},{key:"InsertItem",value:function(e,t,a,n,r,i,s,c,o,l){return p.a.post("".concat(zt,"/it"),{name:t,code:e,desc:a,unit:n,type:i,cata:r,qty:s,up:c,disc:o,uv:l})}},{key:"GETCategoriesWithNumType",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(zt,"/cats_and_num_types")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"typesofcategory",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(zt,"/types_of_category/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"ItemFromType",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(zt,"/item-by-type/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GetAllAvailableItems",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(zt,"/it-all")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetItemsByType",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(zt,"/itty/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"ActivateItem",value:function(e){return p.a.get("".concat(zt,"/item/").concat(e))}},{key:"DeleteItem",value:function(e){return p.a.delete("".concat(zt,"/it/").concat(e))}},{key:"getItemByCode",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(zt,"/itc/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"getItemByID",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(zt,"/it/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}}]),e}(),Jt=Wt,Xt=a("1f89"),Kt=a.n(Xt),Zt="/api/invoice",ea=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"CreateInvoice",value:function(e,t,a,n,r,i,s,c,o,l,d,v,m,_,h,f,b){return new Promise((function(g,x){try{p.a.post("".concat(Zt,"/create-invoice"),{type:e,cust:t,ord:a,total:n,disc:r,final:i,cash:s,credit:c,cheq:o,cheq_id:l,bank:d,bank_id:v,advances:m,addedItems:_,paid:b,rem:h,date:(new Date).toISOString().slice(0,10),user:f}).then((function(e){var t=e.data;g(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(k){x(k)}}))}},{key:"startVatAgain",value:function(e){return p.a.get("".concat(Zt,"/start-vat/").concat(e))}},{key:"CreateVat",value:function(e,t,a,n){return p.a.post("".concat(Zt,"/create-vat"),{invoice:e,name:t,percentage:a,acton:n})}},{key:"ViewAllInvoiceDetails",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/all-invoice-details/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"ViewAllFinalInvoiceDetails",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/all-final-invoice-details/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"ViewAllVats",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Zt,"/allvats")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GETAllRelatedVats",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/calculated-vats/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"ViewAllVatsByInvoice",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/vat-by-invoice/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"DeleteVat",value:function(e){return p.a.delete("".concat(Zt,"/vat/").concat(e))}},{key:"GETAllInvoices",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Zt,"/all")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"DeleteInvoice",value:function(e){return p.a.delete("".concat(Zt,"/allitems/").concat(e))}},{key:"GETInvoiceDetails",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/invoice/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETInvoiceVats",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/inv-vats/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETInvoiceData",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Zt,"/invitems/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"AddInvoiceItems",value:function(e,t,a,n,r,i,s){return new Promise((function(c,o){try{p.a.post("".concat(Zt,"/additem"),{item:e,doc:t,quant:a,up:n,disc:r,tot:i,final:s}).then((function(e){var t=e.data;c(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(l){o(l)}}))}}]),e}(),ta=ea,aa={name:"PurchaseOrder",components:{Type:Yt,POPrinter:Lt},data:function(){return{allItemsGot:[],po_type:"",printerdi:!1,poid:null,additemdialog:!1,itemSearch:"",total:0,vat_percentage:"",disc:"",final:0,itit:0,search_items_on_list:"",itqty:0,itup:0,itdisc:0,ittotal:0,itfinal:0,remarks:"",progress:!1,selectedStake:[],payterm:"",required:"",addedItems:[],ItemHeader:[{text:"",value:"controls"},{text:"Code",value:"code"},{text:"Name",value:"itemname"},{text:"Quantity",value:"qty"},{text:"Unit Price",value:"up"},{text:"Total",value:"total"},{text:"Discount",value:"disc"},{text:"Final",value:"final"}],stakeholderlist:[],stakeheaders:[{text:"Name",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],sellerAddDialog:!1,stakesearch:"",snackbar:!1,timeout:2e3,error:"",reference:"",disc_am:"",vat_am:"",delterm:"",changeItemDialog:!1,barcode:"",categories:[],vatList:[]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.GetAllStakes("Suppliers");case 2:return e.stakeholderlist=t.sent,e.user=localStorage.getItem("UserToken"),t.next=6,Jt.GetAllAvailableItems();case 6:return e.allItemsGot=t.sent,t.next=9,Jt.GETCategoriesWithNumType();case 9:e.categories=t.sent;case 10:case"end":return t.stop()}}),t)})))()},watch:{total:function(){this.calculate_final()},disc:function(){this.calculate_final()},addedItems:function(){this.calculate_total()},po_type:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ta.GETAllRelatedVats(this.po_type);case 2:this.vatList=e.sent,this.add_percentage_vat();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),vat_percentage:function(){this.calculate_final()}},methods:{calculate_final:function(){this.final=Kt.a.discounting(this.total,this.disc),this.disc_am=Number(this.final)-Number(this.total),this.final=this.calculate_new_vats(this.final)},calculate_new_vats:function(e){var t=this.vat_percentage,a=t.split("%"),n=Number(e)*(Number(a[0])/100);return this.vat_am=n,console.log(e),e+n},add_percentage_vat:function(){var e=0;if(this.vatList.length>0)for(var t=0;t<this.vatList.length;t++){var a=this.vatList[t].percentage,n=a.split("%");e=Number(e)+Number(n[0])}this.vat_percentage=e+"%"},barcode_add:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.barcode){t.next=5;break}e.error="Please enter value before!",e.snackbar=!0,t.next=18;break;case 5:if("#"!=e.barcode.charAt(0)){t.next=13;break}return n=e.barcode.split("#"),t.next=9,Jt.getItemByID(n[1]);case 9:a=t.sent,0==a.length?(e.error="No Item ID s found",e.snackbar=!0):e.add_item(a[0]),t.next=17;break;case 13:return t.next=15,Jt.getItemByCode(e.barcode);case 15:a=t.sent,0==a.length?(e.error="No Item Codes found",e.snackbar=!0):e.add_item(a[0]);case 17:e.barcode="";case 18:case"end":return t.stop()}}),t)})))()},add_me:function(e){this.add_item(e),this.additemdialog=!1},add_item:function(e){for(var t=!0,a=0;a<this.addedItems.length;a++)this.addedItems[a].item==e.id&&(t=!1);if(t){var n={item:e.id,code:e.code,itemname:e.name,qty:0,up:e.price,total:0,disc:"",final:0};this.addedItems=this.addedItems.concat(n)}else this.error="Item Alrerady Added!",this.snackbar=!0},calculate_total:function(){this.total=0;for(var e=0;e<this.addedItems.length;e++)this.total+=this.addedItems[e].final},delete_item:function(e){for(var t=0;t<this.addedItems.length;t++)this.addedItems[t].item==e.item&&this.addedItems.splice(t,1)},edit_item:function(e){this.itit=e.item,this.itqty=e.qty,this.itup=e.up,this.ittotal=e.total,this.itdisc=e.disc,this.itfinal=e.final,this.changeItemDialog=!0},change_item_data:function(){this.ittotal=Number(this.itup)*Number(this.itqty),this.itfinal=Kt.a.discounting(this.ittotal,this.itdisc);for(var e=0;e<this.addedItems.length;e++)this.addedItems[e].item==this.itit&&(this.addedItems[e].qty=this.itqty,this.addedItems[e].up=this.itup,this.addedItems[e].disc=this.itdisc,this.addedItems[e].total=this.ittotal,this.addedItems[e].final=this.itfinal);this.changeItemDialog=!1,this.calculate_total()},clear_added:function(){this.po_type=null,this.selectedStake=[],this.required="",this.delterm="",this.payterm="",this.reference="",this.addedItems=[],this.itemSearch="",this.remarks="",this.disc=""},show_printer_view:function(e){this.poid=e,this.printerdi=!0},upload_created_po:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e.addedItems.length){t.next=27;break}if(""==e.po_type){t.next=23;break}if(!(e.selectedStake.length>0)){t.next=19;break}if(a=new Date(e.required),n=new Date,!(a.getTime()>=n.getTime())){t.next=15;break}return e.progress=!0,t.next=9,Nt.InsertOrder(e.selectedStake[0].id,e.required,e.total,e.disc,e.final,e.remarks,e.user,e.reference,e.delterm,e.payterm,e.po_type,e.addedItems,e.vat_percentage,e.disc_am,e.vat_am);case 9:r=t.sent,e.progress=!1,e.clear_added(),e.show_printer_view(r.id),t.next=17;break;case 15:e.error="Date must be today or future day!",e.snackbar=!0;case 17:t.next=21;break;case 19:e.error="You must neet to specify your supplier!",e.snackbar=!0;case 21:t.next=25;break;case 23:e.error="Please you must need to select order type",e.snackbar=!0;case 25:t.next=29;break;case 27:e.error="Cannot Create Empty Purchase Order!",e.snackbar=!0;case 29:case"end":return t.stop()}}),t)})))()}}},na=aa,ra=(a("5c68"),a("c377")),ia=a("ce7e"),sa=Object(k["a"])(na,At,Dt,!1,null,null,null),ca=sa.exports;w()(sa,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataIterator:ra["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VMain:T["a"],VProgressLinear:St["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",{staticClass:"margin_top_setup"},[a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"2",lg:"2"}},[a("Type",{model:{value:e.grn_type,callback:function(t){e.grn_type=t},expression:"grn_type"}})],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"3",lg:"3"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("button",{staticClass:"new_btn_style",on:{click:function(t){e.AddPODialog=!0}}},[e._v("Add PO")]),a("button",{staticClass:"new_btn_style",on:{click:function(t){e.stake_selector=!0}}},[e._v("Add Supplier")])]),a("v-text-field",{attrs:{outlined:"",label:"Received Date",type:"date"},model:{value:e.rdate,callback:function(t){e.rdate=t},expression:"rdate"}}),a("p",[a("b",[e._v("Order No : "),null!=e.selectedpo?a("span",[e._v(e._s(e.selectedpo.id))]):e._e()])]),a("p",[a("b",[e._v("Supplier : ")]),null!=e.addedStake?a("span",[e._v(e._s(e.addedStake.name))]):e._e()])],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"3",lg:"3"}},[a("v-text-field",{attrs:{outlined:"",label:"Invoice"},model:{value:e.invoice,callback:function(t){e.invoice=t},expression:"invoice"}}),a("v-text-field",{attrs:{outlined:"",label:"Reference"},model:{value:e.reference_grn,callback:function(t){e.reference_grn=t},expression:"reference_grn"}}),a("v-text-field",{attrs:{label:"Barcode"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.barcodeSelector()}},model:{value:e.barcode,callback:function(t){e.barcode=t},expression:"barcode"}})],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",sm:"6",xs:"6",md:"4",lg:"4"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-chip",{attrs:{label:""}},[e._v("Total : "+e._s(e.total.toFixed(2)))]),a("v-spacer"),a("v-chip",{attrs:{label:""}},[e._v("Final : "+e._s(e.final.toFixed(2)))])],1),a("v-card-actions",[a("v-text-field",{attrs:{label:"VAT Percentage"},model:{value:e.vat_percentage,callback:function(t){e.vat_percentage=t},expression:"vat_percentage"}}),a("v-spacer"),a("v-text-field",{attrs:{label:"Discount"},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1),a("v-text-field",{attrs:{outlined:"",label:"Payment Term"},model:{value:e.payment_term,callback:function(t){e.payment_term=t},expression:"payment_term"}})],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"9",lg:"9"}},[a("v-card",{staticStyle:{padding:"1rem"},attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{fab:"",small:"",dark:""},on:{click:function(t){return e.showSelectItem()}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{items:e.grnItemList,"item-key":"item._id",headers:e.grnItemListHeader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_items(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),e._v(" "),a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.delete_items(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])})],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"3",lg:"3"}},[a("v-card",{attrs:{flat:""}},[e.progress?a("v-progress-linear",{staticStyle:{margin:"5px"},attrs:{indeterminate:"",color:"black"}}):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.clear()}}},[e._v("Clear")]),e._v(" "),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.generator()}}},[e._v("Generate")]),a("v-spacer")],1),a("v-textarea",{attrs:{outlined:"",label:"Remarks"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.AddPODialog,callback:function(t){e.AddPODialog=t},expression:"AddPODialog"}},[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Add Purchase Order")]),a("v-spacer"),a("v-text-field",{model:{value:e.posearch,callback:function(t){e.posearch=t},expression:"posearch"}})],1),a("v-data-table",{attrs:{items:e.PendingOrders,headers:e.POHead,search:e.posearch,"item-key":"id"},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.select_Purchase_Order(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus-circle")])],1)]}}])}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.AddPODialog=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.ItemSelectorDialog,callback:function(t){e.ItemSelectorDialog=t},expression:"ItemSelectorDialog"}},[a("v-card",[a("v-data-iterator",{attrs:{items:e.allItemsGot,search:e.search_items_on_list},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{attrs:{dark:""}},[a("v-text-field",{attrs:{label:"Search",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search_items_on_list,callback:function(t){e.search_items_on_list=t},expression:"search_items_on_list"}}),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.ItemSelectorDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{staticStyle:{margin:"1rem"}},e._l(t.items,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[a("v-card",{attrs:{elevation:"6"}},[a("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t.name))]),a("p",{staticStyle:{"text-align":"center"}},[e._v("Category : "+e._s(t.category_name)),a("br"),e._v(" Sub Category : "+e._s(t.type_name)),a("br"),e._v(" Unit Price : "+e._s(t.price)),a("br"),e._v(" Available: "+e._s(t.quantity))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(a){return e.add_item_to_list(t)}}},[e._v("Add")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"15rem"},model:{value:e.askDialog,callback:function(t){e.askDialog=t},expression:"askDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[e._v(" Do You Wish to process GRN Without PO "),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.noans()}}},[e._v("No")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.yesans()}}},[e._v("Yes")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"15rem"},model:{value:e.changeDialog,callback:function(t){e.changeDialog=t},expression:"changeDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Change Item")]),a("v-divider"),a("v-text-field",{attrs:{label:"Quantity"},model:{value:e.itqty,callback:function(t){e.itqty=t},expression:"itqty"}}),a("v-text-field",{attrs:{label:"Unit Price"},model:{value:e.itup,callback:function(t){e.itup=t},expression:"itup"}}),a("v-text-field",{attrs:{label:"Discount"},model:{value:e.itdis,callback:function(t){e.itdis=t},expression:"itdis"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.added()}}},[e._v("Add")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"70rem"},model:{value:e.stake_selector,callback:function(t){e.stake_selector=t},expression:"stake_selector"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Select Supplier")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search Here...."},model:{value:e.stake_search,callback:function(t){e.stake_search=t},expression:"stake_search"}})],1),a("v-data-table",{attrs:{items:e.allStakeholders,headers:e.stake_headers},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.select_stakeholder(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus-circle")])],1)]}}])}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.stake_selector=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-dialog",{model:{value:e.gpDialog,callback:function(t){e.gpDialog=t},expression:"gpDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Print GRN")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.gpDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("GRNPrint",{attrs:{id:e.gpid}})],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},la=[],da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{color:"black",inset:"",label:"Final GRN View"},model:{value:e.final_grn,callback:function(t){e.final_grn=t},expression:"final_grn"}}),a("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{text:""},on:{click:function(t){return e.print_data()}}},[e._v("Print")])],1),a("div",{staticStyle:{padding:"10px","font-family":"Arial, Helvetica, sans-serif"},attrs:{id:"printable"}},[a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)+" "),a("br"),e._v(" "),a("b",[e._v("Good Receive Note")])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"margin-left":"1rem"}},[a("p",[a("b",[e._v("System ID : "+e._s(e.grn_details.grn.id)),a("br"),e._v(" Reference : "+e._s(e.grn_details.grn.reference)),a("br"),e._v(" Received : ")]),e._v(e._s(e.grn_details.grn.rec_date)),a("br"),a("b",[e._v("Entered : ")]),e._v(e._s(e.grn_details.grn.ent_date)),a("br"),null!=e.grn_details.grn.orders?a("span",[a("b",[e._v("Order : ")]),e._v(e._s(e.grn_details.grn.orders)),a("br")]):e._e(),a("b",[e._v("Invoice : ")]),e._v(e._s(e.grn_details.grn.invoice))])]),null!=e.grn_details.grn.st_id?a("div",{staticStyle:{"margin-right":"1rem"}},[a("p",[a("b",[e._v("Supplier ID:"+e._s(e.grn_details.grn.st_id)),a("br"),e._v(" Supplier: ")]),a("span",[e._v(e._s(e.grn_details.grn.st_name)),a("br"),e._v(e._s(e.grn_details.grn.address1)),a("br"),e._v(e._s(e.grn_details.grn.address2)+" "),a("br"),e._v(e._s(e.grn_details.grn.address3)),a("br"),e._v(e._s(e.grn_details.grn.email)),a("br"),e._v(e._s(e.grn_details.grn.telephone))])])]):e._e()]),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Quantity")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.grn_details.items,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantity))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unit_price))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.total))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.discount))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.grn_details.grn.total))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Discount ( "+e._s(e.grn_details.grn.discount)+" ): ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.grn_details.grn.disc_amount))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("VAT ( "+e._s(e.grn_details.grn.vat_percentage)+" ): ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.grn_details.grn.vat_amount))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Final")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.grn_details.grn.final))])])],2),a("hr"),a("p",[a("b",[e._v("remarks : ")]),e._v(e._s(e.grn_details.grn.remarks))])]),a("hr")])],1)},ua=[],va={props:["id"],data:function(){return{grn_details:null,final_grn:!1,address:null}},watch:{final_grn:function(){this.load_grn_data()},id:function(){this.load_grn_data()}},methods:{load_grn_data:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.final_grn){t.next=6;break}return t.next=3,X.GetFinalGrnAllData(e.id);case 3:e.grn_details=t.sent,t.next=9;break;case 6:return t.next=8,X.GetGrnAllData(e.id);case 8:e.grn_details=t.sent;case 9:case"end":return t.stop()}}),t)})))()},print_data:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("printable");case 2:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.load_grn_data(),e.address={name:e.$store.getters.getName,add1:e.$store.getters.getAddress.add1,add2:e.$store.getters.getAddress.add2,add3:e.$store.getters.getAddress.add3,email:e.$store.getters.getEmail,tele:e.$store.getters.getTelephone};case 2:case"end":return t.stop()}}),t)})))()}},ma=va,_a=(a("71de"),Object(k["a"])(ma,da,ua,!1,null,null,null)),pa=_a.exports;w()(_a,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"],VSwitch:re["a"]});var ha={name:"GRN",components:{GRNPrint:pa,Type:Yt},data:function(){return{categories:[],progress:!1,snackbar:!1,timeout:2e3,payment_term:"",error:"",search_items_on_list:"",PendingOrders:[],reference_grn:"",vat_percentage:"",discount:"",AddPODialog:!1,posearch:"",remarks:"",POHead:[{text:"",value:"controls"},{text:"Supplier",value:"name"},{text:"Required Date",value:"required"},{text:"Requested Date",value:"requested"},{text:"Total",value:"total"},{text:"Final",value:"final"}],selectedpo:null,ItemList:[],ItemSearch:"",ItemSelectorDialog:!1,selectedIT:[],grnItemList:[],grnItemListHeader:[{text:"",value:"controls"},{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Quantity",value:"newquantity"},{text:"Unit Price",value:"unitprice"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],itqty:"",user:"",itup:"",itdis:"",askDialog:!1,answer:!1,itfin:"",rdate:"",grn_type:"",previous_vat:0,invoice:"",changeDialog:!1,total:0,barcode:"",allStakeholders:[],stake_selector:!1,final:0,stake_search:"",addedStake:null,stake_headers:[{text:"",value:"controls"},{text:"Name",value:"name"},{text:"Address Line 1",value:"address1"},{text:"Address Line 2",value:"address2"},{text:"Address Line 3",value:"address3"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],edit_item_code:"",types:[],allItems:[],gpDialog:!1,vat_am:0,disc_am:0,gpid:-1,allItemsGot:[]}},watch:{grnItemList:function(){this.totalCalc()},grn_type:function(){this.calculateVat()},total:function(){this.calculate_final_amount()},discount:function(){this.calculate_final_amount()},vat_percentage:function(){this.calculate_final_amount()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Nt.GETPendingOrders();case 2:return e.PendingOrders=t.sent,e.user=localStorage.getItem("UserToken"),t.next=6,Jt.GetAllAvailableItems();case 6:return e.ItemList=t.sent,t.next=9,B.GetAllStakes("Suppliers");case 9:return e.allStakeholders=t.sent,t.next=12,Jt.GetAllAvailableItems();case 12:e.allItemsGot=t.sent;case 13:case"end":return t.stop()}}),t)})))()},methods:{calculate_final_amount:function(){this.final=Kt.a.discounting(this.total,this.discount),this.disc_am=Number(this.final)-Number(this.total),this.calculate_vat()},calculate_vat:function(){var e=this.vat_percentage,t=e.split("%"),a=Number(this.final)*(Number(t[0])/100);this.vat_am=a,this.final=Number(this.final)+Number(this.vat_am)},select_stakeholder:function(e){this.addedStake=e,this.stake_selector=!1},edit_items:function(e){this.changeDialog=!0,this.edit_item_code=e.code,this.itqty=e.newquantity,this.itup=e.unitprice,this.itdis=e.discount},added:function(){for(var e=0;e<this.grnItemList.length;e++)this.grnItemList[e].code==this.edit_item_code&&(this.grnItemList[e].quantitiy>=0?this.itqty<=this.grnItemList[e].quantitiy-this.grnItemList[e].success?(this.grnItemList[e].newquantity=this.itqty,this.grnItemList[e].unitprice=this.itup,this.grnItemList[e].discount=this.itdis,this.grnItemList[e].total=Number(this.grnItemList[e].newquantity)*Number(this.grnItemList[e].unitprice),this.grnItemList[e].final=Kt.a.discounting(this.grnItemList[e].total,this.grnItemList[e].discount)):(this.error="Cannot Exceed Pending Value",this.snackbar=!0):(this.grnItemList[e].newquantity=this.itqty,this.grnItemList[e].unitprice=this.itup,this.grnItemList[e].discount=this.itdis,this.grnItemList[e].total=Number(this.grnItemList[e].newquantity)*Number(this.grnItemList[e].unitprice),this.grnItemList[e].final=Kt.a.discounting(this.grnItemList[e].total,this.grnItemList[e].discount)));this.totalCalc(),this.changeDialog=!1},delete_items:function(e){for(var t=0;t<this.grnItemList.length;t++)this.grnItemList[t].code==e.code&&this.grnItemList.splice(t,1)},select_Purchase_Order:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0!=t.grnItemList.length){a.next=17;break}return n={id:e.st_id,name:e.name,address1:e.address1,address2:e.address2,address3:e.address3,email:e.email,telephone:e.telephone},null!=t.addedStake&&(t.error="Supplier Will Automatically Change to added Supplier",t.snackbar=!0),t.addedStake=n,a.next=6,Nt.GETOrderItems(e.id);case 6:for(r=a.sent,i=0;i<r.length;i++)r[i].newquantity=Number(r[i].quantitiy)-Number(r[i].success),r[i].total=Number(r[i].newquantity)*Number(r[i].unitprice),r[i].final=Kt.a.discounting(r[i].total,r[i].discount);t.grnItemList=r,t.totalCalc(),t.selectedpo=e,t.grn_type=e.type,t.vat_percentage=e.vat_percentage,t.discount=e.discount,t.total=e.total,a.next=19;break;case 17:t.error="Items Already Added Without PO",t.snackbar=!0;case 19:t.AddPODialog=!1;case 20:case"end":return a.stop()}}),a)})))()},totalCalc:function(){for(var e=0,t=0;t<this.grnItemList.length;t++)e+=this.grnItemList[t].final;this.total=e,this.calculateVat()},calculateVat:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.grn_type){t.next=7;break}return t.next=3,X.GetCalculatedVats(e.grn_type);case 3:for(a=t.sent,n=0,r=0;r<a.length;r++)i=a[r].percentage.split("%"),s=i[0],c=Number(s)/100,n+=c*e.total;e.previous_vat=Number(n);case 7:case"end":return t.stop()}}),t)})))()},showSelectItem:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.selectedpo?(e.error="All Items Already Added From PO, you can do changes",e.snackbar=!0):e.askDialog=!0;case 1:case"end":return t.stop()}}),t)})))()},noans:function(){this.answer=!1,this.askDialog=!1,this.error="if you process with PO, Please Add PO before Items",this.snackbar=!0,this.AddPODialog=!0},yesans:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.answer=!0,e.askDialog=!1,e.ItemSelectorDialog=!0,t.next=5,Jt.GETCategoriesWithNumType();case 5:e.categories=t.sent;case 6:case"end":return t.stop()}}),t)})))()},add_item_to_list:function(e){for(var t={item:e.id,code:e.code,name:e.name,newquantity:0,quantity:-1,unitprice:e.price,total:0,discount:"",final:0},a=!1,n=0;n<this.grnItemList.length;n++)this.grnItemList[n].item==t.item&&(a=!0);a?(this.error="Item Already Exists",this.snackbar=!0):this.grnItemList=this.grnItemList.concat(t),this.allItems=[],this.types=[]},barcodeSelector:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.selectedpo){t.next=20;break}if(!(e.barcode.length>0)){t.next=16;break}if("#"!=e.barcode.charAt(0)){t.next=10;break}return n=e.barcode.split("#"),t.next=6,Jt.getItemByID(n[1]);case 6:a=t.sent,0==a.length?(e.error="No Item ID s found",e.snackbar=!0):e.add_item_to_list(a[0]),t.next=14;break;case 10:return t.next=12,Jt.getItemByCode(e.barcode);case 12:a=t.sent,0==a.length?(e.error="No Item Codes found",e.snackbar=!0):e.add_item_to_list(a[0]);case 14:t.next=18;break;case 16:e.error="Please Enter Valid Barcode",e.snackbar=!0;case 18:t.next=22;break;case 20:e.error="You cannot Add Item That not in PO",e.snackbar=!0;case 22:e.barcode="";case 23:case"end":return t.stop()}}),t)})))()},generator:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.progress=!0,a=null!=e.selectedpo?e.selectedpo.id:null,n=null==e.addedStake?null:e.addedStake.id,r=[],i=0;i<e.grnItemList.length;i++)s={id:e.grnItemList[i].item,quantity:e.grnItemList[i].newquantity,unitprice:e.grnItemList[i].unitprice,discount:e.grnItemList[i].discount,total:e.grnItemList[i].total,final:e.grnItemList[i].final},r=r.concat(s);if(!(e.grnItemList.length>0&&""!=e.invoice&&""!=e.rdate)){t.next=14;break}return t.next=8,X.InsertDoc(e.rdate,e.invoice,e.reference_grn,e.payment_term,a,n,e.total,e.remarks,e.user,e.vat_percentage,e.discount,e.vat_am,e.disc_am,e.final,r);case 8:c=t.sent,e.gpid=c.insertId,e.gpDialog=!0,e.clear(),t.next=15;break;case 14:""==e.rdate?(e.error="Please Insert Received Date!",e.snackbar=!0):""==e.invoice?(e.error="You Must Need to Insert Invoice Number!",e.snackbar=!0):(e.error="Please Insert One Item at least!",e.snackbar=!0);case 15:e.progress=!1;case 16:case"end":return t.stop()}}),t)})))()},clear:function(){this.grnItemList=[],this.rdate="",this.invoice="",this.reference_grn="",this.payment_term="",this.selectedpo=null,this.addedStake=null,this.remarks=""}}},fa=ha,ba=(a("b116"),Object(k["a"])(fa,oa,la,!1,null,null,null)),ga=ba.exports;w()(ba,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataIterator:ra["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VMain:T["a"],VProgressLinear:St["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{staticClass:"margin_top_setup",attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"border_simplex",attrs:{sm:"6",xs:"6",md:"2"}},[a("Type",{model:{value:e.invoice_type,callback:function(t){e.invoice_type=t},expression:"invoice_type"}})],1),a("v-col",{staticClass:"border_simplex",attrs:{sm:"6",xs:"6",md:"2"}},[a("v-text-field",{attrs:{label:"Request"},model:{value:e.item_req_no,callback:function(t){e.item_req_no=t},expression:"item_req_no"}}),a("button",{staticClass:"new_btn_style",on:{click:function(t){return e.add_item_request()}}},[e._v("Add")]),a("button",{staticClass:"new_btn_style",on:{click:function(t){e.add_cust=!0}}},[e._v("Customer")]),a("div",[a("b",[e._v("Order")]),e._v(" :"),null!=e.itemRequest?a("span",[e._v(e._s(e.itemRequest.id))]):e._e(),a("br"),a("b",[e._v("customer")]),e._v(" : "),e.selected_cust.length>0?a("span",[e._v(e._s(e.selected_cust[0].name))]):e._e(),null!=e.itemRequest?a("span",[e._v(e._s(e.itemRequest.name))]):e._e()])],1),a("v-col",{staticClass:"border_simplex",attrs:{sm:"12",xs:"12",md:"5"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:"",dark:""}},[e._v("Cash : "+e._s(e.cash))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:"",dark:""}},[e._v("Cheque : "+e._s(e.cheque))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:"",dark:""}},[e._v("Credit : "+e._s(e.credit))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:"",dark:""}},[e._v("Bank : "+e._s(e.bank))]),a("v-spacer")],1),a("v-card-actions",[a("v-spacer"),e._l(e.advances,(function(t){return a("v-chip",{key:t.id,staticClass:"dark_color",staticStyle:{margin:"5px"},attrs:{label:""},on:{click:function(a){return e.remove_advance(t)}}},[e._v(e._s(t.id)+" : "+e._s(t.use_amount))])})),a("v-spacer")],2),a("v-card-actions",[a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticStyle:{margin:"3px"},attrs:{large:""},on:{click:function(t){e.cash_dialog=!0}}},"v-icon",r,!1),n),[e._v("mdi-cash")])]}}])},[a("span",[e._v("Cash")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticStyle:{margin:"3px"},attrs:{large:""},on:{click:function(t){e.cheque_dialog=!0}}},"v-icon",r,!1),n),[e._v("mdi-text-box")])]}}])},[a("span",[e._v("Cheque")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticStyle:{margin:"3px"},attrs:{large:""},on:{click:function(t){return e.add_advance_open()}}},"v-icon",r,!1),n),[e._v("mdi-cash-100")])]}}])},[a("span",[e._v("Advance")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticStyle:{margin:"3px"},attrs:{large:""},on:{click:function(t){e.credit_dialog=!0}}},"v-icon",r,!1),n),[e._v("mdi-cash-check")])]}}])},[a("span",[e._v("Credit")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticStyle:{margin:"3px"},attrs:{large:""},on:{click:function(t){e.bank_dialog=!0}}},"v-icon",r,!1),n),[e._v("mdi-bank")])]}}])},[a("span",[e._v("bank")])]),a("v-spacer")],1)],1)],1),a("v-col",{staticClass:"border_simplex",attrs:{sm:"12",xs:"12",md:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-chip",{staticClass:"dark_color",attrs:{label:"",outlined:""}},[e._v("total : "+e._s(e.total))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",attrs:{label:""}},[e._v("final : "+e._s(e.final))])],1),a("v-card-actions",[a("v-text-field",{staticStyle:{"margin-right":"5px"},attrs:{outlined:"",label:"Discount"},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}}),a("v-text-field",{attrs:{outlined:"",label:"Barcode"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add_barcode()}},model:{value:e.barcode,callback:function(t){e.barcode=t},expression:"barcode"}})],1),a("v-card-actions",{staticStyle:{"margin-top":"0","padding-top":"0"}},[a("v-chip",{staticClass:"dark_color",staticStyle:{"margin-top":"0"},attrs:{label:"",outlined:""}},[e._v("Paid : "+e._s(e.paid))]),a("v-spacer"),a("v-chip",{staticClass:"dark_color",staticStyle:{"margin-top":"0"},attrs:{label:""}},[e._v("Need to Pay :"+e._s(e.need_to_pay))])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"9",lg:"9",xl:"9"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Added Items")]),a("v-spacer"),a("v-text-field",{model:{value:e.item_search,callback:function(t){e.item_search=t},expression:"item_search"}}),a("v-btn",{staticStyle:{margin:"1rem"},attrs:{dark:"",fab:"",small:""},on:{click:function(t){e.add_new_item=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-divider"),a("v-data-table",{attrs:{search:e.item_search,items:e.addedItems,headers:e.addedItemHeader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.delete_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])}),a("v-divider")],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",xs:"12",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[e.progress?a("v-progress-linear",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{color:"black",indeterminate:"",height:"5",striped:""}}):e._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"dark_color",attrs:{text:""},on:{click:function(t){return e.clearer()}}},[e._v("Clear")]),a("v-btn",{staticClass:"dark_color",attrs:{dark:""},on:{click:function(t){return e.generator()}}},[e._v("Generate")])],1),a("v-textarea",{attrs:{label:"Remarks",outlined:""},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.cash_dialog,callback:function(t){e.cash_dialog=t},expression:"cash_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Cash")]),a("v-text-field",{attrs:{type:"number",step:"0.01",label:"Amount"},model:{value:e.cash,callback:function(t){e.cash=t},expression:"cash"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.cash_dialog=!1}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.cheque_dialog,callback:function(t){e.cheque_dialog=t},expression:"cheque_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Cheque")]),a("v-text-field",{attrs:{label:"Cheque ID"},model:{value:e.cheque_id,callback:function(t){e.cheque_id=t},expression:"cheque_id"}}),a("v-text-field",{attrs:{type:"number",step:"0.01",label:"Amount"},model:{value:e.cheque,callback:function(t){e.cheque=t},expression:"cheque"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.cheque_dialog=!1}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.bank_dialog,callback:function(t){e.bank_dialog=t},expression:"bank_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Bank")]),a("v-text-field",{attrs:{label:"Transaction ID"},model:{value:e.bank_id,callback:function(t){e.bank_id=t},expression:"bank_id"}}),a("v-text-field",{attrs:{type:"number",step:"0.01",label:"Amount"},model:{value:e.bank,callback:function(t){e.bank=t},expression:"bank"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.bank_dialog=!1}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.advance_dialog,callback:function(t){e.advance_dialog=t},expression:"advance_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Advance")]),a("v-select",{attrs:{items:e.all_advance_ids,label:"Select Advance",dense:""},model:{value:e.selected_advance,callback:function(t){e.selected_advance=t},expression:"selected_advance"}}),a("p",[a("b",[e._v("Available Amount : ")]),null!=e.selected_advance_all?a("span",[e._v(e._s(e.selected_advance_all.available))]):e._e()]),a("v-text-field",{attrs:{step:"0.01",type:"number",label:"Taken Amount"},model:{value:e.taken_advance_amount,callback:function(t){e.taken_advance_amount=t},expression:"taken_advance_amount"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){return e.finish_advance_activity()}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.credit_dialog,callback:function(t){e.credit_dialog=t},expression:"credit_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Credit")]),a("v-text-field",{attrs:{type:"number",step:"0.01",label:"Amount"},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{on:{click:function(t){e.credit_dialog=!1}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{width:"20rem"},model:{value:e.edit_item_dialog,callback:function(t){e.edit_item_dialog=t},expression:"edit_item_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Edit Item")]),a("v-text-field",{attrs:{label:"Quantity"},model:{value:e.itqt,callback:function(t){e.itqt=t},expression:"itqt"}}),a("p",[a("b",[e._v("MAX Quantity :")]),e._v(e._s(e.itav))]),a("v-text-field",{attrs:{label:"Unit Price"},model:{value:e.itup,callback:function(t){e.itup=t},expression:"itup"}}),a("v-text-field",{attrs:{label:"Discount"},model:{value:e.itdi,callback:function(t){e.itdi=t},expression:"itdi"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.edited_success()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{width:"40rem"},model:{value:e.add_cust,callback:function(t){e.add_cust=t},expression:"add_cust"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Add Customer")]),a("v-spacer"),a("v-text-field",{model:{value:e.search_cust,callback:function(t){e.search_cust=t},expression:"search_cust"}})],1),a("v-data-table",{attrs:{"item-key":"id","show-select":"","single-select":!0,search:e.search_cust,items:e.allStakes,headers:e.addCustHeader},model:{value:e.selected_cust,callback:function(t){e.selected_cust=t},expression:"selected_cust"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){e.add_cust=!1}}},[e._v("Finish")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.add_new_item,callback:function(t){e.add_new_item=t},expression:"add_new_item"}},[a("v-card",[a("v-data-iterator",{attrs:{items:e.ItemList,search:e.search_items_on_list},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{attrs:{dark:""}},[a("v-text-field",{attrs:{label:"Search",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search_items_on_list,callback:function(t){e.search_items_on_list=t},expression:"search_items_on_list"}}),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.add_new_item=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{staticStyle:{margin:"1rem"}},e._l(t.items,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[a("v-card",{attrs:{elevation:"6"}},[a("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t.name))]),a("p",{staticStyle:{"text-align":"center"}},[e._v("Category : "+e._s(t.category_name)),a("br"),e._v(" Sub Category : "+e._s(t.type_name)),a("br"),e._v(" Unit Price : "+e._s(t.price)),a("br"),e._v(" Available: "+e._s(t.quantity))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(a){return e.add_item_to_list(t)}}},[e._v("Add")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.printer,callback:function(t){e.printer=t},expression:"printer"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Invoice")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printer=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("Final",{attrs:{invoice:e.invoice_id}})],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},ka=[],ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-spacer"),a("v-switch",{attrs:{color:"black",inset:"",label:"Final Invoice View"},model:{value:e.view_type,callback:function(t){e.view_type=t},expression:"view_type"}}),e._v(" "),a("v-btn",{staticStyle:{"margin-left":"1rem"},attrs:{dark:""},on:{click:function(t){return e.print()}}},[e._v("Print")])],1),a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif",margin:"0",padding:"0"},attrs:{id:"printable"}},[a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele))]),a("p",[a("b",[e._v(e._s(e.name))])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"margin-left":"1rem"}},[a("b",[e._v("ID : INV-"+e._s(e.invComplete.id)+" "),a("br"),e._v(" Date : ")]),e._v(e._s(e.invComplete.date)+" "),a("br"),a("hr"),a("b",[e._v("Order : ")]),e._v(e._s(e.invComplete.prevdoc)+" "),a("br")]),null!=e.invComplete.customer?a("div",{staticStyle:{"margin-right":"1rem"}},[a("b",[e._v("Customer ID : "+e._s(e.customer.id)),a("br"),e._v(" Customer :")]),e._v(" "+e._s(e.customer.name)+" "),a("br"),e._v(" "+e._s(e.customer.address1)),a("br"),e._v(" "+e._s(e.customer.address2)),a("br"),e._v(" "+e._s(e.customer.address3)),a("br"),e._v(" "+e._s(e.customer.email)),a("br"),e._v(" "+e._s(e.customer.telephone)+" ")]):e._e()]),a("hr"),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Quantity")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.invData,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantity))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unit_price))]),a("td",[e._v(e._s(t.total))]),a("td",[e._v(e._s(t.discount))]),a("td",[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",[e._v(e._s(e.invComplete.total))])]),a("tr",[a("td",{attrs:{colspan:"8"}},e._l(e.cvat,(function(t){return a("p",{key:t},[e._v(e._s(t.name)+" : "+e._s(t.percentage))])})),0)]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v(" Final Amount(Tax and discount also included) ")]),a("td",[e._v(e._s(e.invComplete.final))])])],2),a("hr"),a("b",[e._v("Remarks : ")]),e._v(e._s(e.invComplete.remarks)+" "),a("hr")])])],1)},wa=[],Sa=(a("c975"),{props:["invoice"],data:function(){return{invData:null,invComplete:null,address:null,ncVat:[],view_type:!1,cvat:[],name:"",customer:null}},methods:{print:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("printable");case 2:case"end":return t.stop()}}),t)})))()},calcVats:function(e,t){if(""==e)return 0;if(e.indexOf("%")>-1){var a=e.split("%"),n=Number(a[0]);return t*(n/100)}var r=Number(e);return r},load_invoice:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=[],!e.view_type){t.next=10;break}return t.next=4,ta.ViewAllFinalInvoiceDetails(e.invoice);case 4:n=t.sent,e.invComplete=n.invoice,e.invData=n.items,a=n.vats,t.next=16;break;case 10:return t.next=12,ta.ViewAllInvoiceDetails(e.invoice);case 12:r=t.sent,e.invComplete=r.invoice,e.invData=r.items,a=r.vats;case 16:if(null==e.invComplete.customer){t.next=20;break}return t.next=19,B.getStakeFromID(e.invComplete.customer);case 19:e.customer=t.sent;case 20:for(e.ncVat=[],e.cvat=[],i=0;i<a.length;i++)s=a[i],"Nothing"==s.action?e.ncVat=e.ncVat.concat(s):e.cvat=e.cvat.concat(s);"nvat"==e.invComplete.type&&(e.name="Invoice"),"vat"==e.invComplete.type&&(e.name="VAT Invoice"),"svat"==e.invComplete.type&&(e.name="SVAT Invoice");case 26:case"end":return t.stop()}}),t)})))()}},watch:{view_type:function(){this.load_invoice()},invoice:function(){this.load_invoice()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.address={name:e.$store.getters.getName,add1:e.$store.getters.getAddress.add1,add2:e.$store.getters.getAddress.add2,add3:e.$store.getters.getAddress.add3,email:e.$store.getters.getEmail,tele:e.$store.getters.getTelephone},e.load_invoice();case 2:case"end":return t.stop()}}),t)})))()}}),Ia=Sa,Va=Object(k["a"])(Ia,ya,wa,!1,null,null,null),Ca=Va.exports;w()(Va,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"],VSwitch:re["a"]});var Ra="/api/ireq",Aa=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"InsertItemRequest",value:function(e,t,a,n,r,i,s,c,o,l){return new Promise((function(d,v){try{p.a.post("".concat(Ra,"/add"),{reqdate:e,customer:t,reference:a,cusref:n,total:r,discount:i,final:s,remarks:c,user:o,date:l}).then((function(e){var t=e.data;d(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(m){v(m)}}))}},{key:"getAllDataOfDocument",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ra,"/document/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"getAllDataDocument",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ra,"/complete-item-request/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"getAllItemsInRequest",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ra,"/items/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"getAllRequests",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Ra,"/all")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"DeleteItemRequest",value:function(e){return p.a.delete("".concat(Ra,"/deleteall/").concat(e))}},{key:"InsertRequestItem",value:function(e,t,a,n,r,i,s){return p.a.post("".concat(Ra,"/allitems"),{item:e,document:t,unitprice:a,quantity:n,total:r,discount:i,final:s})}}]),e}(),Da=Aa,Ta={components:{Type:Yt,Final:Ca},data:function(){return{invoice_id:null,printer:!1,snackbar:!1,timeout:3e3,error:"",search_items_on_list:"",cash_dialog:!1,cheque_dialog:!1,advance_dialog:!1,bank_dialog:!1,taken_advance_amount:0,credit_dialog:!1,cash:0,transaction_dialog:!1,cheque:0,credit:0,paid:0,need_to_pay:0,bank:0,cheque_id:"",bank_id:"",user:0,advances:[],all_advances:[],all_advance_ids:[],selected_advance:"",selected_advance_all:null,total:0,final:0,discount:"",itid:-1,itav:0,itqt:0,itup:0,itdi:"",st_id:"",edit_item_dialog:!1,editable_item_index:-1,selected_cust:[],add_cust:!1,search_cust:"",item_search:"",item_req_no:"",add_new_item:!1,progress:!1,categories:[],allItems:[],types:[],allStakes:[],itemRequest:null,barcode:"",remarks:"",invoice_type:"",calculated_vats:0,ItemList:[],addedItems:[],addCustHeader:[{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],addedItemHeader:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Name",value:"name"},{text:"Quantity",value:"quantity"},{text:"Unit Price",value:"unit_price"},{text:"Discount",value:"discount"},{text:"Total",value:"total"},{text:"Final",value:"final"}],vatList:[]}},watch:{selected_advance:function(){for(var e=0;e<this.all_advances.length;e++)this.selected_advance==this.all_advances[e].id&&(this.selected_advance_all=this.all_advances[e])},invoice_type:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ta.GETAllRelatedVats(this.invoice_type);case 2:this.vatList=e.sent,this.calculate_discount();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addedItems:function(){this.calculate_total()},total:function(){this.calculate_discount()},discount:function(){this.calculate_discount()},cash:function(){this.calculate_paid_amount()},cheque:function(){this.calculate_paid_amount()},bank:function(){this.calculate_paid_amount()},credit:function(){this.calculate_paid_amount()},advances:function(){this.calculate_paid_amount()},paid:function(){this.calculate_need_to_pay()},final:function(){this.calculate_need_to_pay()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.GetAllAvailableItems();case 2:return e.ItemList=t.sent,t.next=5,B.GetAllStakes("Customer");case 5:e.allStakes=t.sent,e.user=localStorage.getItem("UserToken");case 7:case"end":return t.stop()}}),t)})))()},methods:{calculate_paid_amount:function(){for(var e=0,t=0;t<this.advances.length;t++)e+=Number(this.advances[t].use_amount);e+=Number(this.cash),e+=Number(this.cheque),e+=Number(this.bank),e+=Number(this.credit),this.paid=e},calculate_need_to_pay:function(){this.need_to_pay=Number(this.final)-Number(this.paid)},finish_advance_activity:function(){if(Number(this.selected_advance_all.available)>=Number(this.taken_advance_amount)){var e={id:this.selected_advance_all.id,use_amount:this.taken_advance_amount};this.advances=this.advances.concat(e)}else this.error="Taken Amount is Exceed Available Amount!",this.snackbar=!0;this.advance_dialog=!1},edited_success:function(){for(var e=0;e<this.addedItems.length;e++)this.addedItems[e].id==this.itid&&this.itav>=this.itqt&&(this.addedItems[e].quantity=this.itqt,this.addedItems[e].unit_price=this.itup,this.addedItems[e].discount=this.itdi,this.addedItems[e].total=Number(this.itqt)*Number(this.itup),this.addedItems[e].final=Kt.a.discounting(this.addedItems[e].total,this.itdi),this.edit_item_dialog=!1,this.calculate_total())},setup_advances:function(){for(var e=0;e<this.all_advances.length;e++)this.all_advance_ids=this.all_advance_ids.concat(this.all_advances[e].id),this.advance_dialog=!0},add_advance_open:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.progress=!0,!(e.selected_cust.length>0)){t.next=9;break}return a=e.selected_cust[0].id,t.next=5,Q.GetAdvancesByStake(a);case 5:e.all_advances=t.sent,e.setup_advances(),t.next=18;break;case 9:if(null==e.itemRequest){t.next=17;break}return a=e.itemRequest.customer,t.next=13,Q.GetAdvancesByStake(a);case 13:e.all_advances=t.sent,e.setup_advances(),t.next=18;break;case 17:e.error="You must need to add customer or add item request before advances!";case 18:e.progress=!1;case 19:case"end":return t.stop()}}),t)})))()},calculate_discount:function(){this.final=Kt.a.discounting(this.total,this.discount),this.final+=this.calculate_vats(this.final)},calculate_vats:function(e){var t=0;if(this.vatList.length>0)for(var a=0;a<this.vatList.length;a++){var n=this.vatList[a].percentage,r=n.split("%");t+=Number(e)*(Number(r[0])/100)}return t},calculate_total:function(){this.total=0;for(var e=0;e<this.addedItems.length;e++)this.total+=this.addedItems[e].final},remove_advance:function(e){for(var t=0;t<this.advances.length;t++)this.advances[t].id==e.id&&this.advances.splice(t,1)},generator:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.progress=!0,!(Number(e.need_to_pay)<1&&e.addedItems.length>0&&""!=e.invoice_type)){t.next=11;break}return e.selected_cust.length>0?e.st_id=e.selected_cust[0].id:null!=e.itemRequest&&(e.st_id=e.itemRequest.customer),t.next=5,ta.CreateInvoice(e.invoice_type,e.st_id,e.itemRequest,e.total,e.discount,e.final,e.cash,e.credit,e.cheque,e.cheque_id,e.bank,e.bank_id,e.advances,e.addedItems,e.remarks,e.user,e.paid);case 5:a=t.sent,e.invoice_id=a[0].insertId,e.printer=!0,e.clearer(),t.next=12;break;case 11:Number(e.need_to_pay)>=1?(e.error="Please Complete Payments Before process",e.snackbar=!0):0==e.addedItems.length?(e.error="you must need to insert at least one item",e.snackbar=!0):(e.error="Select Preferred Invoice Type",e.snackbar=!0);case 12:e.progress=!1;case 13:case"end":return t.stop()}}),t)})))()},edit_item:function(e){this.itid=e.id,this.itqt=e.quantity,this.itup=e.unit_price,this.itdi=e.discount,this.itav=e.available,this.edit_item_dialog=!0},delete_item:function(e){for(var t=0;t<this.addedItems.length;t++)this.addedItems[t].id==e.id&&this.addedItems.splice(t,1)},view_types:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.typesofcategory(e);case 2:t.types=a.sent;case 3:case"end":return a.stop()}}),a)})))()},view_item_by_type:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.ItemFromType(e);case 2:t.allItems=a.sent;case 3:case"end":return a.stop()}}),a)})))()},add_item_to_list:function(e){if(this.search_on_added(e.id))this.allItems.length=0,this.types.length=0,this.error="Item Already Exists in this item list",this.snackbar=!0;else{var t={id:e.id,name:e.name,available:e.quantity,quantity:0,unit_price:e.price,total:0,discount:0,final:0};this.addedItems=this.addedItems.concat(t),this.allItems.length=0,this.types.length=0}},search_on_added:function(e){for(var t=0;t<this.addedItems.length;t++)if(this.addedItems[t].id==e)return!0;return!1},cancel_new_item:function(){this.allItems.length=0,this.types.length=0,this.add_new_item=!1},add_barcode:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.progress=!0,""!=e.barcode){t.next=6;break}e.error="Please enter value before!",e.snackbar=!0,t.next=19;break;case 6:if("#"!=e.barcode.charAt(0)){t.next=14;break}return n=e.barcode.split("#"),t.next=10,Jt.getItemByID(n[1]);case 10:a=t.sent,0==a.length?(e.error="No Item ID s found",e.snackbar=!0):e.add_item_to_list(a[0]),t.next=18;break;case 14:return t.next=16,Jt.getItemByCode(e.barcode);case 16:a=t.sent,0==a.length?(e.error="No Item Codes found",e.snackbar=!0):e.add_item_to_list(a[0]);case 18:e.barcode="";case 19:e.progress=!1;case 20:case"end":return t.stop()}}),t)})))()},add_item_request:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.progress=!0,0!=e.addedItems.length){t.next=12;break}return t.next=4,Da.getAllDataOfDocument(e.item_req_no);case 4:return a=t.sent,e.itemRequest=a[0],t.next=8,Da.getAllItemsInRequest(e.item_req_no);case 8:n=t.sent,e.addedItems=n,t.next=14;break;case 12:e.error="This invoice has already Items.please inseert Item Request Very Firstly!",e.snackbar=!0;case 14:e.progress=!1;case 15:case"end":return t.stop()}}),t)})))()},clearer:function(){this.itemRequest=null,this.addedItems=[],this.cash=0,this.credit=0,this.bank=0,this.cheque=0,this.advances=[],this.cheque_id="",this.bank_id="",this.selected_cust=[],this.remarks=""}}},Pa=Ta,Oa=(a("5a74"),Object(k["a"])(Pa,xa,ka,!1,null,null,null)),qa=Oa.exports;w()(Oa,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataIterator:ra["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VMain:T["a"],VProgressLinear:St["a"],VRow:P["a"],VSelect:Ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"],VTooltip:We["a"]});var Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"border_simplex margin_top_setup",attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-text-field",{attrs:{outlined:"",type:"date",label:"Required Date"},model:{value:e.reqdate,callback:function(t){e.reqdate=t},expression:"reqdate"}})],1),a("v-col",{staticClass:"border_simplex margin_top_setup",attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("button",{staticClass:"new_btn_style",staticStyle:{width:"100%"},on:{click:function(t){e.stakeholderdialog=!0}}},[e._v("Add Customer")]),a("p",[a("b",[e._v("Customer Info :")]),e._v(" "),e.selectedStake.length>0?a("span",[e._v(" "+e._s(e.selectedStake[0].name)),a("br"),e._v(" "+e._s(e.selectedStake[0].address1)),a("br"),e._v(" "+e._s(e.selectedStake[0].address2)),a("br"),e._v(" "+e._s(e.selectedStake[0].address3)),a("br"),e._v(" "+e._s(e.selectedStake[0].email)),a("br"),e._v(" "+e._s(e.selectedStake[0].telephone)),a("br")]):e._e()])]),a("v-col",{staticClass:"border_simplex margin_top_setup",attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-text-field",{attrs:{outlined:"",label:"Reference"},model:{value:e.reference,callback:function(t){e.reference=t},expression:"reference"}}),a("v-text-field",{attrs:{outlined:"",label:"Customer Reference"},model:{value:e.custreference,callback:function(t){e.custreference=t},expression:"custreference"}})],1),a("v-col",{staticClass:"border_simplex margin_top_setup",attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-text-field",{attrs:{outlined:"",label:"discount"},on:{change:function(t){return e.calculator()}},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}}),a("v-spacer"),a("v-text-field",{attrs:{outlined:"",label:"Barcode"},on:{change:function(t){return e.barcodeScannner()}},model:{value:e.barcode,callback:function(t){e.barcode=t},expression:"barcode"}})],1),a("v-card-actions",[a("p",{staticStyle:{color:"#000000"}},[e._v(e._s(e.total.toFixed(2)))]),a("v-spacer"),a("p",{staticStyle:{color:"#000000"}},[e._v(e._s(e.final.toFixed(2)))])],1)],1)],1)],1),a("v-row",[a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",sm:"12",xs:"12",md:"9",lg:"9",xl:"9"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Added Items")]),a("v-spacer"),a("v-text-field",{staticStyle:{margin:"1rem"},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}}),a("v-btn",{attrs:{dark:"",small:"",fab:""},on:{click:function(t){e.addItemDialog=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{search:e.search2,items:e.addedItems,headers:e.addeditemheader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return e.delete_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])}),e.selectedItemsToEdit.length>0?a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"lime darken-1",dark:""},on:{click:function(t){return e.editSelected()}}},[e._v("Edit")]),a("v-btn",{attrs:{color:"red darken-1",dark:""},on:{click:function(t){return e.deleteSelected()}}},[e._v("Delete")])],1):e._e()],1)],1),a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",sm:"12",xs:"12",md:"3",lg:"3",xl:"3"}},[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cleaner()}}},[e._v(" Clear")]),e._v(" "),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.generateDocument()}}},[e._v(" Generate")]),a("v-textarea",{staticStyle:{margin:"1rem"},attrs:{label:"Remarks",filled:"",outlined:""},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.stakeholderdialog,callback:function(t){e.stakeholderdialog=t},expression:"stakeholderdialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("Select Customer")]),a("v-spacer"),a("v-text-field",{model:{value:e.searchstakes,callback:function(t){e.searchstakes=t},expression:"searchstakes"}})],1),a("v-divider"),a("v-data-table",{attrs:{items:e.stakeholder,headers:e.stakeHeader,"show-select":"",search:e.searchstakes,"single-select":!0,"item-key":"id"},model:{value:e.selectedStake,callback:function(t){e.selectedStake=t},expression:"selectedStake"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.cancelnew()}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.addnew()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"40rem"},model:{value:e.addItemDialog,callback:function(t){e.addItemDialog=t},expression:"addItemDialog"}},[a("v-card",[a("v-data-iterator",{attrs:{items:e.ItemList,search:e.search_items_on_list},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{attrs:{dark:""}},[a("v-text-field",{attrs:{label:"Search",clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify"},model:{value:e.search_items_on_list,callback:function(t){e.search_items_on_list=t},expression:"search_items_on_list"}}),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.addItemDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",{staticStyle:{margin:"1rem"}},e._l(t.items,(function(t){return a("v-col",{key:t.id,attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[a("v-card",{attrs:{elevation:"6"}},[a("v-card-title",{staticClass:"subheading font-weight-bold"},[e._v(e._s(t.name))]),a("p",{staticStyle:{"text-align":"center"}},[e._v("Category : "+e._s(t.category_name)),a("br"),e._v(" Sub Category : "+e._s(t.type_name)),a("br"),e._v(" Unit Price : "+e._s(t.price)),a("br"),e._v(" Available: "+e._s(t.quantity))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(a){return e.insert_item_to_list(t)}}},[e._v("Add")]),a("v-spacer")],1)],1)],1)})),1)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.documentPrintDialog,callback:function(t){e.documentPrintDialog=t},expression:"documentPrintDialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Item Request Note")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.documentPrintDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("IREQPrint",{attrs:{id:e.document_id}})],1)],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.changeDialog,callback:function(t){e.changeDialog=t},expression:"changeDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-spacer"),a("v-card-title",[e._v("Change Data")]),a("v-spacer")],1),a("p",[e._v(e._s(e.dialogItem))]),a("v-divider"),a("v-text-field",{attrs:{label:"Quantity"},model:{value:e.dialogqty,callback:function(t){e.dialogqty=t},expression:"dialogqty"}}),a("v-text-field",{attrs:{label:"Unit Price"},model:{value:e.dialogup,callback:function(t){e.dialogup=t},expression:"dialogup"}}),a("v-text-field",{attrs:{label:"Discount"},model:{value:e.dialogdisc,callback:function(t){e.dialogdisc=t},expression:"dialogdisc"}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.changeDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.changeSelectives()}}},[e._v("Change")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},ja=[],Ga=(a("b680"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.print_document()}}},[e._v("Print")])],1),a("div",{attrs:{id:"printable_doc"}},[a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)),a("br"),a("b",[e._v("Item Request Note")])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"margin-left":"1rem"}},[a("p",[a("b",[e._v("ID : "+e._s(e.allRequestData.id)+" "),a("br"),e._v(" Date : ")]),e._v(e._s(e.allRequestData.reqdate)+" "),a("br"),a("b",[e._v("Reference :")]),e._v(" "+e._s(e.allRequestData.reference)+" "),a("br"),a("b",[e._v("Customer Reference :")]),e._v(" "+e._s(e.allRequestData.reference)+" ")])]),a("div",{staticStyle:{"margin-right":"1rem"}},[a("p",[a("b",[e._v("Customer ID : "+e._s(e.allRequestData.customer)+" "),a("br"),e._v(" Customer : ")]),e._v(" "+e._s(e.allRequestData.name)+" "),a("br"),e._v(" "+e._s(e.allRequestData.address1)+" "),a("br"),e._v(" "+e._s(e.allRequestData.address2)+" "),a("br"),e._v(" "+e._s(e.allRequestData.address3)+" "),a("br"),e._v(" "+e._s(e.allRequestData.email)+" "),a("br"),e._v(" "+e._s(e.allRequestData.telephone)+" ")])])]),a("hr"),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Quantity")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.allRequestData.items,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unitprice))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantity))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.total))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.discount))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.allRequestData.total))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Discount")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.allRequestData.discount))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Final")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.allRequestData.final))])])],2),a("hr"),a("p",[a("b",[e._v("Remarks : ")]),e._v(e._s(e.allRequestData.remarks)+" ")]),a("hr")])])],1)}),Ea=[],La={name:"IREQPrint",props:["id"],data:function(){return{allRequestData:null,address:null}},watch:{id:function(){this.load_item_request()}},methods:{load_item_request:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Da.getAllDataDocument(e.id);case 2:e.allRequestData=t.sent;case 3:case"end":return t.stop()}}),t)})))()},print_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$htmlToPaper("printable_doc");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.address={name:this.$store.getters.getName,add1:this.$store.getters.getAddress.add1,add2:this.$store.getters.getAddress.add2,add3:this.$store.getters.getAddress.add3,email:this.$store.getters.getEmail,tele:this.$store.getters.getTelephone},this.load_item_request()}},$a=La,Fa=Object(k["a"])($a,Ga,Ea,!1,null,null,null),Ua=Fa.exports;w()(Fa,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"]});var Ba={components:{IREQPrint:Ua},data:function(){return{barcode:"",stakeholder:[],reqdate:"",search_items_on_list:"",reference:"",custreference:"",total:0,discount:"",final:0,remarks:"",snackbar:!1,error:"",timeout:2e3,selectedStake:[],search2:"",search3:"",searchstakes:"",stakeholderdialog:!1,stakeHeader:[{text:"Name",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"}],allItems:[],addItemDialog:!1,addeditemheader:[{text:"",value:"controls"},{text:"Name",value:"itemname"},{text:"Unit Price",value:"unitprice"},{text:"Quantity",value:"quantity"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],selectedItemFromList:[],addedItems:[],selectedItemsToEdit:[],changeDialog:!1,dialogItem:"",dialogqty:0,dialogup:0,dialogdisc:"",user:"",selected_item_code:0,categories:[],types:[],document_id:null,ItemList:[],documentPrintDialog:!1}},methods:{cancelnew:function(){this.selectedStake=[],this.stakeholderdialog=!1},addnew:function(){this.selectedStake.length>0?this.stakeholderdialog=!1:(this.error="Please select one of stakeholder",this.snackbar=!0)},generateDocument:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Da.InsertItemRequest(e.reqdate,e.selectedStake[0].id,e.reference,e.custreference,e.total.toFixed(2),e.discount,e.final.toFixed(2),e.remarks,e.user,Date.now());case 2:a=t.sent,n=a[0].insertId,r=0;case 5:if(!(r<e.addedItems.length)){t.next=11;break}return t.next=8,Da.InsertRequestItem(e.addedItems[r].item,n,e.addedItems[r].unitprice,e.addedItems[r].quantity,e.addedItems[r].total.toFixed(2),e.addedItems[r].discount,e.addedItems[r].final.toFixed(2));case 8:r++,t.next=5;break;case 11:e.document_id=n,e.documentPrintDialog=!0,e.cleaner();case 14:case"end":return t.stop()}}),t)})))()},cancel_new_item:function(){this.addItemDialog=!1,this.allItems=[],this.types=[]},insert_item_to_list:function(e){for(var t={item:e.id,itemname:e.name,unitprice:e.price,quantity:0,total:0,discount:"",final:0},a=!1,n=0;n<this.addedItems.length;n++)this.addedItems[n].item==e.id&&(a=!0);a?(this.error="Item Already Exists on list!",this.snackbar=!0):this.addedItems=this.addedItems.concat(t),this.addItemDialog=!1,this.allItems=[],this.types=[]},delete_item:function(e){for(var t=0;t<this.addedItems.length;t++)this.addedItems[t].item==e.item&&this.addedItems.splice(t,1)},barcodeScannner:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.barcode){t.next=5;break}e.error="Please enter value before!",e.snackbar=!0,t.next=18;break;case 5:if("#"!=e.barcode.charAt(0)){t.next=13;break}return n=e.barcode.split("#"),t.next=9,Jt.getItemByID(n[1]);case 9:a=t.sent,0==a.length?(e.error="No Item ID s found",e.snackbar=!0):e.barcode_add_scannner(a[0]),t.next=17;break;case 13:return t.next=15,Jt.getItemByCode(e.barcode);case 15:a=t.sent,0==a.length?(e.error="No Item Codes found",e.snackbar=!0):e.barcode_add_scannner(a[0]);case 17:e.barcode="";case 18:case"end":return t.stop()}}),t)})))()},barcode_add_scannner:function(e){var t={item:e.id,itemname:e.name,unitprice:e.price,quantity:0,total:0,discount:e.discount,final:0};this.addedItems=this.addedItems.concat(t)},edit_item:function(e){for(var t=0;t<this.addedItems.length;t++)if(this.addedItems[t].item==e.item){this.selected_item_code=e.item,this.dialogItem=e.itemname,this.dialogqty=e.quantity,this.dialogup=e.unitprice,this.dialogdisc=e.discount,this.changeDialog=!0;break}},changeSelectives:function(){for(var e=0;e<this.addedItems.length;e++)this.addedItems[e].item==this.selected_item_code&&(this.addedItems[e].quantity=this.dialogqty,this.addedItems[e].unitprice=this.dialogup,this.addedItems[e].total=this.addedItems[e].quantity*this.addedItems[e].unitprice,this.addedItems[e].discount=this.dialogdisc,this.addedItems[e].final=Kt.a.discounting(this.addedItems[e].total,this.addedItems[e].discount),this.calculator(),this.changeDialog=!1)},calculator:function(){this.total=0;for(var e=0;e<this.addedItems.length;e++)this.total+=this.addedItems[e].final;this.final=Kt.a.discounting(this.total,this.discount)},cleaner:function(){this.addedItems=[],this.reference="",this.custreference="",this.discount="",this.reqdate="",this.selectedStake=[],this.calculator()},view_types:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.GetTypes(e);case 2:t.types=a.sent;case 3:case"end":return a.stop()}}),a)})))()},getAllItemsList:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.GetItemsByType(e);case 2:t.allItems=a.sent;case 3:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.GetAllStakes("Customer");case 2:return e.stakeholder=t.sent,t.next=5,Jt.GetAllAvailableItems();case 5:e.ItemList=t.sent,e.user=localStorage.getItem("UserToken");case 7:case"end":return t.stop()}}),t)})))()}},Ha=Ba,Ma=(a("703b"),Object(k["a"])(Ha,Na,ja,!1,null,null,null)),Qa=Ma.exports;w()(Ma,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataIterator:ra["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"border_simplex",staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-text-field",{attrs:{outlined:"",type:"date",label:"Returned Date"},model:{value:e.retdate,callback:function(t){e.retdate=t},expression:"retdate"}}),a("v-text-field",{attrs:{outlined:"",label:"Reference"},model:{value:e.reference,callback:function(t){e.reference=t},expression:"reference"}})],1)],1),a("v-col",{staticClass:"border_simplex",staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-text-field",{attrs:{label:"invoice"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.AddInvoiceer()}},model:{value:e.invoice_id,callback:function(t){e.invoice_id=t},expression:"invoice_id"}}),a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.AddInvoiceer()}}},[e._v("Add")])],1)],1)],1),a("v-col",{staticClass:"border_simplex",staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"3"}},[a("v-text-field",{attrs:{outlined:"",type:"number",step:"0.01",label:"Released Amount"},model:{value:e.released,callback:function(t){e.released=t},expression:"released"}})],1),a("v-col",{staticClass:"border_simplex",staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"3"}},[null!=e.invoice?a("div",[a("b",[e._v("ID : ")]),a("span",[e._v(e._s(e.invoice.id))]),a("br"),a("b",[e._v("Type : ")]),a("span",[e._v(e._s(e.invoice.type))]),a("br"),a("b",[e._v("Total : ")]),a("span",[e._v(e._s(e.invoice.total))]),a("br"),a("b",[e._v("Discount : ")]),a("span",[e._v(e._s(e.invoice.discount))]),a("br"),a("b",[e._v("Final : ")]),a("span",[e._v(e._s(e.invoice.final))]),a("br")]):e._e()])],1),a("v-row",[a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"12",md:"9",lg:"9",xl:"9"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Returned Items")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search on List "},model:{value:e.searchItem,callback:function(t){e.searchItem=t},expression:"searchItem"}})],1),a("v-data-table",{attrs:{items:e.allInvoiceItems,headers:e.allItemHeader,"item-key":"_id"},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),a("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.delete_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])})],1)],1),a("v-col",{staticStyle:{padding:"2rem"},attrs:{cols:"12",xs:"12",sm:"12",md:"3",lg:"3",xl:"3"}},[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.clear()}}},[e._v("Clean")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.generate()}}},[e._v("Generate")]),a("v-textarea",{staticStyle:{margin:"1rem"},attrs:{outlined:"",label:"Reason"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.changeItemDialog,callback:function(t){e.changeItemDialog=t},expression:"changeItemDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Change Item")]),a("v-text-field",{attrs:{label:"Quantity",type:"number",step:"0.001",outlined:""},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.success_change_quantity()}}},[e._v("Change")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.printable_dialog,callback:function(t){e.printable_dialog=t},expression:"printable_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Item Return Note")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printable_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("ItemReturnPrint",{attrs:{id:e.printable_doc}})],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},za=[],Wa="/api/return",Ja=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"addNewReturnNote",value:function(e){return new Promise((function(t,a){try{p.a.post("".concat(Wa,"/add"),{data:e}).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"addNewItemToNote",value:function(e,t,a,n,r,i,s){return p.a.post("".concat(Wa,"/additem"),{item:e,document:t,quantity:a,iup:n,retamount:r,unitprice:i,total:s})}},{key:"GetAllReturnNotes",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Wa,"/all")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GETSingleDocument",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Wa,"/singledoc/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETSingleDocItems",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Wa,"/singledocitem/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GETCompleteGren",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Wa,"/gren-complete/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"GETCompleteIret",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Wa,"/iret-complete/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"DeleteReturnNote",value:function(e){return p.a.delete("".concat(Wa,"/allreturns/").concat(e))}},{key:"getAllGren",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Wa,"/gren-list")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"PurchaseReturnNote",value:function(e){return new Promise((function(t,a){try{p.a.post("".concat(Wa,"/purchase-return-create"),{data:e}).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}}]),e}(),Xa=Ja,Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.print_document()}}},[e._v("Print")])],1),a("div",{attrs:{id:"printable"}},[a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)),a("br"),a("b",[e._v("Item Return Note")])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"margin-left":"1rem"}},[a("p",[a("b",[e._v("ID : ")]),e._v(e._s(e.all_datas.id)+" "),a("br"),a("b",[e._v("Reference : ")]),e._v(" "+e._s(e.all_datas.reference)+" "),a("br"),a("b",[e._v("Returned Date : ")]),e._v(e._s(e.all_datas.return_date))])]),a("div",{staticStyle:{"margin-right":"1rem"}},[a("p",[a("b",[e._v("Invoice : ")]),e._v(e._s(e.all_datas.invoice)+" "),a("br"),a("b",[e._v("Date : ")]),e._v(" "+e._s(e.all_datas.date)+" ")])])]),a("hr"),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Quantity")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.all_datas.items,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unit_price))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantity))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.total))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.discount))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.all_datas.returned_amount))])])],2),a("hr"),a("p",[a("b",[e._v("Remarks : ")]),e._v(e._s(e.all_datas.reason))]),a("hr")])])],1)},Za=[],en={props:["id"],data:function(){return{all_datas:null,address:null}},methods:{load_all_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xa.GETCompleteIret(e.id);case 2:e.all_datas=t.sent;case 3:case"end":return t.stop()}}),t)})))()},print_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$htmlToPaper("printable");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.address={name:this.$store.getters.getName,add1:this.$store.getters.getAddress.add1,add2:this.$store.getters.getAddress.add2,add3:this.$store.getters.getAddress.add3,email:this.$store.getters.getEmail,tele:this.$store.getters.getTelephone},this.load_all_document()},watch:{id:function(){this.load_all_document()}}},tn=en,an=Object(k["a"])(tn,Ka,Za,!1,null,null,null),nn=an.exports;w()(an,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"]});var rn={components:{ItemReturnPrint:nn},data:function(){return{snackbar:!1,error:"",timeout:2e3,retdate:"",editItemDialog:!1,invoice_id:"",released:0,editQty:0,changeItemDialog:!1,quantity:0,reason:"",reference:"",invoice:null,vats:[],invoice_items:[],allInvoiceItems:[],allItemHeader:[{text:"",value:"controls"},{text:"Item ID",value:"id"},{text:"Code",value:"code"},{text:"Item",value:"name"},{text:"Unit",value:"unit"},{text:"Quantity",value:"quantity"},{text:"Unit Price",value:"unit_price"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],searchItem:"",selectedItem:null,user:null,printable_doc:null,printable_dialog:!1}},created:function(){this.user=localStorage.getItem("UserToken")},methods:{AddInvoiceer:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ta.ViewAllFinalInvoiceDetails(e.invoice_id);case 2:a=t.sent,a.status?(e.invoice=a.invoice,e.vats=a.vats,e.invoice_items=a.items,e.allInvoiceItems=e.invoice_items,e.calculate_amount()):(e.error="Invoice Not Found!",e.snackbar=!0);case 4:case"end":return t.stop()}}),t)})))()},calculate_amount:function(){for(var e=0,t=0;t<this.allInvoiceItems.length;t++)e=Number(e)+Number(this.allInvoiceItems[t].final);this.released=Kt.a.discounting(e,this.invoice.discount)},clear:function(){this.retdate="",this.reference="",this.invoice_id="",this.invoice=null,this.released=0,this.allInvoiceItems=[],this.reason="",this.searchItem=""},generate:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={date:(new Date).toISOString().slice(0,10),user:e.user,return_date:e.retdate,reference:e.reference,invoice:e.invoice,released:e.released,items:e.allInvoiceItems,reason:e.reason},t.next=3,Xa.addNewReturnNote(a);case 3:n=t.sent,e.printable_doc=n.id,e.printable_dialog=!0,e.clear();case 7:case"end":return t.stop()}}),t)})))()},edit_item:function(e){this.quantity=e.quantity,this.selectedItem=e,this.changeItemDialog=!0},delete_item:function(e){for(var t=0;t<this.allInvoiceItems.length;t++)e.id==this.allInvoiceItems[t].id&&this.allInvoiceItems.splice(t,1);this.calculate_amount()},success_change_quantity:function(){for(var e=0;e<this.allInvoiceItems.length;e++)this.selectedItem.id==this.allInvoiceItems[e].id&&(this.allInvoiceItems[e].quantity=Number(this.quantity).toFixed(3),this.allInvoiceItems[e].total=Number(this.allInvoiceItems[e].quantity)*Number(this.allInvoiceItems[e].unit_price),this.allInvoiceItems[e].final=Kt.a.discounting(this.allInvoiceItems[e].total,this.allInvoiceItems[e].discount));this.calculate_amount(),this.changeItemDialog=!1}}},sn=rn,cn=(a("e7dc"),Object(k["a"])(sn,Ya,za,!1,null,null,null)),on=cn.exports;w()(cn,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-main",[a("v-container",{staticClass:"margin_top_setup",attrs:{fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",xs:"6",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{staticStyle:{padding:"1rem"},attrs:{flat:""}},[a("v-text-field",{attrs:{label:"Returned Date",type:"date"},model:{value:e.ret_date,callback:function(t){e.ret_date=t},expression:"ret_date"}}),a("v-text-field",{attrs:{label:"Reference"},model:{value:e.reference,callback:function(t){e.reference=t},expression:"reference"}})],1)],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",xs:"6",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-text-field",{attrs:{label:"GRN NO:"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.load_grn()}},model:{value:e.grn_id,callback:function(t){e.grn_id=t},expression:"grn_id"}}),a("v-spacer"),a("button",{staticClass:"new_btn_style",on:{click:function(t){return e.load_grn()}}},[e._v("Add")])],1),null!=e.grn?a("p",[a("b",[e._v("GRN id : ")]),a("span",[e._v(e._s(e.grn.id))]),a("br"),a("b",[e._v("Total : ")]),a("span",[e._v(e._s(e.grn.total))]),a("br"),a("b",[e._v("GRN Taxes ( "+e._s(e.grn.vat_percentage)+" ) : ")]),a("span",[e._v(e._s(e.grn.vat_amount))]),a("br"),a("b",[e._v("GRN Discounts ( "+e._s(e.grn.discount)+" ) : ")]),a("span",[e._v(e._s(e.grn.disc_amount))]),a("br"),a("b",[e._v("GRN Final : ")]),a("span",[e._v(e._s(e.grn.final))])]):e._e()],1)],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",xs:"6",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-chip",{attrs:{label:""}},[e._v("Total : "+e._s(e.total_amount.toFixed(2)))]),a("v-spacer"),a("v-chip",{attrs:{label:""}},[e._v("Final : "+e._s(e.final_amount.toFixed(2)))])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:""},on:{click:function(t){e.addItemDialog=!0}}},[e._v("Add Item List")])],1),a("v-card-actions",[a("v-chip",{attrs:{label:""}},[e._v("Discount : "+e._s(e.disc_am.toFixed(2)))]),a("v-spacer"),a("v-chip",{attrs:{label:""}},[e._v("VAT : "+e._s(e.vat_am.toFixed(2)))])],1)],1)],1),a("v-col",{staticClass:"border_simplex",attrs:{cols:"6",xs:"6",sm:"6",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[null!=e.grn?a("p",[a("b",[e._v("Supplier ID : ")]),a("span",[e._v(e._s(e.grn.stakeholder))]),a("br"),a("b",[e._v("Supplier Name : ")]),a("span",[e._v(e._s(e.grn.st_name))]),a("br"),a("b",[e._v("Supplier Address : ")]),a("span",[e._v(e._s(e.grn.address1)),a("br"),e._v(e._s(e.grn.address2)),a("br"),e._v(e._s(e.grn.address3))]),a("br"),a("b",[e._v("Supplier email : ")]),a("span",[e._v(e._s(e.grn.email))]),a("br"),a("b",[e._v("Supplier Telephone : ")]),a("span",[e._v(e._s(e.grn.telephone))]),a("br")]):e._e()])],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"9",lg:"9",xl:"9"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Returned Items")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.addedItemSearch,callback:function(t){e.addedItemSearch=t},expression:"addedItemSearch"}})],1),a("v-data-table",{attrs:{headers:e.grn_item_headers,search:e.addedItemSearch,items:e.addedItems},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.edit_items(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-book-edit")])],1),e._v(" "),a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.delete_items(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-delete")])],1)]}}])})],1)],1),a("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"3",lg:"3",xl:"3"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.clean()}}},[e._v("Clear")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.generate()}}},[e._v("Generate")]),a("v-spacer")],1),a("v-textarea",{attrs:{label:"Remarks",outlined:""},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"50rem"},model:{value:e.addItemDialog,callback:function(t){e.addItemDialog=t},expression:"addItemDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Add Item")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.searchdata,callback:function(t){e.searchdata=t},expression:"searchdata"}})],1),a("v-data-table",{attrs:{search:e.searchdata,items:e.grn_items,headers:e.grn_item_headers},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.add_item(n)}}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-plus-circle")])],1)]}}])}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.addItemDialog=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.editItemDialog,callback:function(t){e.editItemDialog=t},expression:"editItemDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Edit")]),a("v-text-field",{attrs:{label:"Quantity"},model:{value:e.quantity,callback:function(t){e.quantity=t},expression:"quantity"}}),a("v-btn",{on:{click:function(t){return e.change_item_data()}}},[e._v("Change")])],1)],1),a("v-dialog",{model:{value:e.gpDialog,callback:function(t){e.gpDialog=t},expression:"gpDialog"}},[a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Purchase Return Print")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.gpDialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("GRENPrint",{attrs:{id:e.gpid}})],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},dn=[],un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.print_document()}}},[e._v("Print")])],1),a("div",{attrs:{id:"printable"}},[a("div",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v(e._s(e.address.name))]),a("p",[a("b",[e._v(e._s(e.address.add1)+","+e._s(e.address.add2)+","+e._s(e.address.add3))]),a("br"),e._v(e._s(e.address.email)),a("br"),e._v(e._s(e.address.tele)),a("br"),a("b",[e._v("Purchase Return Note")])])]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"margin-left":"1rem"}},[a("p",[a("b",[e._v("ID : ")]),e._v(e._s(e.all_datas.id)+" "),a("br"),a("b",[e._v("Code : ")]),e._v(e._s(e.all_datas.code)+" "),a("br"),a("b",[e._v("Date Returned : ")]),e._v(e._s(e.all_datas.returned_date)+" "),a("br")])]),a("div",{staticStyle:{"margin-right":"1rem"}},[a("p",[a("b",[e._v("GRN : ")]),e._v(e._s(e.all_datas.grn)+" "),a("br"),a("b",[e._v("Date : ")]),e._v(" "+e._s(e.all_datas.date)+" ")])])]),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("th",[e._v("Code")]),a("th",[e._v("Name")]),a("th",[e._v("Unit")]),a("th",[e._v("Quantity")]),a("th",[e._v("Unit Price")]),a("th",[e._v("Total")]),a("th",[e._v("Discount")]),a("th",[e._v("Final")])]),e._l(e.all_datas.items,(function(t){return a("tr",{key:t},[a("td",[e._v(e._s(t.code))]),a("td",[e._v(e._s(t.name))]),a("td",[e._v(e._s(t.unit))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.unit_price))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.quantity))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.total))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.discount))]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(t.final))])])})),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Total")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.all_datas.total))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Discount ( "+e._s(e.all_datas.discount_percentage)+" ) :")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.all_datas.discounted_amount))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("TAX Amount ( "+e._s(e.all_datas.vat_percentage)+" ) :")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.all_datas.vat_amount))])]),a("tr",[a("td",{attrs:{colspan:"7"}},[e._v("Final")]),a("td",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.all_datas.final))])])],2),a("hr"),a("p",[a("b",[e._v("Remarks : ")]),e._v(e._s(e.all_datas.remarks))]),a("hr")])])],1)},vn=[],mn={props:["id"],data:function(){return{all_datas:null,address:null}},methods:{load_all_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xa.GETCompleteGren(e.id);case 2:e.all_datas=t.sent;case 3:case"end":return t.stop()}}),t)})))()},print_document:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$htmlToPaper("printable");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.address={name:this.$store.getters.getName,add1:this.$store.getters.getAddress.add1,add2:this.$store.getters.getAddress.add2,add3:this.$store.getters.getAddress.add3,email:this.$store.getters.getEmail,tele:this.$store.getters.getTelephone},this.load_all_document()},watch:{id:function(){this.load_all_document()}}},_n=mn,pn=Object(k["a"])(_n,un,vn,!1,null,null,null),hn=pn.exports;w()(pn,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"]});var fn={name:"GREN",components:{GRENPrint:hn},data:function(){return{gpid:-1,gpDialog:!1,stage_item:null,quantity:"",editItemDialog:!1,final_amount:0,change_amount:0,reference:"",searchdata:"",addedItemSearch:"",disc_am:0,vat_am:0,grn_id:"",snackbar:!1,total_amount:0,timeout:2e3,addItemDialog:!1,error:"",grn:null,remarks:"",ret_date:"",grn_items:[],grn_item_headers:[{text:"",value:"controls"},{text:"ID",value:"item"},{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Unit",value:"unit"},{text:"Unit Price",value:"unit_price"},{text:"Quantity",value:"quantity"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],addedItems:[]}},watch:{total_amount:function(){this.calculate_final_amount()}},methods:{calculate_final_amount:function(){if(null!=this.grn&&(this.final_amount=this.total_amount,null!=this.grn.discount&&""!=this.grn.discount&&(this.final_amount=Kt.a.discounting(this.total_amount,this.grn.discount)),this.disc_am=this.final_amount-this.total_amount,null!=this.grn.vat_percentage&&""!=this.grn.vat_percentage)){var e=this.grn.vat_percentage,t=e.split("%");this.vat_am=Number(this.final_amount)*(Number(t[0])/100),this.final_amount=Number(this.final_amount)+Number(this.vat_am)}},load_grn:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.grn_id){t.next=5;break}e.error="Please Insert Grn ID",e.snackbar=!0,t.next=11;break;case 5:return t.next=7,X.GetFinalGrnAllData(e.grn_id);case 7:a=t.sent,e.grn_id="",e.grn=a.grn,e.grn_items=a.items;case 11:case"end":return t.stop()}}),t)})))()},add_item:function(e){this.addedItems=this.addedItems.concat(e),this.addItemDialog=!1,this.calculate_total_amount()},edit_items:function(e){this.editItemDialog=!0,this.stage_item=e},change_item_data:function(){for(var e=0;e<this.addedItems.length;e++)this.addedItems[e].id==this.stage_item.id&&(Number(this.addedItems[e].quantity)>=Number(this.quantity)?this.addedItems[e].quantity=this.quantity:(this.error="Cannot exceed received limit",this.snackbar=!0));this.editItemDialog=!1,this.calculate_total_amount()},calculate_total_amount:function(){for(var e=0,t=0;t<this.addedItems.length;t++)this.addedItems[t].total=Number(this.addedItems[t].quantity)*Number(this.addedItems[t].unit_price),this.addedItems[t].final=Kt.a.discounting(this.addedItems[t].total,this.addedItems[t].discount),e+=Number(this.addedItems[t].final);this.total_amount=e},clean:function(){this.ret_date="",this.reference="",this.remarks="",this.stage_item=null,this.addedItemSearch="",this.grn_id="",this.total_amount=0,this.grn=null,this.grn_items=[],this.addedItems=[]},generate:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.ret_date){t.next=15;break}if(!(e.addedItems.length>0)){t.next=11;break}return a={rdate:e.ret_date,edate:(new Date).toISOString().slice(0,10),ref:e.reference,rem:e.remarks,grn:e.grn,items:e.addedItems,total_am:e.total_amount,disc_perc:e.grn.discount,vat_perc:e.grn.vat_percentage,disc_am:e.disc_am,vat_am:e.vat_am,final_amount:e.final_amount},t.next=5,Xa.PurchaseReturnNote(a);case 5:n=t.sent,e.gpid=n.id,e.gpDialog=!0,e.clean(),t.next=13;break;case 11:e.error="Add Least One Item",e.snackbar=!0;case 13:t.next=17;break;case 15:e.error="Error Occured Please enter date correctly",e.snackbar=!0;case 17:case"end":return t.stop()}}),t)})))()},delete_items:function(e){for(var t=0;t<this.addedItems.length;t++)this.addedItems[t].id==e.id&&this.addedItems.splice(t,1);this.calculate_total_amount()}}},bn=fn,gn=(a("9bc7"),Object(k["a"])(bn,ln,dn,!1,null,null,null)),xn=gn.exports;w()(gn,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VMain:T["a"],VRow:P["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var kn={props:["docutype"],data:function(){return{docName:"",po:!1,GRNdoc:!1,inv:!1,ireq:!1,iret:!1,seldocdi:!1,pret:!1}},components:{PurchaseOrder:ca,GRN:ga,Invoice:qa,IreqNote:Qa,IretNote:on,Gren:xn},created:function(){switch(null==localStorage.getItem("UserToken")&&this.$router.push("/"),this.docutype){case"PO":this.po=!0,this.docName="Purchase Order";break;case"GRN":this.GRNdoc=!0,this.docName="Good Receive Note";break;case"INV":this.inv=!0,this.docName="Invoice";break;case"MRN":this.ireq=!0,this.docName="Item Request Note";break;case"MREN":this.iret=!0,this.docName="Item Return Note";break;case"GREN":this.pret=!0,this.docName="Purchase Return Note";break}}},yn=kn,wn=Object(k["a"])(yn,Ct,Rt,!1,null,null,null),Sn=wn.exports;w()(wn,{VApp:S["a"],VAppBar:Be["a"],VBtn:I["a"],VIcon:ae["a"],VSpacer:ne["a"]});var In=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",dark:"",flat:""}},[n("v-btn",{attrs:{to:"/dashboard",icon:""}},[n("v-icon",[e._v("mdi-home")])],1),n("v-spacer"),n("v-toolbar-title",[e._v("Stock Count Report")]),n("v-spacer")],1),n("v-main",[n("v-tabs",[n("v-tab",[e._v("Create Report")]),n("v-tab-item",[n("v-container",{attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-card",{staticStyle:{padding:"1rem",margin:"1rem"}},[n("v-card-title",[e._v("Range")]),n("p",[e._v("If you want to stop all categories. dont select category if you want to stop all types dont select types ")]),n("v-select",{attrs:{outlined:"",items:e.allCategories,"item-text":"name","item-value":"id",label:"Category","persistent-hint":"","return-object":"","single-line":""},model:{value:e.selected_cat,callback:function(t){e.selected_cat=t},expression:"selected_cat"}}),e.allTypes.length>0?n("v-select",{attrs:{outlined:"",items:e.allTypes,"item-text":"name","item-value":"id",label:"Type","persistent-hint":"","return-object":"","single-line":""},model:{value:e.selected_type,callback:function(t){e.selected_type=t},expression:"selected_type"}}):e._e(),n("v-text-field",{attrs:{outlined:"",label:"Date",type:"date"},model:{value:e.date_input,callback:function(t){e.date_input=t},expression:"date_input"}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{dark:""},on:{click:function(t){return e.generate()}}},[e._v("Generate")])],1)],1)],1)],1)],1)],1),n("v-tab",[e._v("View/Print Report")]),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-actions",[n("v-spacer"),n("v-text-field",{attrs:{"max-width":"30rem",label:"ID",hint:"Enter Id and press enter"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getPrintableData()}},model:{value:e.print_doc_id,callback:function(t){e.print_doc_id=t},expression:"print_doc_id"}}),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.getPrintableData()}}},[e._v("View")]),n("v-btn",{attrs:{dark:""},on:{click:function(t){return e.print_table()}}},[e._v("Print")])],1),n("div",{attrs:{id:"print_table"}},[n("table",{staticStyle:{"border-collapse":"collapse",width:"100%"},attrs:{border:"1"}},[n("tr",[n("th",{staticStyle:{padding:"10px"}},[e._v("Item ID")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Category")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Sub Category")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Code")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Name")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Unit")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Sell Price")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Average Price")]),n("th",{staticStyle:{padding:"10px"}},[e._v("System Quantity")]),n("th",{staticStyle:{padding:"10px"}},[e._v("Physical Quantity")])]),e._l(e.print_data_list,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.id))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.category_name))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.sub_cat))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.code))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.name))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.unit))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.price))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.avg_price))]),n("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.last_system))]),n("td",{staticStyle:{"padding-top":"20px","text-align":"center"}},[e._v("..................")])])}))],2)])],1)],1),n("v-tab",[e._v("Edit Changes")]),n("v-tab-item",[n("v-card",{attrs:{flat:""}},[n("v-card-actions",[n("v-card-title",[e._v("Add Reported Data")]),n("v-spacer"),n("v-text-field",{attrs:{label:"Document ID",hint:"type document id and hit enter"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editDocumentLoad()}},model:{value:e.editDocument,callback:function(t){e.editDocument=t},expression:"editDocument"}}),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.editDocumentLoad()}}},[e._v("Load")]),n("v-btn",{attrs:{dark:""},on:{click:function(t){return e.commit_changes()}}},[e._v("Done Changes")])],1),n("v-data-table",{attrs:{items:e.data_lists,headers:e.data_list_headers},scopedSlots:e._u([{key:"item.phy_data",fn:function(t){var a=t.item;return[n("v-text-field",{attrs:{placeholder:"Amount",type:"number",step:"0.001"},on:{change:function(t){return e.changed(a)}},model:{value:a.last_physical,callback:function(t){e.$set(a,"last_physical",t)},expression:"item.last_physical"}})]}},{key:"item.var_qty",fn:function(t){var a=t.item;return[n("p",[e._v(e._s(Number(a.variance_qty).toFixed(3)))])]}},{key:"item.var_total",fn:function(t){var a=t.item;return[n("p",[e._v(e._s(Number(a.variance_total).toFixed(2)))])]}}])})],1)],1),n("v-tab",[e._v("History & posting")]),n("v-tab-item",[n("history-report")],1)],1),n("v-dialog",{attrs:{width:"20rem"},model:{value:e.done_alert,callback:function(t){e.done_alert=t},expression:"done_alert"}},[n("v-card",[n("v-img",{attrs:{src:a("ae7e")}}),n("v-card-actions",[n("v-spacer"),n("v-card-title",[e._v("Success!")]),n("v-spacer")],1),n("v-card-actions",[n("v-spacer"),n("p",[e._v("ID : "+e._s(e.done_id))]),n("v-spacer")],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.done_alert=!1}}},[e._v("Done!")]),n("v-spacer")],1)],1)],1),n("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)],1)},Vn=[],Cn="/api/report",Rn=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"Generate",value:function(e,t,a){return new Promise((function(n,r){try{p.a.post("".concat(Cn,"/new-str"),{category:e,sub_cat:t,date:a}).then((function(e){var t=e.data;n(t)}))}catch(i){r(i)}}))}},{key:"UpdateCountedStock",value:function(e,t){return p.a.post("".concat(Cn,"/stc-update-items/").concat(e),{data:t})}},{key:"CompleteReportChanges",value:function(e){return p.a.get("".concat(Cn,"/complete/").concat(e))}},{key:"GetPrintableReport",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Cn,"/stc-print/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GetPrintableHistoryReport",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Cn,"/stc-history-print/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}}]),e}(),An=Rn,Dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card",[a("v-card-title",[e._v("POST")]),a("v-card-actions",[a("v-spacer"),a("v-text-field",{attrs:{label:"Document ID",hint:"Enter Document name what do you want to update"},model:{value:e.document_id,callback:function(t){e.document_id=t},expression:"document_id"}}),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.postDocument()}}},[e._v("POST")]),a("v-spacer")],1)],1),a("v-card",[a("v-card-title",[e._v("History")]),a("v-data-table",{attrs:{items:e.historyReports,headers:e.historyHeader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_in_printer(n)}}},[a("v-icon",[e._v("mdi-printer-pos")])],1)]}},{key:"item.category",fn:function(t){var n=t.item;return[a("p",[0==n.cat?a("span",[e._v("ALL")]):a("span",[e._v(e._s(n.cat))])])]}},{key:"item.sub_category",fn:function(t){var n=t.item;return[a("p",[0==n.sub_cat?a("span",[e._v("ALL")]):a("span",[e._v(e._s(n.sub_cat))])])]}}])})],1),a("v-dialog",{attrs:{fullscreen:""},model:{value:e.printer_view,callback:function(t){e.printer_view=t},expression:"printer_view"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Stock Count Report")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.print_doc()}}},[a("v-icon",[e._v("mdi-printer-pos")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.printer_view=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("div",{attrs:{id:"print_area"}},[a("div",{staticStyle:{"text-align":"center","border-bottom":"2px solid #000000"}},[a("h2",[e._v("Stock Count Report")])]),null!=e.all_report_data&&null!=e.staged_data?a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("p",[a("b",[e._v("ID : "+e._s(e.staged_data.id)+" "),a("br"),e._v(" Category : ")]),0==e.staged_data.cat?a("span",[e._v("ALL")]):a("span",[e._v(e._s(e.staged_data.cat))]),a("br"),a("b",[e._v("Sub Category : ")]),0==e.staged_data.sub_cat?a("span",[e._v("ALL")]):a("span",[e._v(e._s(e.staged_data.sub_cat))])])]),a("div",[a("p",[a("b",[e._v("Date begin")]),e._v(e._s(e.staged_data.date_begin))]),a("p",[a("b",[e._v("Date end")]),e._v(e._s(e.staged_data.date_end))])])]):e._e(),a("table",{staticStyle:{"border-collapse":"collapse",width:"100%"},attrs:{border:"1"}},[a("tr",[a("th",{staticStyle:{padding:"10px"}},[e._v("Item ID")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Category")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Sub Category")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Code")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Name")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Unit")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Sell Price")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Average Price")]),a("th",{staticStyle:{padding:"10px"}},[e._v("System Quantity")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Physical Quantity")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Variance Quantity")]),a("th",{staticStyle:{padding:"10px"}},[e._v("Variance Total")])]),e._l(e.all_report_data,(function(t){return a("tr",{key:t.id},[a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.id))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.category_name))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.sub_cat))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.code))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.name))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.unit))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.price))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.avg_price))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.last_system))]),a("td",{staticStyle:{"padding-top":"20px","text-align":"center"}},[e._v(e._s(t.last_physical))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.variance_qty))]),a("td",{staticStyle:{padding:"10px"}},[e._v(e._s(t.variance_total))])])}))],2),e._v(" "+e._s(e.address)+" ")])],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},Tn=[],Pn="/api/report",On=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"getStockValuationReport",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Pn,"/svr")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GETBinCard",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Pn,"/bin-card/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}},{key:"GetHistorySTC",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Pn,"/history-stc")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}}]),e}(),qn=On,Nn={name:"HistoryReport",data:function(){return{document_id:"",snackbar:!1,error:"",address:null,staged_data:null,all_report_data:null,timeout:2e3,printer_view:!1,historyReports:[],historyHeader:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Category",value:"category"},{text:"Sub Category",value:"sub_category"},{text:"Begin",value:"date_begin"},{text:"End",value:"date_end"}]}},created:function(){this.load_history()},methods:{print_doc:function(){this.$htmlToPaper("print_area")},view_in_printer:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.staged_data=e,a.next=3,An.GetPrintableHistoryReport(e.id);case 3:t.all_report_data=a.sent,t.printer_view=!0;case 5:case"end":return a.stop()}}),a)})))()},postDocument:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(Number(e.document_id)>0)){t.next=5;break}return t.next=3,An.CompleteReportChanges(e.document_id);case 3:t.next=7;break;case 5:e.error="Please Enter Valid ID",e.snackbar=!0;case 7:e.document_id="",e.load_history();case 9:case"end":return t.stop()}}),t)})))()},load_history:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,qn.GetHistorySTC();case 3:e.historyReports=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),e.error=t.t0.message,e.snackbar=!0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},jn=Nn,Gn=Object(k["a"])(jn,Dn,Tn,!1,null,null,null),En=Gn.exports;w()(Gn,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var Ln="/api",$n=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"GetDataSet",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Ln,"/").concat(e)).then((function(e){var a=e.data;t(a)}))}catch(n){a(n)}}))}},{key:"GetDataByID",value:function(e,t){return new Promise((function(a,n){try{p.a.get("".concat(Ln,"/").concat(e,"/").concat(t)).then((function(e){var t=e.data;a(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(r){n(r)}}))}}]),e}(),Fn=$n,Un={components:{HistoryReport:En},data:function(){return{snackbar:!1,done_alert:!1,timeout:2e3,print_data_list:[],print_doc_id:0,error:"",done_id:0,selected_cat:null,selected_type:null,editDocument:"",date_input:null,allCategories:[],allTypes:[],data_lists:[],data_list_headers:[{text:"ID",value:"id"},{text:"Category",value:"category_name"},{text:"Sub Category",value:"sub_cat"},{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Unit",value:"unit"},{text:"Price",value:"price"},{text:"Average Price",value:"avg_price"},{text:"System",value:"last_system"},{text:"Physical",value:"phy_data"},{text:"Variance",value:"var_qty"},{text:"Variance Total",value:"var_total"}]}},watch:{selected_cat:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.selected_cat){e.next=4;break}return e.next=3,Fn.GetDataByID("items/type",this.selected_cat.id);case 3:this.allTypes=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fn.GetDataSet("items/cats");case 2:e.allCategories=t.sent,null==localStorage.getItem("UserToken")&&e.$router.push("/");case 4:case"end":return t.stop()}}),t)})))()},methods:{changed:function(e){for(var t=0;t<this.data_lists.length;t++)this.data_lists[t].id==e.id&&(this.data_lists[t].variance_qty=Number(this.data_lists[t].last_physical)-Number(this.data_lists[t].last_system),this.data_lists[t].variance_total=Number(this.data_lists[t].variance_qty)*Number(this.data_lists[t].avg_price))},editDocumentLoad:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,An.GetPrintableReport(e.editDocument);case 2:e.data_lists=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getPrintableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,An.GetPrintableReport(e.print_doc_id);case 2:e.print_data_list=t.sent,console.log(e.print_data_list);case 4:case"end":return t.stop()}}),t)})))()},print_table:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("print_table");case 2:case"end":return t.stop()}}),t)})))()},commit_changes:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=[],n=!1,r=0;r<e.data_lists.length;r++)i={item:e.data_lists[r].id,document:e.data_lists[r].document,last_physical:e.data_lists[r].last_physical,variance_qty:e.data_lists[r].variance_qty,variance_total:e.data_lists[r].variance_total},null==i.variance_qty?n=!0:a=a.concat(i);if(n){t.next=10;break}return t.next=6,An.UpdateCountedStock(e.editDocument,a);case 6:e.error="Updated Successful!",e.snackbar=!0,t.next=14;break;case 10:return e.error="Threre are Not Updated Items, But All Updated Items Will Update",e.snackbar=!0,t.next=14,An.UpdateCountedStock(e.editDocument,a);case 14:return t.next=16,An.GetPrintableReport(e.editDocument);case 16:e.data_lists=t.sent;case 17:case"end":return t.stop()}}),t)})))()},generate:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.date_input){t.next=5;break}e.error="Please Insert Date",e.snackbar=!0,t.next=15;break;case 5:return null==e.selected_cat.id?(a="ALL",n="ALL"):null==e.selected_type.id?(a=e.selected_cat.id,n="ALL"):(a=e.selected_cat.id,n=e.selected_type.id),t.next=8,An.Generate(a,n,e.date_input);case 8:r=t.sent,e.done_id=r.id,e.done_alert=!0,e.selected_cat=null,e.selected_type=null,e.date_input=null,e.allTypes=[];case 15:case"end":return t.stop()}}),t)})))()}}},Bn=Un,Hn=a("adda"),Mn=Object(k["a"])(Bn,In,Vn,!1,null,"397897cb",null),Qn=Mn.exports;w()(Mn,{VApp:S["a"],VAppBar:Be["a"],VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VImg:Hn["a"],VMain:T["a"],VRow:P["a"],VSelect:Ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTab:Ne["a"],VTabItem:je["a"],VTabs:Ge["a"],VTextField:q["a"],VToolbarTitle:se["a"]});var Yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("v-toolbar",{attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",to:"/dashboard"}},[a("v-icon",[e._v("mdi-home")])],1),a("v-toolbar-title",[e._v("Petty Cash Book")]),a("v-spacer"),a("v-text-field",{model:{value:e.search_field,callback:function(t){e.search_field=t},expression:"search_field"}}),a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{text:""},on:{click:function(t){e.setoff_dialog=!0}}},[e._v("Set Off")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){e.expense_dialog=!0}}},[e._v("Expense")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){e.print_dialog=!0}}},[e._v("Print")])],1),a("v-card",{attrs:{flat:""}},[a("v-data-table",{attrs:{search:e.search_field,headers:e.pettyCashHeaders,items:e.petty_transactions}})],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.setoff_dialog,callback:function(t){e.setoff_dialog=t},expression:"setoff_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Set Off")]),a("v-select",{attrs:{items:e.all_accounts,"item-text":"name",label:"Account"},model:{value:e.setoff_account,callback:function(t){e.setoff_account=t},expression:"setoff_account"}}),a("v-text-field",{attrs:{label:"Reason"},model:{value:e.setoff_reason,callback:function(t){e.setoff_reason=t},expression:"setoff_reason"}}),a("v-text-field",{attrs:{label:"Amount",type:"Number",step:"0.01"},model:{value:e.setoff_amount,callback:function(t){e.setoff_amount=t},expression:"setoff_amount"}}),a("v-text-field",{attrs:{label:"Remarks"},model:{value:e.setoff_remarks,callback:function(t){e.setoff_remarks=t},expression:"setoff_remarks"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.setoff_dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.complete_setoff()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.expense_dialog,callback:function(t){e.expense_dialog=t},expression:"expense_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Expense")]),a("v-select",{attrs:{label:"Account",items:e.all_accounts,"item-text":"name"},model:{value:e.expense_account,callback:function(t){e.expense_account=t},expression:"expense_account"}}),a("v-select",{attrs:{label:"Type",items:e.expense_types,"item-text":"name"},model:{value:e.expensed_type,callback:function(t){e.expensed_type=t},expression:"expensed_type"}}),a("v-text-field",{attrs:{label:"Reason"},model:{value:e.expense_reason,callback:function(t){e.expense_reason=t},expression:"expense_reason"}}),a("v-text-field",{attrs:{label:"Amount",type:"Number",step:"0.01"},model:{value:e.expense_amount,callback:function(t){e.expense_amount=t},expression:"expense_amount"}}),a("v-textarea",{attrs:{outlined:"",label:"Remarks"},model:{value:e.remarks_expense,callback:function(t){e.remarks_expense=t},expression:"remarks_expense"}}),a("v-switch",{attrs:{inset:"",label:"Settled Already"},model:{value:e.expense_settled,callback:function(t){e.expense_settled=t},expression:"expense_settled"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.expense_dialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.complete_expense()}}},[e._v("Expense")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.print_dialog,callback:function(t){e.print_dialog=t},expression:"print_dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Print")]),a("v-select",{attrs:{items:e.printable_acc,"item-text":"name","item-value":"id"},model:{value:e.print_acc,callback:function(t){e.print_acc=t},expression:"print_acc"}}),a("v-select",{attrs:{items:e.print_type,"item-text":"name","item-value":"id"},model:{value:e.print_type_name,callback:function(t){e.print_type_name=t},expression:"print_type_name"}}),a("v-select",{attrs:{items:e.settle_options},model:{value:e.print_settle,callback:function(t){e.print_settle=t},expression:"print_settle"}}),a("v-select",{attrs:{items:e.transaction_options},model:{value:e.print_transaction,callback:function(t){e.print_transaction=t},expression:"print_transaction"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.print_transaction_data()}}},[e._v(" Print ")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{fullscreen:""},model:{value:e.documentation_dialog,callback:function(t){e.documentation_dialog=t},expression:"documentation_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Print Document")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.documentation_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("PettyPrint",{attrs:{items:e.print_data_list}})],1)],1)],1)],1)},zn=[],Wn="/api/petty",Jn=function(){function e(){Object(v["a"])(this,e)}return Object(m["a"])(e,null,[{key:"AddAccount",value:function(e,t,a){return p.a.post("".concat(Wn,"/add-account"),{code:e,name:t,amount:a})}},{key:"AddType",value:function(e,t){return p.a.post("".concat(Wn,"/create-type"),{name:e,account:t})}},{key:"Expense",value:function(e,t,a,n,r,i){return p.a.post("".concat(Wn,"/expense"),{account:e,type:t,reason:a,amount:n,remarks:r,settle:i})}},{key:"SetOff",value:function(e,t,a,n,r){return p.a.post("".concat(Wn,"/setoff"),{account:e,reason:t,amount:a,remarks:n,settle:r})}},{key:"GetTransactions",value:function(e,t,a,n){return new Promise((function(r,i){try{p.a.post("".concat(Wn,"/get-transactions"),{account:e,type:t,settled:a,tr_type:n}).then((function(e){var t=e.data;r(t.map((function(e){return Object(u["a"])({},e)})))}))}catch(s){i(s)}}))}},{key:"GetAllAccounts",value:function(){return new Promise((function(e,t){try{p.a.get("".concat(Wn,"/all-accounts")).then((function(t){var a=t.data;e(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(a){t(a)}}))}},{key:"GetTypeByAccount",value:function(e){return new Promise((function(t,a){try{p.a.get("".concat(Wn,"/types-by-acc/").concat(e)).then((function(e){var a=e.data;t(a.map((function(e){return Object(u["a"])({},e)})))}))}catch(n){a(n)}}))}}]),e}(),Xn=Jn,Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.print()}}},[e._v("Print")])],1),a("div",{attrs:{id:"printable"}},[a("h2",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif"}},[e._v("Petty Cash Report")]),a("table",{staticStyle:{width:"100%",border:"1px solid black","border-collapse":"collapse","font-family":"Arial, Helvetica, sans-serif"}},[a("tr",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("ID")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Transaction Type")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Account")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Type")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Reason")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Amount")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Remarks")]),a("th",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v("Settle")])]),e._l(e.items,(function(t){return a("tr",{key:t.id,staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.id))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.transaction_type))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.account_name))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.type_name))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.reason))]),a("td",{staticStyle:{"text-align":"right",border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.amount))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.remarks))]),a("td",{staticStyle:{border:"1px solid black","border-collapse":"collapse"}},[e._v(e._s(t.settle))])])}))],2)])],1)},Zn=[],er={props:["items"],methods:{print:function(){this.$htmlToPaper("printable")}}},tr=er,ar=(a("7af2"),Object(k["a"])(tr,Kn,Zn,!1,null,null,null)),nr=ar.exports;w()(ar,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VSpacer:ne["a"]});var rr={name:"PettyCash",components:{PettyPrint:nr},data:function(){return{search_field:"",documentation_dialog:!1,setoff_account:"",settle_options:["Settled","Not Settled","Both"],transaction_options:["Expense","Settlements","Both"],print_acc:null,print_dialog:!1,setoff_reason:"",setoff_amount:"",setoff_remarks:"",setoff_dialog:!1,expense_dialog:!1,all_accounts:[],expense_account:"",pettyCashHeaders:[{text:"ID",value:"id"},{text:"Transaction",value:"transaction_type"},{text:"Account",value:"account_name"},{text:"Type",value:"type_name"},{text:"Reason",value:"reason"},{text:"Amount",value:"amount"},{text:"Settle",value:"settle"}],petty_transactions:[],expense_types:[],expensed_type:null,expense_reason:"",expense_amount:0,remarks_expense:"",expense_settled:!1,print_type:[],print_type_name:null,print_settle:null,print_transaction:null,printable_acc:[],print_data_list:[]}},watch:{expense_account:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=null,a=0;a<this.all_accounts.length;a++)this.all_accounts[a].name==this.expense_account&&(t=this.all_accounts[a].id);if(null==t){e.next=6;break}return e.next=5,Xn.GetTypeByAccount(t);case 5:this.expense_types=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),print_dialog:function(){var e={id:0,name:"ALL"};this.printable_acc=this.all_accounts,this.printable_acc=this.printable_acc.concat(e)},print_acc:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.print_acc,null==t){e.next=6;break}return e.next=4,Xn.GetTypeByAccount(t);case 4:this.print_type=e.sent,this.print_type=this.print_type.concat({id:0,name:"ALL"});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},methods:{print_transaction_data:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.print_dialog=!1,a="",n="",r="",i="",s=!1,null==e.print_acc?s=!0:0==e.print_acc?(a="ALL",n="ALL"):(a=e.print_acc,null==e.print_type_name?s=!0:n=0==e.print_type_name?"ALL":e.print_type_name),"Both"==e.print_settle?r="ALL":"Settled"==e.print_settle?r="YES":"Not Settled"==e.print_settle?r="NO":s=!0,"Both"==e.print_transaction?i="ALL":"Expense"==e.print_transaction?i="OUT":"Settlements"==e.print_transaction?i="IN":s=!0,s){t.next=14;break}return t.next=12,Xn.GetTransactions(a,n,r,i);case 12:e.print_data_list=t.sent,e.documentation_dialog=!0;case 14:case"end":return t.stop()}}),t)})))()},complete_expense:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=null,n=0;n<e.all_accounts.length;n++)e.all_accounts[n].name==e.expense_account&&(a=e.all_accounts[n].id);if(r=null,null!=a)for(i=0;i<e.expense_types.length;i++)e.expense_types[i].account==a&&(r=e.expense_types[i].id);if(s=null,null!=r&&(s=e.expense_settled?"YES":"NO"),null==s){t.next=9;break}return t.next=9,Xn.Expense(a,r,e.expense_reason,e.expense_amount,e.remarks_expense,s);case 9:e.expense_dialog=!1,e.get_all_transactions(),e.expense_account=null,e.expensed_type=null,e.expense_reason="",e.expense_amount=0,e.remarks_expense="",e.expense_settled=!1;case 17:case"end":return t.stop()}}),t)})))()},get_all_transactions:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn.GetTransactions("ALL","ALL","ALL","ALL");case 2:e.petty_transactions=t.sent;case 3:case"end":return t.stop()}}),t)})))()},complete_setoff:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=0,n=0;n<e.all_accounts.length;n++)e.all_accounts[n].name==e.setoff_account&&(a=e.all_accounts[n].id);if(0==a){t.next=7;break}return t.next=5,Xn.SetOff(a,e.setoff_reason,e.setoff_amount,e.setoff_remarks,"YES");case 5:e.get_all_transactions(),e.setoff_dialog=!1;case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn.GetAllAccounts();case 2:e.all_accounts=t.sent,e.get_all_transactions();case 4:case"end":return t.stop()}}),t)})))()}},ir=rr,sr=Object(k["a"])(ir,Yn,zn,!1,null,null,null),cr=sr.exports;w()(sr,{VApp:S["a"],VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VMain:T["a"],VSelect:Ae["a"],VSpacer:ne["a"],VSwitch:re["a"],VTextField:q["a"],VTextarea:De["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dark:""}},[a("v-btn",{attrs:{to:"/dashboard",icon:""}},[a("v-icon",[e._v("mdi-home")])],1),a("v-toolbar-title",[e._v("Add "+e._s(e.selection))])],1),a("v-main",["Items"==e.selection?a("Items"):e._e(),"Suppliers"==e.selection?a("Stakes",{attrs:{type:"Suppliers"}}):e._e(),"Customers"==e.selection?a("Stakes",{attrs:{type:"Customer"}}):e._e(),"VAT"==e.selection?a("Vat"):e._e(),"Petty Cash"==e.selection?a("Create"):e._e(),"Main Expenses"==e.selection?a("ManageMain"):e._e()],1)],1)},lr=[],dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-tabs",[a("v-tab",[e._v(" Items ")]),a("v-tab",[e._v(" Categories & types ")]),a("v-tab-item",[a("v-card",{staticStyle:{padding:"1rem",margin:"1rem"}},[a("v-card-actions",[a("v-card-title",[e._v("All Items")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_item_list,callback:function(t){e.search_item_list=t},expression:"search_item_list"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.items,search:e.search_item_list,"item-key":"_id",headers:e.itheader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("div",[e.cp&&"ACTIVE"==n.sttatus&&0==n.rep_block?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.DeleteItem(n.id)}}},[a("v-icon",[e._v("mdi-close-octagon")])],1):e._e(),e.cp&&"DEACTIVE"==n.sttatus&&0==n.rep_block?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.ActivateItem(n.id)}}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e()],1)]}},{key:"item.status",fn:function(t){var n=t.item;return[a("div",["ACTIVE"==n.sttatus?a("v-chip",{attrs:{label:""}},[e._v("Active")]):e._e(),"DEACTIVE"==n.sttatus&&1==n.rep_block?a("v-chip",{attrs:{label:""}},[e._v("Report Progress")]):e._e(),"DEACTIVE"==n.sttatus&&0==n.rep_block?a("v-chip",{attrs:{label:""}},[e._v("Deactivated")]):e._e()],1)]}}])}),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.newItemDialog,callback:function(t){e.newItemDialog=t},expression:"newItemDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add New Items")]),a("v-text-field",{attrs:{label:"Code"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),a("v-text-field",{attrs:{label:"Name"},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}}),a("v-textarea",{attrs:{label:"Description","auto-grow":"",outlined:"",rows:"4","row-height":"25",shaped:""},model:{value:e.itemDescription,callback:function(t){e.itemDescription=t},expression:"itemDescription"}}),a("v-select",{attrs:{items:e.CategoryNames,label:"Select Category",filled:""},model:{value:e.sellcattt,callback:function(t){e.sellcattt=t},expression:"sellcattt"}}),a("v-select",{attrs:{items:e.typeNames,label:"Select Type",filled:""},model:{value:e.selltypee,callback:function(t){e.selltypee=t},expression:"selltypee"}}),a("v-select",{attrs:{items:e.sunits,filled:"",label:"Unit"},model:{value:e.unitSelection,callback:function(t){e.unitSelection=t},expression:"unitSelection"}}),a("v-text-field",{attrs:{type:"number",step:"0.001",filled:"",label:"Available Quantity"},model:{value:e.itqty,callback:function(t){e.itqty=t},expression:"itqty"}}),a("v-text-field",{attrs:{type:"number",step:"0.01",filled:"",label:"Unit Price (Sale)"},model:{value:e.itup,callback:function(t){e.itup=t},expression:"itup"}}),a("v-text-field",{attrs:{step:"0.01",type:"Number",filled:"",label:"Unit Value"},model:{value:e.unit_value,callback:function(t){e.unit_value=t},expression:"unit_value"}}),a("v-text-field",{attrs:{label:"Discount",filled:""},model:{value:e.itdisc,callback:function(t){e.itdisc=t},expression:"itdisc"}}),e.progress?a("v-progress-linear",{attrs:{indeterminate:"",color:"black"}}):e._e(),a("v-card-actions",[a("v-btn",{attrs:{text:""},on:{click:function(t){e.newItemDialog=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.AddItem()}}},[e._v("Add")])],1)],1)],1),e.cp?a("v-btn",{attrs:{fab:"",dark:"",color:"primary",fixed:"",right:"",small:"",bottom:""},on:{click:function(t){return e.newItemAdd()}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e()],1)],1),e.gp?a("v-tab-item",[a("v-container",[a("v-row",[a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Categories")]),a("v-spacer"),a("v-text-field",{attrs:{width:"20rem",label:"search or add Category","prepend-inner-icon":"mdi-magnify"},model:{value:e.newcat,callback:function(t){e.newcat=t},expression:"newcat"}}),a("v-btn",{staticStyle:{margin:"1rem"},attrs:{dark:"",fab:"",small:"",color:"primary"},on:{click:function(t){return e.AddNewCat()}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{search:e.newcat,headers:e.catHeads,items:e.categories},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[a("div",[a("v-btn",{staticStyle:{"margin-right":"5px"},attrs:{color:"lime darken-3",icon:""},on:{click:function(t){return t.stopPropagation(),e.vtype(n.id)}}},[a("v-icon",[e._v("mdi-filter-variant")])],1)],1)]}}],null,!1,977535206)})],1)],1),a("v-col",{attrs:{xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[e.viewType?a("div",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Sub Categories")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search or add new Sub Category","prepend-inner-icon":"mdi-magnify"},model:{value:e.newType,callback:function(t){e.newType=t},expression:"newType"}}),a("v-btn",{attrs:{fab:"",small:"",margin:"1rem",color:"primary"},on:{click:function(t){return e.AddNewType()}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{headers:e.typHeads,search:e.newType,items:e.types}})],1)],1):e._e()])],1)],1)],1):e._e()],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.questDialog,callback:function(t){e.questDialog=t},expression:"questDialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[e._v(" Are you sure deactive this Item ? "),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.blockItem()}}},[e._v("Yes")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.questDialog=!1}}},[e._v("No")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},ur=[],vr={name:"Items",data:function(){return{questDialog:!1,newItemDialog:!1,itqty:0,itup:0,itdisc:"",code:"",e6:1,snackbar:!1,error:"",progress:!1,timeout:2e3,unit_value:0,newcat:"",search_item_list:"",newType:"",categories:[],CategoryNames:[],typeNames:[],itemName:"",itemDescription:"",catSelection:"",sellcattt:"",typeSelection:"",unitSelection:"",viewType:!1,types:[],items:[],selltypee:"",catoftypes:"",newItemName:"",newItemDescription:"",newItemUnit:"",sunits:["grams","meters","feet","purch","Liters","Nos"],catHeads:[{text:"Category",value:"name"},{text:"",value:"actions"}],typHeads:[{text:"Sub Category  ",value:"name"},{text:"",value:"actions"}],itheader:[{text:"",value:"controls"},{text:"category",value:"catrgory"},{text:"Sub Category",value:"typei"},{text:"ID",value:"id"},{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Unit",value:"unit"},{text:"Quantity",value:"quantity"},{text:"Ordered Quantity",value:"orders"},{text:"Price",value:"price"},{text:"Discount",value:"discount"},{text:"Status",value:"status"}],gp:!1,cp:!1,delItem:null}},watch:{sellcattt:function(){this.check()}},methods:{ActivateItem:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.ActivateItem(e);case 2:return a.next=4,Fn.GetDataSet("items/it");case 4:t.items=a.sent,t.error="Activated",t.snackbar=!0;case 7:case"end":return a.stop()}}),a)})))()},AddNewCat:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.newcat){t.next=9;break}return t.next=3,Jt.InsertCategory(e.newcat);case 3:return t.next=5,Fn.GetDataSet("items/cats");case 5:e.categories=t.sent,e.newcat="",t.next=11;break;case 9:e.error="Cannot Insert Category",e.snackbar=!0;case 11:case"end":return t.stop()}}),t)})))()},DeleteCategory:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.DeleteCategory(e);case 2:return a.next=4,Fn.GetDataSet("items/cats");case 4:t.categories=a.sent;case 5:case"end":return a.stop()}}),a)})))()},newItemAdd:function(){if(this.categories.length>0){for(var e=0;e<this.categories.length;e++)this.CategoryNames=this.CategoryNames.concat(this.categories[e].name);this.newItemDialog=!0}else this.error="You need to create least ont category and type",this.snackbar=!0},vtype:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.viewType=!0,t.catoftypes=e,a.next=4,Fn.GetDataByID("items/type",t.catoftypes);case 4:t.types=a.sent;case 5:case"end":return a.stop()}}),a)})))()},check:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a=0;a<e.categories.length;a++)e.categories[a].name==e.sellcattt&&(e.catSelection=e.categories[a].id);return t.next=3,Fn.GetDataByID("items/type",e.catSelection);case 3:for(e.types=t.sent,e.typeNames=[],n=0;n<e.types.length;n++)e.typeNames=e.typeNames.concat(e.types[n].name);case 6:case"end":return t.stop()}}),t)})))()},AddNewType:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==e.newType){t.next=9;break}return t.next=3,Jt.InsertType(e.catoftypes,e.newType);case 3:return t.next=5,Fn.GetDataByID("items/type",e.catoftypes);case 5:e.types=t.sent,e.newType="",t.next=11;break;case 9:e.error="Cannot Insert Empty Sub Category!",e.snackbar=!0;case 11:case"end":return t.stop()}}),t)})))()},RemType:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Jt.DeleteType(t.catoftypes,e);case 2:return a.next=4,Fn.GetDataByID("items/type",t.catoftypes);case 4:t.types=a.sent;case 5:case"end":return a.stop()}}),a)})))()},AddItem:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.progress=!0,a=0,n=0;n<e.types.length;n++)e.types[n].name==e.selltypee&&(a=e.types[n].id);if(""==e.unit_value&&(e.unit_value=0),!(a>0)){t.next=7;break}return t.next=7,Jt.InsertItem(e.code,e.itemName,e.itemDescription,e.unitSelection,e.sellcattt,a,e.itqty,e.itup,e.itdisc,e.unit_value);case 7:return e.code="",e.itemName="",e.itemDescription="",e.unitSelection="",e.typeSelection="",e.catSelection="",e.e6=1,e.itqty=0,e.itup=0,e.itdisc="",t.next=16,Fn.GetDataSet("items/it");case 16:e.items=t.sent,e.progress=!1,e.newItemDialog=!1;case 19:case"end":return t.stop()}}),t)})))()},blockItem:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.DeleteItem(e.delItem);case 2:return t.next=4,Fn.GetDataSet("items/it");case 4:e.items=t.sent,e.questDialog=!1;case 6:case"end":return t.stop()}}),t)})))()},DeleteItem:function(e){this.delItem=e,this.questDialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.state.permissions;case 2:if(a=t.sent,0!=a.length){t.next=8;break}return e.$store.commit("checkpermissions",localStorage.getItem("UserToken")),t.next=7,e.$store.state.permissions;case 7:a=t.sent;case 8:return t.next=10,e.$store.state.permissions;case 10:for(a=t.sent,n=0;n<a.length;n++)"Grouping Items"==a[n].permission&&(e.gp=!0),"Change Items"==a[n].permission&&(e.cp=!0);return t.next=14,Fn.GetDataSet("items/cats");case 14:return e.categories=t.sent,t.next=17,Fn.GetDataSet("items/it");case 17:e.items=t.sent;case 18:case"end":return t.stop()}}),t)})))()}},mr=vr,_r=Object(k["a"])(mr,dr,ur,!1,null,null,null),pr=_r.exports;w()(_r,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VCol:R["a"],VContainer:A["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VProgressLinear:St["a"],VRow:P["a"],VSelect:Ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTab:Ne["a"],VTabItem:je["a"],VTabs:Ge["a"],VTextField:q["a"],VTextarea:De["a"]});var hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticStyle:{padding:"2rem",margin:"2rem"}},[a("v-card-title",[e._v(e._s(e.type)+" List")]),a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.sellers,headers:e.headers,"item-key":"name"},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("div",[e.editable&&"ACTIVE"==n.status?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.Remove(n.id)}}},[a("v-icon",[e._v("mdi-close-octagon")])],1):e._e(),e.editable&&"DEACTIVE"==n.status?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.s_tart(n.id)}}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e()],1)]}},{key:"item.status",fn:function(t){var n=t.item;return[a("div",["ACTIVE"==n.status?a("v-chip",{attrs:{label:""}},[e._v("Active")]):e._e(),"DEACTIVE"==n.status?a("v-chip",{attrs:{label:""}},[e._v("Deactive")]):e._e()],1)]}}])})],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("New "+e._s(e.type))]),a("v-text-field",{attrs:{label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Address Line 1"},model:{value:e.address1,callback:function(t){e.address1=t},expression:"address1"}}),a("v-text-field",{attrs:{label:"Address Line 2"},model:{value:e.address2,callback:function(t){e.address2=t},expression:"address2"}}),a("v-text-field",{attrs:{label:"Address Line 3"},model:{value:e.address3,callback:function(t){e.address3=t},expression:"address3"}}),a("v-text-field",{attrs:{label:"E-mail"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Telephone"},model:{value:e.telephone,callback:function(t){e.telephone=t},expression:"telephone"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!e.dialog}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.insertStake()}}},[e._v("Create")])],1)],1)],1),e.editable?a("v-btn",{attrs:{fab:"",dark:"",color:"primary",fixed:"",right:"",bottom:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e(),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},fr=[],br={name:"Stakes",props:["type"],data:function(){return{name:"",address1:"",address2:"",address3:"",dialog:!1,snackbar:!1,timeout:2e3,error:"",email:"",telephone:"",sellers:[],singleSelect:!0,selected:[],headers:[{text:"",value:"controls",sortable:!1},{text:"Name",sortable:!1,value:"name"},{text:"Addressline1",value:"address1"},{text:"Addressline2",value:"address2"},{text:"Addressline3",value:"address3"},{text:"email",value:"email"},{text:"Telephone",value:"telephone"},{text:"Status",value:"status"}],editable:!1}},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.GetAllStakes(e.type);case 2:return e.sellers=t.sent,e.$store.commit("checkpermissions",localStorage.getItem("UserToken")),t.next=6,e.$store.state.permissions;case 6:for(a=t.sent,n=0;n<a.length;n++)"Suppliers"==e.type&&"Change Suppliers"==a[n].permission&&(e.editable=!0),"Customer"==e.type&&"Change Customers"==a[n].permission&&(e.editable=!0);case 8:case"end":return t.stop()}}),t)})))()},methods:{insertStake:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.InsertNewStake(e.name,e.address1,e.address2,e.address3,e.email,e.telephone,e.type);case 2:return e.name="",e.address1="",e.address2="",e.address3="",e.email="",e.telephone="",e.dialog=!1,t.next=11,B.GetAllStakes(e.type);case 11:e.sellers=t.sent,e.error="Success Insertion",e.snackbar=!0;case 14:case"end":return t.stop()}}),t)})))()},s_tart:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.StartStake(e);case 2:return a.next=4,B.GetAllStakes(t.type);case 4:t.sellers=a.sent;case 5:case"end":return a.stop()}}),a)})))()},Remove:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,B.RemoveStake(e);case 2:return a.next=4,B.GetAllStakes(t.type);case 4:t.sellers=a.sent;case 5:case"end":return a.stop()}}),a)})))()}}},gr=br,xr=Object(k["a"])(gr,hr,fr,!1,null,null,null),kr=xr.exports;w()(xr,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VChip:pe["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSnackbar:O["a"],VTextField:q["a"]});var yr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{attrs:{items:e.allVats,headers:e.headers,"item-key":"_id"},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("div",[1==n.active?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteVat(n.id)}}},[a("v-icon",[e._v("mdi-close-octagon")])],1):e._e(),0==n.active?a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.start_vat(n.id)}}},[a("v-icon",[e._v("mdi-check-circle")])],1):e._e()],1)]}},{key:"item.status",fn:function(t){var n=t.item;return[a("div",[1==n.active?a("v-chip",{attrs:{label:""}},[e._v("Active")]):e._e(),0==n.active?a("v-chip",{attrs:{label:""}},[e._v("Deactive")]):e._e()],1)]}}])}),a("v-btn",{attrs:{fixed:"",right:"",fab:"",bottom:"",color:"primary",dark:""},on:{click:function(t){e.addVat=!0}}},[a("v-icon",[e._v("mdi-plus")])],1),a("v-dialog",{attrs:{"max-width":"30rem"},model:{value:e.addVat,callback:function(t){e.addVat=t},expression:"addVat"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-select",{attrs:{items:e.invoices,label:"Invoice Type"},model:{value:e.invoiceType,callback:function(t){e.invoiceType=t},expression:"invoiceType"}}),a("v-text-field",{attrs:{label:"Name"},model:{value:e.invName,callback:function(t){e.invName=t},expression:"invName"}}),a("v-text-field",{attrs:{label:"Percentage"},model:{value:e.percent,callback:function(t){e.percent=t},expression:"percent"}}),a("v-select",{attrs:{items:e.action,label:"Action"},model:{value:e.actio,callback:function(t){e.actio=t},expression:"actio"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.addVat=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(t){return e.addNewVat()}}},[e._v("Add")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",n,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.error)+" ")])],1)},wr=[],Sr={name:"Vat",data:function(){return{addVat:!1,invoices:["nvat","vat","svat"],action:["Calculate","Nothing"],allVats:[],headers:[{text:"",value:"controls"},{text:"Name",value:"name"},{text:"Invoice",value:"invoice"},{text:"Percentage",value:"percentage"},{text:"Action",value:"action"},{text:"Status",value:"status"}],invoiceType:"",invName:"",percent:"",actio:"",snackbar:!1,timeout:2e3,error:"",selectedVats:[]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ta.ViewAllVats();case 2:e.allVats=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{addNewVat:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ta.CreateVat(e.invoiceType,e.invName,e.percent,e.actio);case 2:return e.invName="",e.percent="",e.addVat=!1,e.error="Success!",e.snackbar=!0,t.next=9,ta.ViewAllVats();case 9:e.allVats=t.sent;case 10:case"end":return t.stop()}}),t)})))()},start_vat:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ta.startVatAgain(e);case 2:return a.next=4,ta.ViewAllVats();case 4:t.allVats=a.sent;case 5:case"end":return a.stop()}}),a)})))()},deleteVat:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ta.DeleteVat(e);case 2:return t.selectedVats=[],t.error="Success!",t.snackbar=!0,a.next=7,ta.ViewAllVats();case 7:t.allVats=a.sent;case 8:case"end":return a.stop()}}),a)})))()}}},Ir=Sr,Vr=Object(k["a"])(Ir,yr,wr,!1,null,null,null),Cr=Vr.exports;w()(Vr,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VChip:pe["a"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSelect:Ae["a"],VSnackbar:O["a"],VSpacer:ne["a"],VTextField:q["a"]});var Rr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-conainer",[a("v-row",[a("v-col",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Account")]),a("v-spacer"),a("v-text-field",{attrs:{label:"search"},model:{value:e.search_acc,callback:function(t){e.search_acc=t},expression:"search_acc"}}),a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:"",small:"",fab:""},on:{click:function(t){e.add_acc_diag=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{search:e.search_acc,headers:e.acc_head,items:e.all_accounts},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.get_types(n.id)}}},[a("v-icon",[e._v("mdi-filter-variant")])],1)]}}])})],1)],1),a("v-col",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Transaction Types")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.type_search,callback:function(t){e.type_search=t},expression:"type_search"}}),null!=e.selected_acc?a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:"",small:"",fab:""},on:{click:function(t){e.add_type_diag=!0}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e()],1),a("v-data-table",{attrs:{search:e.type_search,headers:e.type_head,items:e.types}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.add_acc_diag,callback:function(t){e.add_acc_diag=t},expression:"add_acc_diag"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Account")]),a("v-divider"),a("v-text-field",{attrs:{label:"Code"},model:{value:e.new_acc_code,callback:function(t){e.new_acc_code=t},expression:"new_acc_code"}}),a("v-text-field",{attrs:{label:"Name"},model:{value:e.new_acc_name,callback:function(t){e.new_acc_name=t},expression:"new_acc_name"}}),a("v-text-field",{attrs:{label:"Margin",type:"Number",step:"0.01"},model:{value:e.new_acc_margin,callback:function(t){e.new_acc_margin=t},expression:"new_acc_margin"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.add_acc_diag=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.create_account()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.add_type_diag,callback:function(t){e.add_type_diag=t},expression:"add_type_diag"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Type")]),a("v-text-field",{attrs:{label:"name"},model:{value:e.new_type_name,callback:function(t){e.new_type_name=t},expression:"new_type_name"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.add_type_diag=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.add_new_type()}}},[e._v("Add")])],1)],1)],1)],1)},Ar=[],Dr={name:"Create",data:function(){return{type_search:"",all_accounts:[],add_acc_diag:!1,new_type_name:"",selected_acc:null,new_acc_code:"",add_type_diag:!1,new_acc_name:"",new_acc_margin:"",search_acc:"",types:[],type_head:[{text:"Name",value:"name"}],acc_head:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Code",value:"code"},{text:"Name",value:"name"},{text:"Margin",value:"amount"}]}},methods:{get_all_accounts:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn.GetAllAccounts();case 2:e.all_accounts=t.sent;case 3:case"end":return t.stop()}}),t)})))()},create_account:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn.AddAccount(e.new_acc_code,e.new_acc_name,e.new_acc_margin);case 2:e.get_all_accounts(),e.add_acc_diag=!1;case 4:case"end":return t.stop()}}),t)})))()},get_types:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.selected_acc=e,a.next=3,Xn.GetTypeByAccount(e);case 3:t.types=a.sent;case 4:case"end":return a.stop()}}),a)})))()},add_new_type:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn.AddType(e.new_type_name,e.selected_acc);case 2:e.get_types(e.selected_acc),e.add_type_diag=!1;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.get_all_accounts()}},Tr=Dr,Pr=Object(k["a"])(Tr,Rr,Ar,!1,null,null,null),Or=Pr.exports;w()(Pr,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VRow:P["a"],VSpacer:ne["a"],VTextField:q["a"]});var qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-conainer",[a("v-row",[a("v-col",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Account")]),a("v-spacer"),a("v-text-field",{attrs:{label:"search"},model:{value:e.search_acc,callback:function(t){e.search_acc=t},expression:"search_acc"}}),a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:"",small:"",fab:""},on:{click:function(t){e.add_acc_diag=!0}}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-data-table",{attrs:{search:e.search_acc,headers:e.acc_head,items:e.all_accounts},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.get_types(n.id)}}},[a("v-icon",[e._v("mdi-filter-variant")])],1)]}}])})],1)],1),a("v-col",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Transaction Types")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.type_search,callback:function(t){e.type_search=t},expression:"type_search"}}),null!=e.selected_acc?a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{dark:"",small:"",fab:""},on:{click:function(t){e.add_type_diag=!0}}},[a("v-icon",[e._v("mdi-plus")])],1):e._e()],1),a("v-data-table",{attrs:{search:e.type_search,headers:e.type_head,items:e.types}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.add_acc_diag,callback:function(t){e.add_acc_diag=t},expression:"add_acc_diag"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Account")]),a("v-divider"),a("v-text-field",{attrs:{label:"Code"},model:{value:e.new_acc_code,callback:function(t){e.new_acc_code=t},expression:"new_acc_code"}}),a("v-text-field",{attrs:{label:"Name"},model:{value:e.new_acc_name,callback:function(t){e.new_acc_name=t},expression:"new_acc_name"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.add_acc_diag=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.create_account()}}},[e._v("Add")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"20rem"},model:{value:e.add_type_diag,callback:function(t){e.add_type_diag=t},expression:"add_type_diag"}},[a("v-card",{staticStyle:{padding:"1rem"}},[a("v-card-title",[e._v("Add Type")]),a("v-text-field",{attrs:{label:"name"},model:{value:e.new_type_name,callback:function(t){e.new_type_name=t},expression:"new_type_name"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.add_type_diag=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{dark:""},on:{click:function(t){return e.add_new_type()}}},[e._v("Add")])],1)],1)],1)],1)},Nr=[],jr={name:"Create",data:function(){return{type_search:"",all_accounts:[],add_acc_diag:!1,new_type_name:"",selected_acc:null,new_acc_code:"",add_type_diag:!1,new_acc_name:"",search_acc:"",types:[],type_head:[{text:"Name",value:"name"}],acc_head:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Code",value:"code"},{text:"Name",value:"name"}]}},methods:{get_all_accounts:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve.GetAllAccounts();case 2:e.all_accounts=t.sent;case 3:case"end":return t.stop()}}),t)})))()},create_account:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve.AddAccount(e.new_acc_code,e.new_acc_name);case 2:e.get_all_accounts(),e.new_acc_code="",e.new_acc_name="",e.add_acc_diag=!1;case 6:case"end":return t.stop()}}),t)})))()},get_types:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.selected_acc=e,a.next=3,Ve.GetTypeByAccount(e);case 3:t.types=a.sent;case 4:case"end":return a.stop()}}),a)})))()},add_new_type:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve.AddType(e.new_type_name,e.selected_acc);case 2:e.get_types(e.selected_acc),e.add_type_diag=!1;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.get_all_accounts()}},Gr=jr,Er=Object(k["a"])(Gr,qr,Nr,!1,null,null,null),Lr=Er.exports;w()(Er,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VCol:R["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:ia["a"],VIcon:ae["a"],VRow:P["a"],VSpacer:ne["a"],VTextField:q["a"]});var $r={props:["selection"],components:{Items:pr,Stakes:kr,Vat:Cr,Create:Or,ManageMain:Lr},data:function(){return{}},created:function(){return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{},watch:{}},Fr=$r,Ur=Object(k["a"])(Fr,or,lr,!1,null,null,null),Br=Ur.exports;w()(Ur,{VApp:S["a"],VAppBar:Be["a"],VBtn:I["a"],VIcon:ae["a"],VMain:T["a"],VToolbarTitle:se["a"]});var Hr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dark:""}},[a("v-btn",{attrs:{icon:"",to:"/dashboard"}},[a("v-icon",[e._v("mdi-home")])],1),a("v-toolbar-title",[e._v("Reports")])],1),a("v-main",[a("v-tabs",[a("v-tab",[e._v("Po List")]),a("v-tab",[e._v("GRN List")]),a("v-tab",[e._v("PRN List")]),a("v-tab",[e._v("Item Request List")]),a("v-tab",[e._v("Invoice List")]),a("v-tab",[e._v("Invoice Return List")]),a("v-tab",[e._v("Received Advances")]),a("v-tab",[e._v("Paid Advances")]),a("v-tab",[e._v("Stock Valuation Report")]),a("v-tab-item",[a("OrderChange")],1),a("v-tab-item",[a("GrnChange")],1),a("v-tab-item",[a("ChangeGren")],1),a("v-tab-item",[a("ChangeRequest")],1),a("v-tab-item",[a("ChangeInvoice")],1),a("v-tab-item",[a("ChangeReturn")],1),a("v-tab-item",[a("AdvanceList",{attrs:{type:"Customer"}})],1),a("v-tab-item",[a("AdvanceList",{attrs:{type:"Suppliers"}})],1),a("v-tab-item",[a("v-card",{attrs:{flat:""}},[a("v-card-actions",[a("v-card-title",[e._v("Stock Valuation Report")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{items:e.items,headers:e.itemHeaders,search:e.search},scopedSlots:e._u([{key:"item.handler",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.show_bin(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])})],1)],1)],1),a("v-dialog",{attrs:{fullscreen:""},model:{value:e.bin_dialog,callback:function(t){e.bin_dialog=t},expression:"bin_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.bin_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("BinCard",{attrs:{id:e.bin_id}})],1)],1)],1)],1)},Mr=[],Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-data-table",{attrs:{items:e.data_list,headers:e.data_headers}})],1)},Yr=[],zr={name:"BinCard",props:["id"],data:function(){return{data_list:[],data_headers:[{text:"Date",value:"date"},{text:"Purchase Qty",value:"in_quantity"},{text:"purchase Unit Price",value:"in_up"},{text:"Total Purchases",value:"in_total"},{text:"Sell Qty",value:"out_quantity"},{text:"Sell Unit Price",value:"out_up"},{text:"Total Sells",value:"out_total"},{text:"Total qty",value:"total_qty"},{text:"Total Cost",value:"total_cost"},{text:"Average Unit Cost",value:"avg_up"}]}},watch:{id:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,qn.GETBinCard(this.id);case 2:this.data_list=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qn.GETBinCard(e.id);case 2:e.data_list=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},Wr=zr,Jr=Object(k["a"])(Wr,Qr,Yr,!1,null,null,null),Xr=Jr.exports;w()(Jr,{VCard:V["a"],VDataTable:ee["a"]});var Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Good Receive Note")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.searchGrn,callback:function(t){e.searchGrn=t},expression:"searchGrn"}})],1),a("v-data-table",{attrs:{items:e.allGrns,headers:e.GrnHeaders,search:e.searchGrn},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_grn(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.print_grn_dialog,callback:function(t){e.print_grn_dialog=t},expression:"print_grn_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Good Receive Note")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.print_grn_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("GRNPrint",{attrs:{id:e.print_grn_id}})],1)],1)],1)},Zr=[],ei={components:{GRNPrint:pa},data:function(){return{searchGrn:"",allGrns:[],GrnHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Reference",value:"reference"},{text:"Supplier",value:"name"},{text:"Received Date",value:"rec_date"},{text:"Entered Date",value:"ent_date"},{text:"Purchase Order",value:"orders"},{text:"Invoice",value:"invoice"},{text:"Total",value:"total"},{text:"Final",value:"final"},{text:"Paid",value:"paid"}],print_grn_id:null,print_grn_dialog:!1}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X.GetAllDocuments();case 2:e.allGrns=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{view_grn:function(e){this.print_grn_id=e,this.print_grn_dialog=!0}}},ti=ei,ai=Object(k["a"])(ti,Kr,Zr,!1,null,null,null),ni=ai.exports;w()(ai,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Purchase Orders")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search",width:"10rem"},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1),a("v-data-table",{attrs:{search:e.searchTerm,items:e.allOrders,headers:e.allOrdersHeader},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_po(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.po_dialog,callback:function(t){e.po_dialog=t},expression:"po_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Purchase Order")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.po_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("POPrint",{attrs:{id:e.po_id}})],1)],1)],1)},ii=[],si={name:"OrderChange",components:{POPrint:Lt},data:function(){return{allOrders:[],searchTerm:"",allOrdersHeader:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Supplier",value:"name"},{text:"Required",value:"required"},{text:"Requested",value:"requested"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],po_id:null,po_dialog:!1}},methods:{view_po:function(e){this.po_id=e,this.po_dialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Nt.GETAllOrders();case 2:e.allOrders=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},ci=si,oi=Object(k["a"])(ci,ri,ii,!1,null,null,null),li=oi.exports;w()(oi,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Purchase Return Notes")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search_data,callback:function(t){e.search_data=t},expression:"search_data"}})],1),a("v-data-table",{attrs:{items:e.grenList,headers:e.grenListHeaders,search:e.search_data},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_print_doc(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.print_gren_dialog,callback:function(t){e.print_gren_dialog=t},expression:"print_gren_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("GRN Return Note")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.print_gren_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("GRENPrint",{attrs:{id:e.print_gren_id}})],1)],1)],1)},ui=[],vi={name:"ChangeGren",components:{GRENPrint:hn},data:function(){return{grenList:[],print_gren_id:null,search_data:"",print_gren_dialog:!1,grenListHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Reference",value:"code"},{text:"Date",value:"date"},{text:"Returned Date",value:"returned_date"},{text:"GRN",value:"grn"},{text:"Total",value:"total"},{text:"Remarks",value:"remarks"}]}},methods:{view_print_doc:function(e){this.print_gren_id=e,this.print_gren_dialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xa.getAllGren();case 2:e.grenList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},mi=vi,_i=Object(k["a"])(mi,di,ui,!1,null,null,null),pi=_i.exports;w()(_i,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Item Request Notes")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{items:e.allNotes,headers:e.noteHeaders,search:e.search},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_item_request(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.print_dialog,callback:function(t){e.print_dialog=t},expression:"print_dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Item Request")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.print_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("IREQPrint",{attrs:{id:e.print_id}})],1)],1)],1)],1)},fi=[],bi={components:{IREQPrint:Ua},name:"ChangeRequest",data:function(){return{allNotes:[],noteHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Requested Date",value:"reqdate"},{text:"Customer",value:"name"},{text:"Customer E-mail",value:"email"},{text:"Customer Telephone",value:"telephone"},{text:"Reference",value:"reference"},{text:"Customer Reference",value:"cusref"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],search:"",print_id:null,print_dialog:!1}},methods:{view_item_request:function(e){this.print_id=e,this.print_dialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Da.getAllRequests();case 2:e.allNotes=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},gi=bi,xi=Object(k["a"])(gi,hi,fi,!1,null,null,null),ki=xi.exports;w()(xi,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var yi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("All Invoices")]),a("v-spacer"),a("v-text-field",{attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{items:e.allNotes,headers:e.noteHeaders,search:e.search},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.viewInvoice(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.print_invoice_dialog,callback:function(t){e.print_invoice_dialog=t},expression:"print_invoice_dialog"}},[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Invoice")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.print_invoice_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("final",{attrs:{invoice:e.print_invoice_id}})],1)],1)],1)},wi=[],Si={components:{Final:Ca},name:"ChangeInvoice",data:function(){return{allNotes:[],search:"",noteHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Type",value:"type"},{text:"Date",value:"date"},{text:"Order",value:"prevdoc"},{text:"Customer",value:"name"},{text:"E-mail",value:"email"},{text:"Telephone",value:"telephone"},{text:"Total",value:"total"},{text:"Discount",value:"discount"},{text:"Final",value:"final"}],print_invoice_id:null,print_invoice_dialog:!1}},methods:{viewInvoice:function(e){this.print_invoice_id=e,this.print_invoice_dialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ta.GETAllInvoices();case 2:e.allNotes=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},Ii=Si,Vi=Object(k["a"])(Ii,yi,wi,!1,null,null,null),Ci=Vi.exports;w()(Vi,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var Ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("Item Return Note")]),a("v-spacer"),a("v-text-field",{attrs:{label:"search"},model:{value:e.searched,callback:function(t){e.searched=t},expression:"searched"}})],1),a("v-data-table",{attrs:{items:e.AllReturnNotes,headers:e.allItemHeaders,search:e.searched},scopedSlots:e._u([{key:"item.controls",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.view_return_document(n.id)}}},[a("v-icon",[e._v("mdi-file-document")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"60rem"},model:{value:e.print_dialog,callback:function(t){e.print_dialog=t},expression:"print_dialog"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[e._v("Item Return Note")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.print_dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("ItemReturnPrint",{attrs:{id:e.print_id}})],1)],1)],1)},Ai=[],Di={name:"ChangeReturn",components:{ItemReturnPrint:nn},data:function(){return{print_dialog:!1,print_id:null,AllReturnNotes:[],searched:"",allItemHeaders:[{text:"",value:"controls"},{text:"ID",value:"id"},{text:"Returned Date",value:"return_date"},{text:"Reference",value:"reference"},{text:"invoice ID",value:"invoice"},{text:"Amount",value:"returned_amount"}]}},methods:{view_return_document:function(e){this.print_id=e,this.print_dialog=!0}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xa.GetAllReturnNotes();case 2:e.AllReturnNotes=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},Ti=Di,Pi=Object(k["a"])(Ti,Ri,Ai,!1,null,null,null),Oi=Pi.exports;w()(Pi,{VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VSpacer:ne["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-actions",[a("v-card-title",[e._v("All Advances")]),a("v-spacer"),a("v-text-field",{model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),a("v-data-table",{attrs:{search:e.searchText,items:e.advanceList,headers:e.advanceHeader}})],1)},Ni=[],ji={name:"AdvanceList",props:["type"],data:function(){return{advanceList:[],searchText:"",advanceHeader:[{text:"ID",value:"id"},{text:"Date",value:"date"},{text:"Customer",value:"stake_name"},{text:"Customer E-mail",value:"email"},{text:"Cash",value:"cash"},{text:"Bank",value:"bank"},{text:"Cheque",value:"cheque"},{text:"Total",value:"total"},{text:"Available",value:"available"}]}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Q.GETAllAdvances(e.type);case 2:e.advanceList=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},Gi=ji,Ei=Object(k["a"])(Gi,qi,Ni,!1,null,null,null),Li=Ei.exports;w()(Ei,{VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VSpacer:ne["a"],VTextField:q["a"]});var $i={name:"Reports",components:{BinCard:Xr,OrderChange:li,AdvanceList:Li,GrnChange:ni,ChangeGren:pi,ChangeRequest:ki,ChangeInvoice:Ci,ChangeReturn:Oi},data:function(){return{search:"",items:[],itemHeaders:[{text:"",value:"handler"},{text:"ID",value:"id"},{text:"Code",value:"code"},{text:"Category",value:"category"},{text:"Type",value:"item_type"},{text:"Name",value:"name"},{text:"Unit",value:"unit"},{text:"Purchase Quantity",value:"purchases"},{text:"Sell Quantity",value:"sales"},{text:"Total Quantity",value:"quantity"},{text:"Unit Cost",value:"unit_cost"},{text:"Total Cost",value:"total_cost"},{text:"Average Unit Cost",value:"average_unit_cost"}],bin_dialog:!1,bin_id:null}},methods:{show_bin:function(e){this.bin_dialog=!0,this.bin_id=e}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qn.getStockValuationReport();case 2:e.items=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},Fi=$i,Ui=Object(k["a"])(Fi,Hr,Mr,!1,null,null,null),Bi=Ui.exports;w()(Ui,{VApp:S["a"],VAppBar:Be["a"],VBtn:I["a"],VCard:V["a"],VCardActions:C["a"],VCardTitle:C["c"],VDataTable:ee["a"],VDialog:te["a"],VIcon:ae["a"],VMain:T["a"],VSpacer:ne["a"],VTab:Ne["a"],VTabItem:je["a"],VTabs:Ge["a"],VTextField:q["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]}),n["a"].use(c["a"]);var Hi=[{path:"/",name:"Home",component:j},{path:"/reports",name:"Reports",component:Bi},{path:"/pettycash",name:"PettyCash",component:cr},{path:"/dashboard",name:"Dashboard",component:Xe},{path:"/settings",name:"Settings",component:Vt,props:!0},{path:"/str",name:"Stock Report",component:Qn},{path:"/add/:selection",name:"Add",component:Br,props:!0},{path:"/transactions/:docutype",name:"Transactions",component:Sn,props:!0}],Mi=new c["a"]({mode:"history",base:"/",routes:Hi}),Qi=Mi,Yi=a("7898"),zi=a.n(Yi),Wi=a("2f62");n["a"].use(Wi["a"]);var Ji=new Wi["a"].Store({state:{permissions:[],com_name:null,com_add1:null,com_add2:null,com_add3:null,com_add_email:null,com_add_telephone:null},mutations:{checkpermissions:function(e,t){e.permissions=b.GetUserPermissionList(t)},updateSettings:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n,r,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,at.getSetting("company_name");case 2:return a=t.sent,e.com_name=a[0].status,t.next=6,at.getSetting("address1");case 6:return n=t.sent,e.com_add1=n[0].status,t.next=10,at.getSetting("address2");case 10:return r=t.sent,e.com_add2=r[0].status,t.next=14,at.getSetting("address3");case 14:return i=t.sent,e.com_add3=i[0].status,t.next=18,at.getSetting("email");case 18:return s=t.sent,e.com_add_email=s[0].status,t.next=22,at.getSetting("tele");case 22:c=t.sent,e.com_add_telephone=c[0].status;case 24:case"end":return t.stop()}}),t)})))()}},actions:{},modules:{},getters:{getName:function(e){return e.com_name},getAddress:function(e){var t={add1:e.com_add1,add2:e.com_add2,add3:e.com_add3};return t},getEmail:function(e){return e.com_add_email},getTelephone:function(e){return e.com_add_telephone}}}),Xi=a("9483");Object(Xi["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),n["a"].config.productionTip=!1,n["a"].use(zi.a),new n["a"]({vuetify:s,router:Qi,store:Ji,render:function(e){return e(r["default"])}}).$mount("#app")},"5a74":function(e,t,a){"use strict";a("3a35")},"5c68":function(e,t,a){"use strict";a("469d")},6093:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},r=[]},6795:function(e,t,a){},"703b":function(e,t,a){"use strict";a("b6dc")},"71de":function(e,t,a){"use strict";a("ca8b")},"74fc":function(e,t,a){},"7af2":function(e,t,a){"use strict";a("6795")},"9bc7":function(e,t,a){"use strict";a("0dcc")},abcb:function(e,t,a){},ae7e:function(e,t,a){e.exports=a.p+"img/Done.4400d9b2.png"},b116:function(e,t,a){"use strict";a("abcb")},b6dc:function(e,t,a){},ca8b:function(e,t,a){},d0a3:function(e,t,a){},e7dc:function(e,t,a){"use strict";a("d0a3")},f24c:function(e,t,a){"use strict";a("74fc")}});
//# sourceMappingURL=app.065acd2e.js.map